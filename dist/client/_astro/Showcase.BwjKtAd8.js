import{j as o}from"./jsx-runtime.D_zvdyIk.js";import{r as a}from"./index.BVOCwoKb.js";const h=t=>new DOMParser().parseFromString(t,"text/html"),c=(t,e)=>t.querySelector(`meta[property="og:${e}"]`)?.getAttribute("content")||t.querySelector(`meta[property="${e}"]`)?.getAttribute("content")||t.querySelector(`meta[name="${e}"]`)?.getAttribute("content")||t.querySelector(`meta[property="twitter:${e}"]`)?.getAttribute("content")||t.querySelector(`meta[property="twitter:${e}:src"]`)?.getAttribute("content")||t.querySelector(e)?.textContent||void 0,g=(t,e)=>{const r=h(t),n=c(r,"description"),i=c(r,"theme-color"),s=c(r,"image"),l=c(r,"title")||new URL(e).hostname,d=s?s?.startsWith("http")?s:new URL(String(s),e).href:void 0;return{title:l,description:n,image:d,themeColor:i}},u=t=>fetch(`/api/proxy?uri=${encodeURIComponent(t)}`,{method:"GET"}).then(e=>e.text()).then(e=>g(e,t));function x(t){const[e,r]=a.useState({}),[n,i]=a.useState(),[s,m]=a.useState(!0);return a.useEffect(()=>{u(t).then(l=>r(l)).catch(l=>i(l)).finally(()=>m(!1))},[t]),[e,s,n]}function p(t){const[e]=x(t.url),r=e.image?`url(${e.image})`:void 0,n=e.themeColor||"#ededed";return o.jsx("a",{href:t.url,className:"flex flex-col text-pretty rounded-xl w-full hover:shadow-xl transform transition-transform duration-200 hover:scale-105 aspect-square shadow-lg overflow-hidden",style:{backgroundColor:n},children:o.jsx("div",{className:"flex flex-1 bg-cover bg-transparent bg-center aspect-square h-60 items-end shadow-md",style:{backgroundColor:e.themeColor||"black",backgroundImage:r},children:o.jsxs("div",{className:"flex w-full flex-col min-h-36 h-[34%] p-4 drop-shadow-lg justify-between bg-white shadow-md",children:[o.jsxs("span",{children:[o.jsx("p",{className:"text-gray-800 text-2xl md:txt-4xl p-0 font-bold m-0 text-ellipsis line-clamp-1",children:e.title}),o.jsx("p",{className:"text-base p-0 m-0 text-ellipsis text-gray-400 line-clamp-2",children:e.description})]}),o.jsx("p",{className:"text-base m-0 text-yellow-400",children:t.url})]})})})}const f=a.memo(p);function w({urls:t}){return console.log("[Showcase] Rendering with",t),o.jsx("div",{className:"grid flex-wrap justify-between grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-x-4 gap-y-4 items-center",children:t.map((e,r)=>o.jsx(f,{url:e},r))})}const S=a.memo(w);export{S as default};
