import{j as o}from"./jsx-runtime.D_zvdyIk.js";import{r as a}from"./index.Dy6lLLXr.js";const g=t=>new DOMParser().parseFromString(t,"text/html"),l=(t,e)=>t.querySelector(`meta[property="og:${e}"]`)?.getAttribute("content")||t.querySelector(`meta[property="${e}"]`)?.getAttribute("content")||t.querySelector(`meta[name="${e}"]`)?.getAttribute("content")||t.querySelector(`meta[property="twitter:${e}"]`)?.getAttribute("content")||t.querySelector(`meta[property="twitter:${e}:src"]`)?.getAttribute("content")||t.querySelector(e)?.textContent||void 0,h=(t,e)=>{const r=g(t),n=l(r,"description"),i=l(r,"theme-color"),s=l(r,"image"),c=l(r,"title")||new URL(e).hostname,d=s?s?.startsWith("http")?s:new URL(String(s),e).href:void 0;return{title:c,description:n,image:d,themeColor:i}},u=t=>fetch(`/api/proxy?uri=${encodeURIComponent(t)}`,{method:"GET"}).then(e=>e.text()).then(e=>h(e,t));function p(t){const[e,r]=a.useState({}),[n,i]=a.useState(),[s,m]=a.useState(!0);return a.useEffect(()=>{u(t).then(c=>r(c)).catch(c=>i(c)).finally(()=>m(!1))},[t]),[e,s,n]}function x(t){const[e]=p(t.url),r=e.image?`url(${e.image})`:void 0,n=e.themeColor||"#ededed";return o.jsxs("a",{href:t.url,className:"flex flex-col rounded-xl sm:w-full md:basis-1/3 hover:shadow-xl md:h-80 transform transition-transform duration-300 hover:scale-105 aspect-square shadow-lg overflow-clip",style:{backgroundColor:n},children:[o.jsx("div",{className:"flex flex-1 bg-cover bg-transparent bg-center aspect-square h-60 flex-grow items-center p-4 shadow-md",style:{backgroundColor:e.themeColor||"black",backgroundImage:r}}),o.jsxs("div",{className:"flex flex-col justify-center overflow-hidden py-2 h-20 px-4 drop-shadow-lg bg-white shadow-md",children:[o.jsx("p",{className:"text-normal text-gray-800 p-0 font-bold m-0 text-ellipsis line-clamp-1",children:e.title}),o.jsx("p",{className:"text-xs p-0 m-0 text-ellipsis text-gray-400 line-clamp-1",children:e.description}),o.jsx("p",{className:"text-xs font-medium m-0 text-yellow-400",children:t.url})]})]})}const f=a.memo(x);function w({urls:t}){return console.log("[Showcase] Rendering with",t),o.jsx("div",{className:"grid flex-wrap justify-between grid-cols-1 lg:grid-cols-3 gap-x-4 gap-y-4 items-center",children:t.map((e,r)=>o.jsx(f,{url:e},r))})}const S=a.memo(w);export{S as default};
