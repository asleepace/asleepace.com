<!DOCTYPE html><html lang="en"> <head><!-- Global Metadata --><meta charset="utf-8"><meta name="viewport" content="width=device-width,initial-scale=1"><link rel="icon" type="image/svg+xml" href="/favicon.svg"><meta name="generator" content="Astro v5.7.5"><!-- Font preloads --><link rel="preload" href="/fonts/atkinson-regular.woff" as="font" type="font/woff" crossorigin><link rel="preload" href="/fonts/atkinson-bold.woff" as="font" type="font/woff" crossorigin><!-- Scripts --><script type="text/javascript" src="/scripts/htmx.min.js"></script><!-- Canonical URL --><link rel="canonical" href="https://asleepace.com/blog/clever-extract-replace-algorithm/"><!-- Primary Meta Tags --><title>Clever Extract &amp; Replace Algorithm</title><meta name="title" content="Clever Extract &#38; Replace Algorithm"><meta name="description" content="A simple algorithm for extracting strings and replacing values written in TypeScript."><!-- Theme content --><!-- Yellow Theme --><!-- <meta name="theme-color" content="#f0b000"> --><meta name="theme-color" content="#FFFFFF"><meta name="apple-mobile-web-app-status-bar-style" content="black-translucent"><meta name="mobile-web-app-capable" content="yes"><meta name="msapplication-navbutton-color" content="#FFFFFF"><meta name="msapplication-TileColor" content="#FFFFFF"><!-- Open Graph / Facebook --><meta property="og:type" content="website"><meta property="og:url" content="https://asleepace.com/blog/clever-extract-replace-algorithm/"><meta property="og:title" content="Clever Extract &#38; Replace Algorithm"><meta property="og:description" content="A simple algorithm for extracting strings and replacing values written in TypeScript."><meta property="og:image" content="https://asleepace.com/images/blog-placeholder-3.jpg"><!-- Twitter --><meta property="twitter:card" content="summary_large_image"><meta property="twitter:url" content="https://asleepace.com/blog/clever-extract-replace-algorithm/"><meta property="twitter:title" content="Clever Extract &#38; Replace Algorithm"><meta property="twitter:description" content="A simple algorithm for extracting strings and replacing values written in TypeScript."><meta property="twitter:image" content="https://asleepace.com/images/blog-placeholder-3.jpg"><!-- Sitemap --><link rel="sitemap" href="/sitemap-index.xml"><link rel="stylesheet" href="/_astro/about.0U3FvO09.css">
<link rel="stylesheet" href="/_astro/about.DXoG3M9C.css">
<style>a[data-astro-cid-xvislcag]{display:inline-block;text-decoration:none}a[data-astro-cid-xvislcag].active{font-weight:bolder;text-decoration:underline}header[data-astro-cid-mq3pp5jd]{margin:0;padding:0 1em;background:#fff;box-shadow:0 2px 8px rgba(var(--black),5%)}h2[data-astro-cid-mq3pp5jd]{margin:0;font-size:1em}h2[data-astro-cid-mq3pp5jd] a[data-astro-cid-mq3pp5jd],h2[data-astro-cid-mq3pp5jd] a[data-astro-cid-mq3pp5jd].active{text-decoration:none}nav[data-astro-cid-mq3pp5jd]{display:flex;align-items:center;justify-content:space-between}nav[data-astro-cid-mq3pp5jd] a[data-astro-cid-mq3pp5jd]{padding:1em .5em;color:var(--black);border-bottom:4px solid transparent;text-decoration:none}nav[data-astro-cid-mq3pp5jd] a[data-astro-cid-mq3pp5jd].active{text-decoration:none;border-bottom-color:var(--accent)}.social-links[data-astro-cid-mq3pp5jd],.social-links[data-astro-cid-mq3pp5jd] a[data-astro-cid-mq3pp5jd]{display:flex}@media (max-width: 720px){.social-links[data-astro-cid-mq3pp5jd]{display:none}}footer[data-astro-cid-lejjx2fa]{padding:2em 1em 6em;background:linear-gradient(var(--gray-gradient)) no-repeat;color:rgb(var(--gray));text-align:center}.social-links[data-astro-cid-lejjx2fa]{display:flex;justify-content:center;gap:1em;margin-top:1em}.social-links[data-astro-cid-lejjx2fa] a[data-astro-cid-lejjx2fa]{text-decoration:none;color:rgb(var(--gray))}.social-links[data-astro-cid-lejjx2fa] a[data-astro-cid-lejjx2fa]:hover{color:rgb(var(--gray-dark))}
</style></head> <body class="w-full bg-white"> <header data-astro-cid-mq3pp5jd> <nav data-astro-cid-mq3pp5jd> <div class="title-and-logo" data-astro-cid-mq3pp5jd> <img src="/images/logo.png" width="44" height="44" data-astro-cid-mq3pp5jd> <h2 class="xs:hidden" data-astro-cid-mq3pp5jd><a class="font-black text-lg" href="/" data-astro-cid-mq3pp5jd>Asleepace</a></h2> </div> <div class="internal-links" data-astro-cid-mq3pp5jd> <a href="/" data-astro-cid-mq3pp5jd="true" data-astro-cid-xvislcag> Home </a>  <a href="/blog" class="active" data-astro-cid-mq3pp5jd="true" data-astro-cid-xvislcag> Blog </a>  <a href="/about" data-astro-cid-mq3pp5jd="true" data-astro-cid-xvislcag> About </a>  </div> <div class="social-links" data-astro-cid-mq3pp5jd> <a href="https://twitter.com/asleepace" target="_blank" data-astro-cid-mq3pp5jd> <span class="sr-only" data-astro-cid-mq3pp5jd>Follow Asleepace on Twitter</span> <svg viewBox="0 0 16 16" aria-hidden="true" width="32" height="32" - data-astro-cid-mq3pp5jd><path fill="currentColor" d="M5.026 15c6.038 0 9.341-5.003 9.341-9.334 0-.14 0-.282-.006-.422A6.685 6.685 0 0 0 16 3.542a6.658 6.658 0 0 1-1.889.518 3.301 3.301 0 0 0 1.447-1.817 6.533 6.533 0 0 1-2.087.793A3.286 3.286 0 0 0 7.875 6.03a9.325 9.325 0 0 1-6.767-3.429 3.289 3.289 0 0 0 1.018 4.382A3.323 3.323 0 0 1 .64 6.575v.045a3.288 3.288 0 0 0 2.632 3.218 3.203 3.203 0 0 1-.865.115 3.23 3.23 0 0 1-.614-.057 3.283 3.283 0 0 0 3.067 2.277A6.588 6.588 0 0 1 .78 13.58a6.32 6.32 0 0 1-.78-.045A9.344 9.344 0 0 0 5.026 15z" data-astro-cid-mq3pp5jd></path></svg> </a> <a href="https://github.com/asleepace" target="_blank" data-astro-cid-mq3pp5jd> <span class="sr-only" data-astro-cid-mq3pp5jd>Go to Asleepace's GitHub repo</span> <svg viewBox="0 0 16 16" aria-hidden="true" width="32" height="32" data-astro-cid-mq3pp5jd><path fill="currentColor" d="M8 0C3.58 0 0 3.58 0 8c0 3.54 2.29 6.53 5.47 7.59.4.07.55-.17.55-.38 0-.19-.01-.82-.01-1.49-2.01.37-2.53-.49-2.69-.94-.09-.23-.48-.94-.82-1.13-.28-.15-.68-.52-.01-.53.63-.01 1.08.58 1.23.82.72 1.21 1.87.87 2.33.66.07-.52.28-.87.51-1.07-1.78-.2-3.64-.89-3.64-3.95 0-.87.31-1.59.82-2.15-.08-.2-.36-1.02.08-2.12 0 0 .67-.21 2.2.82.64-.18 1.32-.27 2-.27.68 0 1.36.09 2 .27 1.53-1.04 2.2-.82 2.2-.82.44 1.1.16 1.92.08 2.12.51.56.82 1.27.82 2.15 0 3.07-1.87 3.75-3.65 3.95.29.25.54.73.54 1.48 0 1.07-.01 1.93-.01 2.2 0 .21.15.46.55.38A8.012 8.012 0 0 0 16 8c0-4.42-3.58-8-8-8z" data-astro-cid-mq3pp5jd></path></svg> </a> </div> </nav> </header>  <main id="article" class="flex flex-col flex-1 w-full lg:pt-16 pb-8 items-center"> <article class="flex flex-col items-center w-full max-w-screen-lg text-gray-800"> <div class="flex flex-1 items-center justify-center w-full"> <img src="/images/blog-placeholder-3.jpg" alt="Clever Extract &#38; Replace Algorithm" class="lg:rounded-3xl lg:shadow-2xl aspect-video lg:max-w-screen-md"> </div> <div class="text-center self-stretch px-4 flex flex-col gap-y-2 pt-4 md:pt-8"> <div class="date text-gray-500"> <time datetime="2022-12-16T08:00:00.000Z"> December 16, 2022 </time>  </div> <p class="text-5xl text-balance font-black leading-1 mb-2">Clever Extract &amp; Replace Algorithm</p> <hr class="border-b-none border-t-[1px] w-full border-t-gray-200 my-4 mb-8 md:my-8"> </div> <div id="prose" class="flex flex-col gap-y-2 w-full">   <blockquote>
<p>A simple algorithm which recursively extracts specified keys from arbitrary data as a flat array, and can then replace those keys when called with another flat array of strings.</p>
</blockquote>
<pre class="astro-code github-dark" style="background-color:#24292e;color:#e1e4e8; overflow-x: auto;" tabindex="0" data-language="ts"><code><span class="line"><span style="color:#F97583">export</span><span style="color:#F97583"> type</span><span style="color:#B392F0"> ExtractAndReplaceProps</span><span style="color:#F97583"> =</span><span style="color:#E1E4E8"> (</span></span>
<span class="line"><span style="color:#FFAB70">  data</span><span style="color:#F97583">:</span><span style="color:#79B8FF"> unknown</span><span style="color:#E1E4E8">,</span></span>
<span class="line"><span style="color:#FFAB70">  keys</span><span style="color:#F97583">:</span><span style="color:#B392F0"> Set</span><span style="color:#E1E4E8">&#x3C;</span><span style="color:#79B8FF">string</span><span style="color:#E1E4E8">>,</span></span>
<span class="line"><span style="color:#FFAB70">  replace</span><span style="color:#F97583">?:</span><span style="color:#79B8FF"> string</span><span style="color:#E1E4E8">[]</span></span>
<span class="line"><span style="color:#E1E4E8">) </span><span style="color:#F97583">=></span><span style="color:#79B8FF"> string</span><span style="color:#E1E4E8">[]</span></span>
<span class="line"></span>
<span class="line"><span style="color:#F97583">export</span><span style="color:#F97583"> const</span><span style="color:#B392F0"> extar</span><span style="color:#F97583">:</span><span style="color:#B392F0"> ExtractAndReplaceProps</span><span style="color:#F97583"> =</span><span style="color:#E1E4E8"> (</span><span style="color:#FFAB70">data</span><span style="color:#E1E4E8">, </span><span style="color:#FFAB70">keys</span><span style="color:#E1E4E8">, </span><span style="color:#FFAB70">replace</span><span style="color:#E1E4E8">) </span><span style="color:#F97583">=></span></span>
<span class="line"><span style="color:#E1E4E8">  Object.</span><span style="color:#B392F0">entries</span><span style="color:#E1E4E8">(data).</span><span style="color:#B392F0">reduce</span><span style="color:#E1E4E8">((</span><span style="color:#FFAB70">previous</span><span style="color:#E1E4E8">, [</span><span style="color:#FFAB70">key</span><span style="color:#E1E4E8">, </span><span style="color:#FFAB70">value</span><span style="color:#E1E4E8">]) </span><span style="color:#F97583">=></span><span style="color:#E1E4E8"> {</span></span>
<span class="line"><span style="color:#F97583">    if</span><span style="color:#E1E4E8"> (</span><span style="color:#F97583">typeof</span><span style="color:#E1E4E8"> value </span><span style="color:#F97583">===</span><span style="color:#9ECBFF"> 'object'</span><span style="color:#E1E4E8">)</span></span>
<span class="line"><span style="color:#F97583">      return</span><span style="color:#E1E4E8"> previous.</span><span style="color:#B392F0">concat</span><span style="color:#E1E4E8">(</span><span style="color:#B392F0">extar</span><span style="color:#E1E4E8">(value, keys, replace))</span></span>
<span class="line"><span style="color:#F97583">    if</span><span style="color:#E1E4E8"> (</span><span style="color:#F97583">typeof</span><span style="color:#E1E4E8"> value </span><span style="color:#F97583">===</span><span style="color:#9ECBFF"> 'string'</span><span style="color:#F97583"> &#x26;&#x26;</span><span style="color:#E1E4E8"> keys.</span><span style="color:#B392F0">has</span><span style="color:#E1E4E8">(key)) {</span></span>
<span class="line"><span style="color:#F97583">      if</span><span style="color:#E1E4E8"> (replace) data[key] </span><span style="color:#F97583">=</span><span style="color:#E1E4E8"> replace.</span><span style="color:#B392F0">shift</span><span style="color:#E1E4E8">() </span><span style="color:#6A737D">// replace that element if specified</span></span>
<span class="line"><span style="color:#F97583">      return</span><span style="color:#E1E4E8"> previous.</span><span style="color:#B392F0">concat</span><span style="color:#E1E4E8">(value) </span><span style="color:#6A737D">// always extract original element</span></span>
<span class="line"><span style="color:#E1E4E8">    }</span></span>
<span class="line"><span style="color:#F97583">    return</span><span style="color:#E1E4E8"> previous</span></span>
<span class="line"><span style="color:#E1E4E8">  }, [] </span><span style="color:#F97583">as</span><span style="color:#79B8FF"> string</span><span style="color:#E1E4E8">[])</span></span></code></pre>
<p>The other day my colleague was working on a translation micro-service and was contemplating on how to best extract specific strings from arbitrary JSON data to send to the translation API. The translation API only accepts a flat array of strings, and would return the same translated. He was tinkering with several approaches, but to be honest they were all needlessly complex and over-engineered.</p>
<p>For the next couple of days this problem lingered in the back of my mind, festering, begging for a simple and elegant solution. Finally, I decided to take a stab at the problem and was quite happy with the solution (simplified above). First, things first let’s map out the requirements:</p>
<ul>
<li>a function which takes arbitrary and possibly nested JSON data</li>
<li>a set of keys which we would like to extract</li>
<li>returns a flat array of strings</li>
<li>a way to map these values back to the original data</li>
</ul>
<p>The data would be fairly uniform, but could have several layers of nesting along with arbitrary keys, so my first step was just to traverse the data recursively. I remember from implementing a deep copy function in TypeScript in the past we would need something like the following:</p>
<pre class="astro-code github-dark" style="background-color:#24292e;color:#e1e4e8; overflow-x: auto;" tabindex="0" data-language="ts"><code><span class="line"><span style="color:#F97583">function</span><span style="color:#B392F0"> traverse</span><span style="color:#E1E4E8">(</span><span style="color:#FFAB70">data</span><span style="color:#F97583">:</span><span style="color:#79B8FF"> unknown</span><span style="color:#E1E4E8">) {</span></span>
<span class="line"><span style="color:#F97583">  if</span><span style="color:#E1E4E8"> (</span><span style="color:#F97583">typeof</span><span style="color:#E1E4E8"> data </span><span style="color:#F97583">!==</span><span style="color:#9ECBFF"> 'object'</span><span style="color:#E1E4E8">) </span><span style="color:#F97583">return</span></span>
<span class="line"><span style="color:#F97583">  if</span><span style="color:#E1E4E8"> (Array.</span><span style="color:#B392F0">isArray</span><span style="color:#E1E4E8">(data)) {</span></span>
<span class="line"><span style="color:#F97583">    for</span><span style="color:#E1E4E8"> (</span><span style="color:#F97583">const</span><span style="color:#79B8FF"> value</span><span style="color:#F97583"> of</span><span style="color:#E1E4E8"> data) {</span></span>
<span class="line"><span style="color:#B392F0">      traverse</span><span style="color:#E1E4E8">(value)</span></span>
<span class="line"><span style="color:#E1E4E8">    }</span></span>
<span class="line"><span style="color:#E1E4E8">  } </span><span style="color:#F97583">else</span><span style="color:#E1E4E8"> {</span></span>
<span class="line"><span style="color:#F97583">    for</span><span style="color:#E1E4E8"> (</span><span style="color:#F97583">const</span><span style="color:#79B8FF"> key</span><span style="color:#F97583"> in</span><span style="color:#E1E4E8"> data) {</span></span>
<span class="line"><span style="color:#B392F0">      traverse</span><span style="color:#E1E4E8">(data[key])</span></span>
<span class="line"><span style="color:#E1E4E8">    }</span></span>
<span class="line"><span style="color:#E1E4E8">  }</span></span>
<span class="line"><span style="color:#E1E4E8">}</span></span></code></pre>
<p>Basically, the idea is to recursively traverse any array elements and objects values. Since the <code>typeof</code> operator returns <code>'object'</code> for both arrays and objects, we also need to perform an additional check to see if the value is an array.</p>
<p>However, I was not happy with this approach as it felt a bit too clunky and verbose. Sometimes I really wish the <code>typeof</code> operator would return <code>'array'</code> for arrays, but then I remembered that arrays are objects in TypeScript, and that I could use this to my advantage.</p>
<pre class="astro-code github-dark" style="background-color:#24292e;color:#e1e4e8; overflow-x: auto;" tabindex="0" data-language="ts"><code><span class="line"><span style="color:#F97583">function</span><span style="color:#B392F0"> traverse</span><span style="color:#E1E4E8">(</span><span style="color:#FFAB70">data</span><span style="color:#F97583">:</span><span style="color:#79B8FF"> unknown</span><span style="color:#E1E4E8">) {</span></span>
<span class="line"><span style="color:#F97583">  if</span><span style="color:#E1E4E8"> (</span><span style="color:#F97583">typeof</span><span style="color:#E1E4E8"> data </span><span style="color:#F97583">!==</span><span style="color:#9ECBFF"> 'object'</span><span style="color:#E1E4E8">) </span><span style="color:#F97583">return</span></span>
<span class="line"><span style="color:#F97583">  for</span><span style="color:#E1E4E8"> (</span><span style="color:#F97583">const</span><span style="color:#79B8FF"> keyOrIndex</span><span style="color:#F97583"> in</span><span style="color:#E1E4E8"> data) {</span></span>
<span class="line"><span style="color:#B392F0">    traverse</span><span style="color:#E1E4E8">(data[keyOrIndex])</span></span>
<span class="line"><span style="color:#E1E4E8">  }</span></span>
<span class="line"><span style="color:#E1E4E8">}</span></span></code></pre>
<p>Sweet! The <strong>for…in</strong> loop will return <strong>0, 1, 2, 3…</strong> for arrays and <strong>key1</strong>, <strong>key2</strong>, <strong>key3</strong>… for objects. Not exactly groundbreaking, but this was a step in the right direction! The next step was to extract specific string values from the data. Since this data would be subject to change over time, one of the requirements was to be able to pass a list of strings which we wanted to extract. This would be a perfect place for a <code>Set&#x3C;string></code>!</p>
<pre class="astro-code github-dark" style="background-color:#24292e;color:#e1e4e8; overflow-x: auto;" tabindex="0" data-language="ts"><code><span class="line"><span style="color:#F97583">function</span><span style="color:#B392F0"> extract</span><span style="color:#E1E4E8">(</span><span style="color:#FFAB70">data</span><span style="color:#F97583">:</span><span style="color:#79B8FF"> unknown</span><span style="color:#E1E4E8">, </span><span style="color:#FFAB70">keys</span><span style="color:#F97583">:</span><span style="color:#B392F0"> Set</span><span style="color:#E1E4E8">&#x3C;</span><span style="color:#79B8FF">string</span><span style="color:#E1E4E8">>)</span><span style="color:#F97583">:</span><span style="color:#79B8FF"> string</span><span style="color:#E1E4E8">[] {</span></span>
<span class="line"><span style="color:#F97583">  if</span><span style="color:#E1E4E8"> (</span><span style="color:#F97583">typeof</span><span style="color:#E1E4E8"> data </span><span style="color:#F97583">!==</span><span style="color:#9ECBFF"> 'object'</span><span style="color:#E1E4E8">) </span><span style="color:#F97583">return</span><span style="color:#E1E4E8"> []</span></span>
<span class="line"><span style="color:#F97583">  let</span><span style="color:#E1E4E8"> extracted</span><span style="color:#F97583">:</span><span style="color:#79B8FF"> string</span><span style="color:#E1E4E8">[] </span><span style="color:#F97583">=</span><span style="color:#E1E4E8"> []</span></span>
<span class="line"><span style="color:#F97583">  for</span><span style="color:#E1E4E8"> (</span><span style="color:#F97583">const</span><span style="color:#79B8FF"> keyOrIndex</span><span style="color:#F97583"> in</span><span style="color:#E1E4E8"> data) {</span></span>
<span class="line"><span style="color:#F97583">    const</span><span style="color:#79B8FF"> value</span><span style="color:#F97583"> =</span><span style="color:#E1E4E8"> data[keyOrIndex]</span></span>
<span class="line"><span style="color:#F97583">    if</span><span style="color:#E1E4E8"> (</span><span style="color:#F97583">typeof</span><span style="color:#E1E4E8"> value </span><span style="color:#F97583">===</span><span style="color:#9ECBFF"> 'string'</span><span style="color:#F97583"> &#x26;&#x26;</span><span style="color:#E1E4E8"> keys.</span><span style="color:#B392F0">has</span><span style="color:#E1E4E8">(keyOrIndex)) {</span></span>
<span class="line"><span style="color:#E1E4E8">      extracted.</span><span style="color:#B392F0">push</span><span style="color:#E1E4E8">(value)</span></span>
<span class="line"><span style="color:#E1E4E8">    } </span><span style="color:#F97583">else</span><span style="color:#E1E4E8"> {</span></span>
<span class="line"><span style="color:#F97583">      const</span><span style="color:#79B8FF"> subValuesExtracted</span><span style="color:#F97583"> =</span><span style="color:#B392F0"> extract</span><span style="color:#E1E4E8">(value, keys)</span></span>
<span class="line"><span style="color:#E1E4E8">      extracted </span><span style="color:#F97583">=</span><span style="color:#E1E4E8"> extracted.</span><span style="color:#B392F0">concat</span><span style="color:#E1E4E8">(subValuesExtracted)</span></span>
<span class="line"><span style="color:#E1E4E8">    }</span></span>
<span class="line"><span style="color:#E1E4E8">  }</span></span>
<span class="line"><span style="color:#F97583">  return</span><span style="color:#E1E4E8"> extracted</span></span>
<span class="line"><span style="color:#E1E4E8">}</span></span></code></pre>   </div> </article> </main> <footer class="w-full" data-astro-cid-lejjx2fa>
&copy; 2025 Colin Teahan. All rights reserved.
<div class="social-links" data-astro-cid-lejjx2fa> <a href="https://twitter.com/Asleepace" target="_blank" data-astro-cid-lejjx2fa> <svg viewBox="0 0 16 16" aria-hidden="true" width="32" height="32" astro-icon="social/twitter" data-astro-cid-lejjx2fa><path fill="currentColor" d="M5.026 15c6.038 0 9.341-5.003 9.341-9.334 0-.14 0-.282-.006-.422A6.685 6.685 0 0 0 16 3.542a6.658 6.658 0 0 1-1.889.518 3.301 3.301 0 0 0 1.447-1.817 6.533 6.533 0 0 1-2.087.793A3.286 3.286 0 0 0 7.875 6.03a9.325 9.325 0 0 1-6.767-3.429 3.289 3.289 0 0 0 1.018 4.382A3.323 3.323 0 0 1 .64 6.575v.045a3.288 3.288 0 0 0 2.632 3.218 3.203 3.203 0 0 1-.865.115 3.23 3.23 0 0 1-.614-.057 3.283 3.283 0 0 0 3.067 2.277A6.588 6.588 0 0 1 .78 13.58a6.32 6.32 0 0 1-.78-.045A9.344 9.344 0 0 0 5.026 15z" data-astro-cid-lejjx2fa></path></svg> </a> <a href="https://github.com/Asleepace" target="_blank" data-astro-cid-lejjx2fa> <svg viewBox="0 0 16 16" aria-hidden="true" width="32" height="32" astro-icon="social/github" data-astro-cid-lejjx2fa><path fill="currentColor" d="M8 0C3.58 0 0 3.58 0 8c0 3.54 2.29 6.53 5.47 7.59.4.07.55-.17.55-.38 0-.19-.01-.82-.01-1.49-2.01.37-2.53-.49-2.69-.94-.09-.23-.48-.94-.82-1.13-.28-.15-.68-.52-.01-.53.63-.01 1.08.58 1.23.82.72 1.21 1.87.87 2.33.66.07-.52.28-.87.51-1.07-1.78-.2-3.64-.89-3.64-3.95 0-.87.31-1.59.82-2.15-.08-.2-.36-1.02.08-2.12 0 0 .67-.21 2.2.82.64-.18 1.32-.27 2-.27.68 0 1.36.09 2 .27 1.53-1.04 2.2-.82 2.2-.82.44 1.1.16 1.92.08 2.12.51.56.82 1.27.82 2.15 0 3.07-1.87 3.75-3.65 3.95.29.25.54.73.54 1.48 0 1.07-.01 1.93-.01 2.2 0 .21.15.46.55.38A8.012 8.012 0 0 0 16 8c0-4.42-3.58-8-8-8z" data-astro-cid-lejjx2fa></path></svg> </a> </div> <!-- perform some simple analytics tracking --> <script type="module">async function n(){return typeof window>"u"?(console.warn("[trackAnalytics] called from non-browser context, skipping..."),!1):fetch("/api/analytics",{method:"POST",headers:{"user-agent":navigator.userAgent,referer:document.referrer}}).then(e=>e.ok).catch(e=>(console.warn("[trackAnalytics] failed",e),!1))}window.addEventListener("beforeunload",n);</script> </footer>  </body></html>