[["Map",1,2,9,10],"meta::meta",["Map",3,4,5,6,7,8],"astro-version","5.1.1","content-config-digest","fd61b873c9d57068","astro-config-digest","{\"root\":{},\"srcDir\":{},\"publicDir\":{},\"outDir\":{},\"cacheDir\":{},\"site\":\"https://asleepace.com\",\"compressHTML\":true,\"base\":\"/\",\"trailingSlash\":\"ignore\",\"output\":\"static\",\"scopedStyleStrategy\":\"attribute\",\"build\":{\"format\":\"directory\",\"client\":{},\"server\":{},\"assets\":\"_astro\",\"serverEntry\":\"entry.mjs\",\"redirects\":true,\"inlineStylesheets\":\"auto\",\"concurrency\":1},\"server\":{\"open\":false,\"host\":false,\"port\":4321,\"headers\":{\"Access-Control-Allow-Origin\":\"*\",\"Access-Control-Allow-Methods\":\"GET, POST, PUT, DELETE, OPTIONS, HEAD\",\"Access-Control-Allow-Headers\":\"Content-Type, Authorization\",\"Access-Control-Allow-Credentials\":\"true\"},\"streaming\":true},\"redirects\":{},\"image\":{\"endpoint\":{\"route\":\"/_image\"},\"service\":{\"entrypoint\":\"astro/assets/services/sharp\",\"config\":{}},\"domains\":[],\"remotePatterns\":[]},\"devToolbar\":{\"enabled\":true},\"markdown\":{\"syntaxHighlight\":\"shiki\",\"shikiConfig\":{\"langs\":[],\"langAlias\":{},\"theme\":\"github-dark\",\"themes\":{},\"wrap\":false,\"transformers\":[]},\"remarkPlugins\":[],\"rehypePlugins\":[],\"remarkRehype\":{},\"gfm\":true,\"smartypants\":true},\"security\":{\"checkOrigin\":false},\"env\":{\"schema\":{},\"validateSecrets\":false},\"experimental\":{\"clientPrerender\":false,\"contentIntellisense\":false,\"responsiveImages\":false},\"legacy\":{\"collections\":false}}","blog",["Map",11,12,32,33,50,51,83,84,100,101,129,130,210,211,251,252],"stock-picks-2025",{"id":11,"data":13,"body":18,"filePath":19,"digest":20,"rendered":21},{"title":14,"description":15,"pubDate":16,"heroImage":17},"Top Stock Picks for 2025","Investment Opportunities for 2025 focusing on quantum computing, renewable energy, artificial intelligence, and emerging technologies.",["Date","2024-12-24T08:00:00.000Z"],"/images/stock-picks-2025.png","The following analysis presents a carefully researched selection of companies that show promising growth potential for 2025 and beyond. This assessment is based on market trends, technological advancement trajectories, and emerging sector analysis.\n\nKey sectors identified for potential growth in 2025 include:\n\n- Energy (Traditional and Renewable)\n- Artificial Intelligence and Machine Learning\n- Quantum Computing\n- Space Technology and Exploration\n- Digital Assets and Blockchain Technology\n\nWhile this analysis reflects thorough market research, it should be considered as informational content rather than financial advice. Investors should conduct their own due diligence before making investment decisions.\n\n## Market Leaders and Growth Opportunities\n\n1. **Tesla (TSLA)**\n   Electric vehicle pioneer and renewable energy innovator with established market leadership and continued expansion in global markets.\n\n2. **Nvidia (NVDA)**\n   Industry leader in AI infrastructure and GPU technology, well-positioned in the expanding artificial intelligence and machine learning sectors.\n\n3. **Quantum Computing (QUBT)**\n   Early mover in quantum computing technology development with strategic positioning in an emerging high-potential market.\n\n4. **Rocket Lab (RKLB)**\n   Leading private space launch provider with established commercial satellite deployment capabilities and expanding space services portfolio.\n\n5. **Bitcoin (BTC)**\n   Primary digital asset with institutional adoption and increasing integration into traditional financial systems.\n\n6. **Intuitive Machines (LUNR)**\n   Space exploration and infrastructure company developing critical technologies for lunar and deep space missions.\n\n7. **Uranium Energy Corp (UEC)**\n   U.S.-based uranium mining and exploration company positioned to benefit from increasing nuclear energy adoption.\n\n8. **Applied Digital (APLD)**\n   Technology infrastructure provider specializing in data center operations and high-performance computing solutions.\n\n9. **Energy Transfer (ET)**\n   Comprehensive energy infrastructure company operating across natural gas transportation and storage segments.\n\n10. **Alphabet (GOOGL)**\n    Technology conglomerate with strong positions in cloud computing, artificial intelligence research, and quantum computing initiatives.\n\nIt's crucial to understand that investment in equity markets carries inherent risks. Market conditions can change rapidly, and past performance does not guarantee future results. Investors should carefully consider their investment objectives, risk tolerance, and time horizon when evaluating any investment opportunities.","src/content/blog/stock-picks-2025.md","5d6772e1e4726913",{"html":22,"metadata":23},"\u003Cp>The following analysis presents a carefully researched selection of companies that show promising growth potential for 2025 and beyond. This assessment is based on market trends, technological advancement trajectories, and emerging sector analysis.\u003C/p>\n\u003Cp>Key sectors identified for potential growth in 2025 include:\u003C/p>\n\u003Cul>\n\u003Cli>Energy (Traditional and Renewable)\u003C/li>\n\u003Cli>Artificial Intelligence and Machine Learning\u003C/li>\n\u003Cli>Quantum Computing\u003C/li>\n\u003Cli>Space Technology and Exploration\u003C/li>\n\u003Cli>Digital Assets and Blockchain Technology\u003C/li>\n\u003C/ul>\n\u003Cp>While this analysis reflects thorough market research, it should be considered as informational content rather than financial advice. Investors should conduct their own due diligence before making investment decisions.\u003C/p>\n\u003Ch2 id=\"market-leaders-and-growth-opportunities\">Market Leaders and Growth Opportunities\u003C/h2>\n\u003Col>\n\u003Cli>\n\u003Cp>\u003Cstrong>Tesla (TSLA)\u003C/strong>\nElectric vehicle pioneer and renewable energy innovator with established market leadership and continued expansion in global markets.\u003C/p>\n\u003C/li>\n\u003Cli>\n\u003Cp>\u003Cstrong>Nvidia (NVDA)\u003C/strong>\nIndustry leader in AI infrastructure and GPU technology, well-positioned in the expanding artificial intelligence and machine learning sectors.\u003C/p>\n\u003C/li>\n\u003Cli>\n\u003Cp>\u003Cstrong>Quantum Computing (QUBT)\u003C/strong>\nEarly mover in quantum computing technology development with strategic positioning in an emerging high-potential market.\u003C/p>\n\u003C/li>\n\u003Cli>\n\u003Cp>\u003Cstrong>Rocket Lab (RKLB)\u003C/strong>\nLeading private space launch provider with established commercial satellite deployment capabilities and expanding space services portfolio.\u003C/p>\n\u003C/li>\n\u003Cli>\n\u003Cp>\u003Cstrong>Bitcoin (BTC)\u003C/strong>\nPrimary digital asset with institutional adoption and increasing integration into traditional financial systems.\u003C/p>\n\u003C/li>\n\u003Cli>\n\u003Cp>\u003Cstrong>Intuitive Machines (LUNR)\u003C/strong>\nSpace exploration and infrastructure company developing critical technologies for lunar and deep space missions.\u003C/p>\n\u003C/li>\n\u003Cli>\n\u003Cp>\u003Cstrong>Uranium Energy Corp (UEC)\u003C/strong>\nU.S.-based uranium mining and exploration company positioned to benefit from increasing nuclear energy adoption.\u003C/p>\n\u003C/li>\n\u003Cli>\n\u003Cp>\u003Cstrong>Applied Digital (APLD)\u003C/strong>\nTechnology infrastructure provider specializing in data center operations and high-performance computing solutions.\u003C/p>\n\u003C/li>\n\u003Cli>\n\u003Cp>\u003Cstrong>Energy Transfer (ET)\u003C/strong>\nComprehensive energy infrastructure company operating across natural gas transportation and storage segments.\u003C/p>\n\u003C/li>\n\u003Cli>\n\u003Cp>\u003Cstrong>Alphabet (GOOGL)\u003C/strong>\nTechnology conglomerate with strong positions in cloud computing, artificial intelligence research, and quantum computing initiatives.\u003C/p>\n\u003C/li>\n\u003C/ol>\n\u003Cp>It’s crucial to understand that investment in equity markets carries inherent risks. Market conditions can change rapidly, and past performance does not guarantee future results. Investors should carefully consider their investment objectives, risk tolerance, and time horizon when evaluating any investment opportunities.\u003C/p>",{"headings":24,"imagePaths":29,"frontmatter":30},[25],{"depth":26,"slug":27,"text":28},2,"market-leaders-and-growth-opportunities","Market Leaders and Growth Opportunities",[],{"title":14,"description":15,"pubDate":31,"heroImage":17,"slug":11},"Dec 24 2024","santa-rally-mara-thon",{"id":32,"data":34,"body":39,"filePath":40,"digest":41,"rendered":42},{"title":35,"description":36,"pubDate":37,"heroImage":38},"Santa Rally Mara-thon","Marathon Digital soars over 51% this past week as inflation cools and speculation around a Bitcoin ETF rises, all in time for the holidays!",["Date","2023-12-22T08:00:00.000Z"],"/images/santa-rally.png","With only one trading day left before Christmas, it appears that Santa may have come early this year! At the time of writing [Marathon Digital (MARA)](https://www.mara.com/) is flirting with the **$27.00** price point and up over **52%** this week alone!\n\n\u003C!-- TradingView Widget BEGIN -->\n\u003Cdiv class=\"stock-chart\" style=\"440px; border-radius:4px; overflow:none;\">\n\u003Cdiv class=\"tradingview-widget-container; corner-radius:8px;\">\n  \u003Cdiv class=\"tradingview-widget-container__widget\">\u003C/div>\n  \u003Cscript type=\"text/javascript\" src=\"https://s3.tradingview.com/external-embedding/embed-widget-advanced-chart.js\" async>\n  {\n  \"width\": \"100%\",\n  \"height\": \"440\",\n  \"symbol\": \"NASDAQ:MARA\",\n  \"interval\": \"H\",\n  \"timezone\": \"Etc/UTC\",\n  \"theme\": \"dark\",\n  \"style\": \"3\",\n  \"locale\": \"en\",\n  \"enable_publishing\": false,\n  \"hide_top_toolbar\": true,\n  \"save_image\": false,\n  \"hide_volume\": true,\n  \"support_host\": \"https://www.tradingview.com\"\n}\n  \u003C/script>\n\u003C/div>\n\u003Cdiv class=\"tradingview-widget-copyright\">\u003Ca href=\"https://www.tradingview.com/\" rel=\"noopener nofollow\" target=\"_blank\">\u003Cspan class=\"orange-text\">Track all markets on TradingView\u003C/span>\u003C/a>\u003C/div>\n\u003C/div>\n\u003C!-- TradingView Widget END -->\n\nFor those who are unfamiliar [Marathon Digital](https://www.mara.com/) is a bitcoin mining company with a focus on blockchain technologies and various digital assets. While crypto has definitely fallen out of favor in recent memory, it appears that things might be changing...\n\n> Before market open, Marathon shook up the crypto miner scene by announcing that it had agreed to acquire a pair of Bitcoin (CRYPTO: BTC) mining sites. It bought the pair from subsidiaries of finance company Generate Capital at a price of $178.6 million. This purchase price is to be paid entirely in cash. [Source](https://finance.yahoo.com/news/why-marathon-digital-other-crypto-235300345.html)\n\nI’ve been following this stock along with her little brother [Riot Platforms (RIOT)](https://www.riotplatforms.com/) since the height of the pandemic, and after what can only be described as a boring year for trading all around, I’m finally starting to feel excited again!\n\nRumors have also been circulating for quite some time about the U.S. Securities and Exchange Commission approving [spot bitcoin ETFs](https://www.cnbc.com/2023/12/22/the-spot-bitcoin-etf-race-could-quickly-reach-your-401k-plan.html) in early January 2024. This prospect along with the halving scheduled later next year has sent Bitcoins price skyrocketing 64.33% over the past 3 months with Marathon Digital and Riot Platforms following in hot pursuit.\n\nAlong with this the Fed has taken a less hawkish stance as inflation has retreated faster than anticipated, with more rumors quickly circulating that interest rates could start coming down as early as March. While this is still purely speculation, the Fed’s favorite inflation metric the Personal Consumption Expenditures Price Index numbers came in at [3.2% beating expectations of 3.3%](https://www.cnbc.com/2023/12/22/pce-inflation-november-2023-.html) and signaling we may see a soft landing yet.\n\nCouple this with the yearly Santa Rally after a long year of dismal returns and a new generation of retail options trader, it’s possible we may have the perfect ingredients for a real Christmas miracle!\n\n**NOTE**: _This is not financial advice and I am currently holding 100 Shares along with several options contracts for 12/29_","src/content/blog/santa-rally-mara-thon.md","4ac7f59f48633983",{"html":43,"metadata":44},"\u003Cp>With only one trading day left before Christmas, it appears that Santa may have come early this year! At the time of writing \u003Ca href=\"https://www.mara.com/\">Marathon Digital (MARA)\u003C/a> is flirting with the \u003Cstrong>$27.00\u003C/strong> price point and up over \u003Cstrong>52%\u003C/strong> this week alone!\u003C/p>\n\u003C!-- TradingView Widget BEGIN -->\n\u003Cdiv class=\"stock-chart\" style=\"440px; border-radius:4px; overflow:none;\">\n\u003Cdiv class=\"tradingview-widget-container; corner-radius:8px;\">\n  \u003Cdiv class=\"tradingview-widget-container__widget\">\u003C/div>\n  \u003Cscript type=\"text/javascript\" src=\"https://s3.tradingview.com/external-embedding/embed-widget-advanced-chart.js\" async>\n  {\n  \"width\": \"100%\",\n  \"height\": \"440\",\n  \"symbol\": \"NASDAQ:MARA\",\n  \"interval\": \"H\",\n  \"timezone\": \"Etc/UTC\",\n  \"theme\": \"dark\",\n  \"style\": \"3\",\n  \"locale\": \"en\",\n  \"enable_publishing\": false,\n  \"hide_top_toolbar\": true,\n  \"save_image\": false,\n  \"hide_volume\": true,\n  \"support_host\": \"https://www.tradingview.com\"\n}\n  \u003C/script>\n\u003C/div>\n\u003Cdiv class=\"tradingview-widget-copyright\">\u003Ca href=\"https://www.tradingview.com/\" rel=\"noopener nofollow\" target=\"_blank\">\u003Cspan class=\"orange-text\">Track all markets on TradingView\u003C/span>\u003C/a>\u003C/div>\n\u003C/div>\n\u003C!-- TradingView Widget END -->\n\u003Cp>For those who are unfamiliar \u003Ca href=\"https://www.mara.com/\">Marathon Digital\u003C/a> is a bitcoin mining company with a focus on blockchain technologies and various digital assets. While crypto has definitely fallen out of favor in recent memory, it appears that things might be changing…\u003C/p>\n\u003Cblockquote>\n\u003Cp>Before market open, Marathon shook up the crypto miner scene by announcing that it had agreed to acquire a pair of Bitcoin (CRYPTO: BTC) mining sites. It bought the pair from subsidiaries of finance company Generate Capital at a price of $178.6 million. This purchase price is to be paid entirely in cash. \u003Ca href=\"https://finance.yahoo.com/news/why-marathon-digital-other-crypto-235300345.html\">Source\u003C/a>\u003C/p>\n\u003C/blockquote>\n\u003Cp>I’ve been following this stock along with her little brother \u003Ca href=\"https://www.riotplatforms.com/\">Riot Platforms (RIOT)\u003C/a> since the height of the pandemic, and after what can only be described as a boring year for trading all around, I’m finally starting to feel excited again!\u003C/p>\n\u003Cp>Rumors have also been circulating for quite some time about the U.S. Securities and Exchange Commission approving \u003Ca href=\"https://www.cnbc.com/2023/12/22/the-spot-bitcoin-etf-race-could-quickly-reach-your-401k-plan.html\">spot bitcoin ETFs\u003C/a> in early January 2024. This prospect along with the halving scheduled later next year has sent Bitcoins price skyrocketing 64.33% over the past 3 months with Marathon Digital and Riot Platforms following in hot pursuit.\u003C/p>\n\u003Cp>Along with this the Fed has taken a less hawkish stance as inflation has retreated faster than anticipated, with more rumors quickly circulating that interest rates could start coming down as early as March. While this is still purely speculation, the Fed’s favorite inflation metric the Personal Consumption Expenditures Price Index numbers came in at \u003Ca href=\"https://www.cnbc.com/2023/12/22/pce-inflation-november-2023-.html\">3.2% beating expectations of 3.3%\u003C/a> and signaling we may see a soft landing yet.\u003C/p>\n\u003Cp>Couple this with the yearly Santa Rally after a long year of dismal returns and a new generation of retail options trader, it’s possible we may have the perfect ingredients for a real Christmas miracle!\u003C/p>\n\u003Cp>\u003Cstrong>NOTE\u003C/strong>: \u003Cem>This is not financial advice and I am currently holding 100 Shares along with several options contracts for 12/29\u003C/em>\u003C/p>",{"headings":45,"imagePaths":46,"frontmatter":47},[],[],{"title":35,"description":36,"pubDate":48,"heroImage":38,"author":49,"slug":32},"Dec 22 2023","Colin Teahan","online-code-editor",{"id":50,"data":52,"body":57,"filePath":58,"digest":59,"rendered":60},{"title":53,"description":54,"pubDate":55,"heroImage":56},"Online Code Editor","a simple online code editor which can compile and run typescript code.",["Date","2025-01-15T08:00:00.000Z"],"/images/online-editor-cover.jpg","Introducing my **Online Code Editor** (v1.0) a simple online code editor which can compile and run typescript code!\n\n\u003Ch3 style=\"text-align: center; color: white; background-color: #222432; padding: 10px; border-radius: 16px;\">\u003Ca alt=\"Code Editor\" style=\"color: white;\" href=\"/code\"> Click here to try it out!\u003C/a>\u003C/h3>\n\n## Technical Overview\n\nThe code editor appears to be a custom React-based implementation that likely provides in-browser code editing capabilities. It's built using TypeScript and seems to handle several key features:\n\n### Core Components\n\n- `Code.tsx`: Main editor component\n- `useSyntax.ts`: Custom hook for syntax handling\n\n### Key Features\n\n1. **Selection Management**\n\n   - Tracks cursor position and text selection\n   - Handles range selection with `Selection` API\n   - Includes safety checks for editor reference and anchor nodes\n\n2. **Text Content Handling**\n\n   - Manages code content through `innerText`\n   - Tracks total text length and code length separately\n   - Includes debug logging for content management\n\n3. **Client-Side Rendering**\n   - Uses `prerender = false` flag, indicating it's meant to run purely on the client side\n   - This makes sense for a code editor as it needs direct DOM access\n\n### Technical Implementation Notes\n\n- Uses React refs (`editorRef`) to maintain direct DOM access\n- Implements selection range management for cursor positioning\n- Includes debug logging with '[caret]' prefix for tracking selection and content states\n\nNote: This appears to be a custom implementation rather than using existing libraries like Monaco or CodeMirror. Without more context, it's difficult to determine the full feature set, but the code suggests it handles basic editor functionality with custom selection and syntax management.\n\n### What's next?\n\nNote this is still a work in progress and mainly just something I wanted to build for myself. At some point I'll add some more quality of life features like syntax highlighting, auto-completion, and more. Either way, this was a fun project to build and I'm glad I was able to share it with you all!","src/content/blog/online-code-editor.md","ba668cfda35f8a34",{"html":61,"metadata":62},"\u003Cp>Introducing my \u003Cstrong>Online Code Editor\u003C/strong> (v1.0) a simple online code editor which can compile and run typescript code!\u003C/p>\n\u003Ch3 style=\"text-align: center; color: white; background-color: #222432; padding: 10px; border-radius: 16px;\">\u003Ca alt=\"Code Editor\" style=\"color: white;\" href=\"/code\"> Click here to try it out!\u003C/a>\u003C/h3>\n\u003Ch2 id=\"technical-overview\">Technical Overview\u003C/h2>\n\u003Cp>The code editor appears to be a custom React-based implementation that likely provides in-browser code editing capabilities. It’s built using TypeScript and seems to handle several key features:\u003C/p>\n\u003Ch3 id=\"core-components\">Core Components\u003C/h3>\n\u003Cul>\n\u003Cli>\u003Ccode>Code.tsx\u003C/code>: Main editor component\u003C/li>\n\u003Cli>\u003Ccode>useSyntax.ts\u003C/code>: Custom hook for syntax handling\u003C/li>\n\u003C/ul>\n\u003Ch3 id=\"key-features\">Key Features\u003C/h3>\n\u003Col>\n\u003Cli>\n\u003Cp>\u003Cstrong>Selection Management\u003C/strong>\u003C/p>\n\u003Cul>\n\u003Cli>Tracks cursor position and text selection\u003C/li>\n\u003Cli>Handles range selection with \u003Ccode>Selection\u003C/code> API\u003C/li>\n\u003Cli>Includes safety checks for editor reference and anchor nodes\u003C/li>\n\u003C/ul>\n\u003C/li>\n\u003Cli>\n\u003Cp>\u003Cstrong>Text Content Handling\u003C/strong>\u003C/p>\n\u003Cul>\n\u003Cli>Manages code content through \u003Ccode>innerText\u003C/code>\u003C/li>\n\u003Cli>Tracks total text length and code length separately\u003C/li>\n\u003Cli>Includes debug logging for content management\u003C/li>\n\u003C/ul>\n\u003C/li>\n\u003Cli>\n\u003Cp>\u003Cstrong>Client-Side Rendering\u003C/strong>\u003C/p>\n\u003Cul>\n\u003Cli>Uses \u003Ccode>prerender = false\u003C/code> flag, indicating it’s meant to run purely on the client side\u003C/li>\n\u003Cli>This makes sense for a code editor as it needs direct DOM access\u003C/li>\n\u003C/ul>\n\u003C/li>\n\u003C/ol>\n\u003Ch3 id=\"technical-implementation-notes\">Technical Implementation Notes\u003C/h3>\n\u003Cul>\n\u003Cli>Uses React refs (\u003Ccode>editorRef\u003C/code>) to maintain direct DOM access\u003C/li>\n\u003Cli>Implements selection range management for cursor positioning\u003C/li>\n\u003Cli>Includes debug logging with ‘[caret]’ prefix for tracking selection and content states\u003C/li>\n\u003C/ul>\n\u003Cp>Note: This appears to be a custom implementation rather than using existing libraries like Monaco or CodeMirror. Without more context, it’s difficult to determine the full feature set, but the code suggests it handles basic editor functionality with custom selection and syntax management.\u003C/p>\n\u003Ch3 id=\"whats-next\">What’s next?\u003C/h3>\n\u003Cp>Note this is still a work in progress and mainly just something I wanted to build for myself. At some point I’ll add some more quality of life features like syntax highlighting, auto-completion, and more. Either way, this was a fun project to build and I’m glad I was able to share it with you all!\u003C/p>",{"headings":63,"imagePaths":80,"frontmatter":81},[64,67,71,74,77],{"depth":26,"slug":65,"text":66},"technical-overview","Technical Overview",{"depth":68,"slug":69,"text":70},3,"core-components","Core Components",{"depth":68,"slug":72,"text":73},"key-features","Key Features",{"depth":68,"slug":75,"text":76},"technical-implementation-notes","Technical Implementation Notes",{"depth":68,"slug":78,"text":79},"whats-next","What’s next?",[],{"title":53,"description":54,"pubDate":82,"heroImage":56,"slug":50},"Jan 15 2025","clever-extract-replace-algorithm",{"id":83,"data":85,"body":90,"filePath":91,"digest":92,"rendered":93},{"title":86,"description":87,"pubDate":88,"heroImage":89},"Clever Extract & Replace Algorithm","A simple algorithm for extracting strings and replacing values written in TypeScript.",["Date","2022-12-16T08:00:00.000Z"],"/images/blog-placeholder-3.jpg","> A simple algorithm which recursively extracts specified keys from arbitrary data as a flat array, and can then replace those keys when called with another flat array of strings.\n\n```ts\nexport type ExtractAndReplaceProps = (\n  data: unknown,\n  keys: Set\u003Cstring>,\n  replace?: string[]\n) => string[]\n\nexport const extar: ExtractAndReplaceProps = (data, keys, replace) =>\n  Object.entries(data).reduce((previous, [key, value]) => {\n    if (typeof value === 'object')\n      return previous.concat(extar(value, keys, replace))\n    if (typeof value === 'string' && keys.has(key)) {\n      if (replace) data[key] = replace.shift() // replace that element if specified\n      return previous.concat(value) // always extract original element\n    }\n    return previous\n  }, [] as string[])\n```\n\nThe other day my colleague was working on a translation micro-service and was contemplating on how to best extract specific strings from arbitrary JSON data to send to the translation API. The translation API only accepts a flat array of strings, and would return the same translated. He was tinkering with several approaches, but to be honest they were all needlessly complex and over-engineered.\n\nFor the next couple of days this problem lingered in the back of my mind, festering, begging for a simple and elegant solution. Finally, I decided to take a stab at the problem and was quite happy with the solution (simplified above). First, things first let's map out the requirements:\n\n- a function which takes arbitrary and possibly nested JSON data\n- a set of keys which we would like to extract\n- returns a flat array of strings\n- a way to map these values back to the original data\n\nThe data would be fairly uniform, but could have several layers of nesting along with arbitrary keys, so my first step was just to traverse the data recursively. I remember from implementing a deep copy function in TypeScript in the past we would need something like the following:\n\n```ts\nfunction traverse(data: unknown) {\n  if (typeof data !== 'object') return\n  if (Array.isArray(data)) {\n    for (const value of data) {\n      traverse(value)\n    }\n  } else {\n    for (const key in data) {\n      traverse(data[key])\n    }\n  }\n}\n```\n\nBasically, the idea is to recursively traverse any array elements and objects values. Since the `typeof` operator returns `'object'` for both arrays and objects, we also need to perform an additional check to see if the value is an array.\n\nHowever, I was not happy with this approach as it felt a bit too clunky and verbose. Sometimes I really wish the `typeof` operator would return `'array'` for arrays, but then I remembered that arrays are objects in TypeScript, and that I could use this to my advantage.\n\n```ts\nfunction traverse(data: unknown) {\n  if (typeof data !== 'object') return\n  for (const keyOrIndex in data) {\n    traverse(data[keyOrIndex])\n  }\n}\n```\n\nSweet! The **for...in** loop will return **0, 1, 2, 3...** for arrays and **key1**, **key2**, **key3**... for objects. Not exactly groundbreaking, but this was a step in the right direction! The next step was to extract specific string values from the data. Since this data would be subject to change over time, one of the requirements was to be able to pass a list of strings which we wanted to extract. This would be a perfect place for a `Set\u003Cstring>`!\n\n```ts\nfunction extract(data: unknown, keys: Set\u003Cstring>): string[] {\n  if (typeof data !== 'object') return []\n  let extracted: string[] = []\n  for (const keyOrIndex in data) {\n    const value = data[keyOrIndex]\n    if (typeof value === 'string' && keys.has(keyOrIndex)) {\n      extracted.push(value)\n    } else {\n      const subValuesExtracted = extract(value, keys)\n      extracted = extracted.concat(subValuesExtracted)\n    }\n  }\n  return extracted\n}\n```","src/content/blog/first-post.md","c1ad68c54e026aa3",{"html":94,"metadata":95},"\u003Cblockquote>\n\u003Cp>A simple algorithm which recursively extracts specified keys from arbitrary data as a flat array, and can then replace those keys when called with another flat array of strings.\u003C/p>\n\u003C/blockquote>\n\u003Cpre class=\"astro-code github-dark\" style=\"background-color:#24292e;color:#e1e4e8; overflow-x: auto;\" tabindex=\"0\" data-language=\"ts\">\u003Ccode>\u003Cspan class=\"line\">\u003Cspan style=\"color:#F97583\">export\u003C/span>\u003Cspan style=\"color:#F97583\"> type\u003C/span>\u003Cspan style=\"color:#B392F0\"> ExtractAndReplaceProps\u003C/span>\u003Cspan style=\"color:#F97583\"> =\u003C/span>\u003Cspan style=\"color:#E1E4E8\"> (\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#FFAB70\">  data\u003C/span>\u003Cspan style=\"color:#F97583\">:\u003C/span>\u003Cspan style=\"color:#79B8FF\"> unknown\u003C/span>\u003Cspan style=\"color:#E1E4E8\">,\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#FFAB70\">  keys\u003C/span>\u003Cspan style=\"color:#F97583\">:\u003C/span>\u003Cspan style=\"color:#B392F0\"> Set\u003C/span>\u003Cspan style=\"color:#E1E4E8\">&#x3C;\u003C/span>\u003Cspan style=\"color:#79B8FF\">string\u003C/span>\u003Cspan style=\"color:#E1E4E8\">>,\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#FFAB70\">  replace\u003C/span>\u003Cspan style=\"color:#F97583\">?:\u003C/span>\u003Cspan style=\"color:#79B8FF\"> string\u003C/span>\u003Cspan style=\"color:#E1E4E8\">[]\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">) \u003C/span>\u003Cspan style=\"color:#F97583\">=>\u003C/span>\u003Cspan style=\"color:#79B8FF\"> string\u003C/span>\u003Cspan style=\"color:#E1E4E8\">[]\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#F97583\">export\u003C/span>\u003Cspan style=\"color:#F97583\"> const\u003C/span>\u003Cspan style=\"color:#B392F0\"> extar\u003C/span>\u003Cspan style=\"color:#F97583\">:\u003C/span>\u003Cspan style=\"color:#B392F0\"> ExtractAndReplaceProps\u003C/span>\u003Cspan style=\"color:#F97583\"> =\u003C/span>\u003Cspan style=\"color:#E1E4E8\"> (\u003C/span>\u003Cspan style=\"color:#FFAB70\">data\u003C/span>\u003Cspan style=\"color:#E1E4E8\">, \u003C/span>\u003Cspan style=\"color:#FFAB70\">keys\u003C/span>\u003Cspan style=\"color:#E1E4E8\">, \u003C/span>\u003Cspan style=\"color:#FFAB70\">replace\u003C/span>\u003Cspan style=\"color:#E1E4E8\">) \u003C/span>\u003Cspan style=\"color:#F97583\">=>\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">  Object.\u003C/span>\u003Cspan style=\"color:#B392F0\">entries\u003C/span>\u003Cspan style=\"color:#E1E4E8\">(data).\u003C/span>\u003Cspan style=\"color:#B392F0\">reduce\u003C/span>\u003Cspan style=\"color:#E1E4E8\">((\u003C/span>\u003Cspan style=\"color:#FFAB70\">previous\u003C/span>\u003Cspan style=\"color:#E1E4E8\">, [\u003C/span>\u003Cspan style=\"color:#FFAB70\">key\u003C/span>\u003Cspan style=\"color:#E1E4E8\">, \u003C/span>\u003Cspan style=\"color:#FFAB70\">value\u003C/span>\u003Cspan style=\"color:#E1E4E8\">]) \u003C/span>\u003Cspan style=\"color:#F97583\">=>\u003C/span>\u003Cspan style=\"color:#E1E4E8\"> {\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#F97583\">    if\u003C/span>\u003Cspan style=\"color:#E1E4E8\"> (\u003C/span>\u003Cspan style=\"color:#F97583\">typeof\u003C/span>\u003Cspan style=\"color:#E1E4E8\"> value \u003C/span>\u003Cspan style=\"color:#F97583\">===\u003C/span>\u003Cspan style=\"color:#9ECBFF\"> 'object'\u003C/span>\u003Cspan style=\"color:#E1E4E8\">)\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#F97583\">      return\u003C/span>\u003Cspan style=\"color:#E1E4E8\"> previous.\u003C/span>\u003Cspan style=\"color:#B392F0\">concat\u003C/span>\u003Cspan style=\"color:#E1E4E8\">(\u003C/span>\u003Cspan style=\"color:#B392F0\">extar\u003C/span>\u003Cspan style=\"color:#E1E4E8\">(value, keys, replace))\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#F97583\">    if\u003C/span>\u003Cspan style=\"color:#E1E4E8\"> (\u003C/span>\u003Cspan style=\"color:#F97583\">typeof\u003C/span>\u003Cspan style=\"color:#E1E4E8\"> value \u003C/span>\u003Cspan style=\"color:#F97583\">===\u003C/span>\u003Cspan style=\"color:#9ECBFF\"> 'string'\u003C/span>\u003Cspan style=\"color:#F97583\"> &#x26;&#x26;\u003C/span>\u003Cspan style=\"color:#E1E4E8\"> keys.\u003C/span>\u003Cspan style=\"color:#B392F0\">has\u003C/span>\u003Cspan style=\"color:#E1E4E8\">(key)) {\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#F97583\">      if\u003C/span>\u003Cspan style=\"color:#E1E4E8\"> (replace) data[key] \u003C/span>\u003Cspan style=\"color:#F97583\">=\u003C/span>\u003Cspan style=\"color:#E1E4E8\"> replace.\u003C/span>\u003Cspan style=\"color:#B392F0\">shift\u003C/span>\u003Cspan style=\"color:#E1E4E8\">() \u003C/span>\u003Cspan style=\"color:#6A737D\">// replace that element if specified\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#F97583\">      return\u003C/span>\u003Cspan style=\"color:#E1E4E8\"> previous.\u003C/span>\u003Cspan style=\"color:#B392F0\">concat\u003C/span>\u003Cspan style=\"color:#E1E4E8\">(value) \u003C/span>\u003Cspan style=\"color:#6A737D\">// always extract original element\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">    }\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#F97583\">    return\u003C/span>\u003Cspan style=\"color:#E1E4E8\"> previous\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">  }, [] \u003C/span>\u003Cspan style=\"color:#F97583\">as\u003C/span>\u003Cspan style=\"color:#79B8FF\"> string\u003C/span>\u003Cspan style=\"color:#E1E4E8\">[])\u003C/span>\u003C/span>\u003C/code>\u003C/pre>\n\u003Cp>The other day my colleague was working on a translation micro-service and was contemplating on how to best extract specific strings from arbitrary JSON data to send to the translation API. The translation API only accepts a flat array of strings, and would return the same translated. He was tinkering with several approaches, but to be honest they were all needlessly complex and over-engineered.\u003C/p>\n\u003Cp>For the next couple of days this problem lingered in the back of my mind, festering, begging for a simple and elegant solution. Finally, I decided to take a stab at the problem and was quite happy with the solution (simplified above). First, things first let’s map out the requirements:\u003C/p>\n\u003Cul>\n\u003Cli>a function which takes arbitrary and possibly nested JSON data\u003C/li>\n\u003Cli>a set of keys which we would like to extract\u003C/li>\n\u003Cli>returns a flat array of strings\u003C/li>\n\u003Cli>a way to map these values back to the original data\u003C/li>\n\u003C/ul>\n\u003Cp>The data would be fairly uniform, but could have several layers of nesting along with arbitrary keys, so my first step was just to traverse the data recursively. I remember from implementing a deep copy function in TypeScript in the past we would need something like the following:\u003C/p>\n\u003Cpre class=\"astro-code github-dark\" style=\"background-color:#24292e;color:#e1e4e8; overflow-x: auto;\" tabindex=\"0\" data-language=\"ts\">\u003Ccode>\u003Cspan class=\"line\">\u003Cspan style=\"color:#F97583\">function\u003C/span>\u003Cspan style=\"color:#B392F0\"> traverse\u003C/span>\u003Cspan style=\"color:#E1E4E8\">(\u003C/span>\u003Cspan style=\"color:#FFAB70\">data\u003C/span>\u003Cspan style=\"color:#F97583\">:\u003C/span>\u003Cspan style=\"color:#79B8FF\"> unknown\u003C/span>\u003Cspan style=\"color:#E1E4E8\">) {\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#F97583\">  if\u003C/span>\u003Cspan style=\"color:#E1E4E8\"> (\u003C/span>\u003Cspan style=\"color:#F97583\">typeof\u003C/span>\u003Cspan style=\"color:#E1E4E8\"> data \u003C/span>\u003Cspan style=\"color:#F97583\">!==\u003C/span>\u003Cspan style=\"color:#9ECBFF\"> 'object'\u003C/span>\u003Cspan style=\"color:#E1E4E8\">) \u003C/span>\u003Cspan style=\"color:#F97583\">return\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#F97583\">  if\u003C/span>\u003Cspan style=\"color:#E1E4E8\"> (Array.\u003C/span>\u003Cspan style=\"color:#B392F0\">isArray\u003C/span>\u003Cspan style=\"color:#E1E4E8\">(data)) {\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#F97583\">    for\u003C/span>\u003Cspan style=\"color:#E1E4E8\"> (\u003C/span>\u003Cspan style=\"color:#F97583\">const\u003C/span>\u003Cspan style=\"color:#79B8FF\"> value\u003C/span>\u003Cspan style=\"color:#F97583\"> of\u003C/span>\u003Cspan style=\"color:#E1E4E8\"> data) {\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#B392F0\">      traverse\u003C/span>\u003Cspan style=\"color:#E1E4E8\">(value)\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">    }\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">  } \u003C/span>\u003Cspan style=\"color:#F97583\">else\u003C/span>\u003Cspan style=\"color:#E1E4E8\"> {\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#F97583\">    for\u003C/span>\u003Cspan style=\"color:#E1E4E8\"> (\u003C/span>\u003Cspan style=\"color:#F97583\">const\u003C/span>\u003Cspan style=\"color:#79B8FF\"> key\u003C/span>\u003Cspan style=\"color:#F97583\"> in\u003C/span>\u003Cspan style=\"color:#E1E4E8\"> data) {\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#B392F0\">      traverse\u003C/span>\u003Cspan style=\"color:#E1E4E8\">(data[key])\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">    }\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">  }\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">}\u003C/span>\u003C/span>\u003C/code>\u003C/pre>\n\u003Cp>Basically, the idea is to recursively traverse any array elements and objects values. Since the \u003Ccode>typeof\u003C/code> operator returns \u003Ccode>'object'\u003C/code> for both arrays and objects, we also need to perform an additional check to see if the value is an array.\u003C/p>\n\u003Cp>However, I was not happy with this approach as it felt a bit too clunky and verbose. Sometimes I really wish the \u003Ccode>typeof\u003C/code> operator would return \u003Ccode>'array'\u003C/code> for arrays, but then I remembered that arrays are objects in TypeScript, and that I could use this to my advantage.\u003C/p>\n\u003Cpre class=\"astro-code github-dark\" style=\"background-color:#24292e;color:#e1e4e8; overflow-x: auto;\" tabindex=\"0\" data-language=\"ts\">\u003Ccode>\u003Cspan class=\"line\">\u003Cspan style=\"color:#F97583\">function\u003C/span>\u003Cspan style=\"color:#B392F0\"> traverse\u003C/span>\u003Cspan style=\"color:#E1E4E8\">(\u003C/span>\u003Cspan style=\"color:#FFAB70\">data\u003C/span>\u003Cspan style=\"color:#F97583\">:\u003C/span>\u003Cspan style=\"color:#79B8FF\"> unknown\u003C/span>\u003Cspan style=\"color:#E1E4E8\">) {\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#F97583\">  if\u003C/span>\u003Cspan style=\"color:#E1E4E8\"> (\u003C/span>\u003Cspan style=\"color:#F97583\">typeof\u003C/span>\u003Cspan style=\"color:#E1E4E8\"> data \u003C/span>\u003Cspan style=\"color:#F97583\">!==\u003C/span>\u003Cspan style=\"color:#9ECBFF\"> 'object'\u003C/span>\u003Cspan style=\"color:#E1E4E8\">) \u003C/span>\u003Cspan style=\"color:#F97583\">return\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#F97583\">  for\u003C/span>\u003Cspan style=\"color:#E1E4E8\"> (\u003C/span>\u003Cspan style=\"color:#F97583\">const\u003C/span>\u003Cspan style=\"color:#79B8FF\"> keyOrIndex\u003C/span>\u003Cspan style=\"color:#F97583\"> in\u003C/span>\u003Cspan style=\"color:#E1E4E8\"> data) {\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#B392F0\">    traverse\u003C/span>\u003Cspan style=\"color:#E1E4E8\">(data[keyOrIndex])\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">  }\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">}\u003C/span>\u003C/span>\u003C/code>\u003C/pre>\n\u003Cp>Sweet! The \u003Cstrong>for…in\u003C/strong> loop will return \u003Cstrong>0, 1, 2, 3…\u003C/strong> for arrays and \u003Cstrong>key1\u003C/strong>, \u003Cstrong>key2\u003C/strong>, \u003Cstrong>key3\u003C/strong>… for objects. Not exactly groundbreaking, but this was a step in the right direction! The next step was to extract specific string values from the data. Since this data would be subject to change over time, one of the requirements was to be able to pass a list of strings which we wanted to extract. This would be a perfect place for a \u003Ccode>Set&#x3C;string>\u003C/code>!\u003C/p>\n\u003Cpre class=\"astro-code github-dark\" style=\"background-color:#24292e;color:#e1e4e8; overflow-x: auto;\" tabindex=\"0\" data-language=\"ts\">\u003Ccode>\u003Cspan class=\"line\">\u003Cspan style=\"color:#F97583\">function\u003C/span>\u003Cspan style=\"color:#B392F0\"> extract\u003C/span>\u003Cspan style=\"color:#E1E4E8\">(\u003C/span>\u003Cspan style=\"color:#FFAB70\">data\u003C/span>\u003Cspan style=\"color:#F97583\">:\u003C/span>\u003Cspan style=\"color:#79B8FF\"> unknown\u003C/span>\u003Cspan style=\"color:#E1E4E8\">, \u003C/span>\u003Cspan style=\"color:#FFAB70\">keys\u003C/span>\u003Cspan style=\"color:#F97583\">:\u003C/span>\u003Cspan style=\"color:#B392F0\"> Set\u003C/span>\u003Cspan style=\"color:#E1E4E8\">&#x3C;\u003C/span>\u003Cspan style=\"color:#79B8FF\">string\u003C/span>\u003Cspan style=\"color:#E1E4E8\">>)\u003C/span>\u003Cspan style=\"color:#F97583\">:\u003C/span>\u003Cspan style=\"color:#79B8FF\"> string\u003C/span>\u003Cspan style=\"color:#E1E4E8\">[] {\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#F97583\">  if\u003C/span>\u003Cspan style=\"color:#E1E4E8\"> (\u003C/span>\u003Cspan style=\"color:#F97583\">typeof\u003C/span>\u003Cspan style=\"color:#E1E4E8\"> data \u003C/span>\u003Cspan style=\"color:#F97583\">!==\u003C/span>\u003Cspan style=\"color:#9ECBFF\"> 'object'\u003C/span>\u003Cspan style=\"color:#E1E4E8\">) \u003C/span>\u003Cspan style=\"color:#F97583\">return\u003C/span>\u003Cspan style=\"color:#E1E4E8\"> []\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#F97583\">  let\u003C/span>\u003Cspan style=\"color:#E1E4E8\"> extracted\u003C/span>\u003Cspan style=\"color:#F97583\">:\u003C/span>\u003Cspan style=\"color:#79B8FF\"> string\u003C/span>\u003Cspan style=\"color:#E1E4E8\">[] \u003C/span>\u003Cspan style=\"color:#F97583\">=\u003C/span>\u003Cspan style=\"color:#E1E4E8\"> []\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#F97583\">  for\u003C/span>\u003Cspan style=\"color:#E1E4E8\"> (\u003C/span>\u003Cspan style=\"color:#F97583\">const\u003C/span>\u003Cspan style=\"color:#79B8FF\"> keyOrIndex\u003C/span>\u003Cspan style=\"color:#F97583\"> in\u003C/span>\u003Cspan style=\"color:#E1E4E8\"> data) {\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#F97583\">    const\u003C/span>\u003Cspan style=\"color:#79B8FF\"> value\u003C/span>\u003Cspan style=\"color:#F97583\"> =\u003C/span>\u003Cspan style=\"color:#E1E4E8\"> data[keyOrIndex]\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#F97583\">    if\u003C/span>\u003Cspan style=\"color:#E1E4E8\"> (\u003C/span>\u003Cspan style=\"color:#F97583\">typeof\u003C/span>\u003Cspan style=\"color:#E1E4E8\"> value \u003C/span>\u003Cspan style=\"color:#F97583\">===\u003C/span>\u003Cspan style=\"color:#9ECBFF\"> 'string'\u003C/span>\u003Cspan style=\"color:#F97583\"> &#x26;&#x26;\u003C/span>\u003Cspan style=\"color:#E1E4E8\"> keys.\u003C/span>\u003Cspan style=\"color:#B392F0\">has\u003C/span>\u003Cspan style=\"color:#E1E4E8\">(keyOrIndex)) {\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">      extracted.\u003C/span>\u003Cspan style=\"color:#B392F0\">push\u003C/span>\u003Cspan style=\"color:#E1E4E8\">(value)\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">    } \u003C/span>\u003Cspan style=\"color:#F97583\">else\u003C/span>\u003Cspan style=\"color:#E1E4E8\"> {\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#F97583\">      const\u003C/span>\u003Cspan style=\"color:#79B8FF\"> subValuesExtracted\u003C/span>\u003Cspan style=\"color:#F97583\"> =\u003C/span>\u003Cspan style=\"color:#B392F0\"> extract\u003C/span>\u003Cspan style=\"color:#E1E4E8\">(value, keys)\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">      extracted \u003C/span>\u003Cspan style=\"color:#F97583\">=\u003C/span>\u003Cspan style=\"color:#E1E4E8\"> extracted.\u003C/span>\u003Cspan style=\"color:#B392F0\">concat\u003C/span>\u003Cspan style=\"color:#E1E4E8\">(subValuesExtracted)\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">    }\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">  }\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#F97583\">  return\u003C/span>\u003Cspan style=\"color:#E1E4E8\"> extracted\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">}\u003C/span>\u003C/span>\u003C/code>\u003C/pre>",{"headings":96,"imagePaths":97,"frontmatter":98},[],[],{"title":86,"description":87,"author":49,"pubDate":99,"heroImage":89,"slug":83},"Dec 16 2022","typescript-snippets",{"id":100,"data":102,"body":107,"filePath":108,"digest":109,"rendered":110},{"title":103,"description":104,"pubDate":105,"heroImage":106},"Typescript Snippets","Useful TypeScript snippets for everyday use which can be easily copied and pasted.",["Date","2024-05-14T07:00:00.000Z"],"/images/typescript-banner.png","This document contains a collection of useful, interesting and sometimes quirky snippets of TypeScript I've gathered over the years. Some of these patterns are not unique to TypeScript, but in these examples they should be also type-safe (hopefully).\n\n### Builder Pattern\n\nThe following snippet creates a typed object by progressively adding properties, this can be useful for defining different errors in an application.\n\n**CAVEAT**: In order for the `this` in `register()` method to work correctly, the definition cannot use an arrow function.\n\n```ts\ntype ErrorRegistry\u003CT extends string> = Record\u003CT, number> & {\n  register\u003CK extends string>(error: K, code: number): ErrorRegistry\u003CK | T>\n}\n\nfunction createErrorRegistry\u003CT extends string>(domain: T) {\n  const errorRegistry = {\n    register\u003CK extends T>(error: K, code: number) {\n      return {\n        ...this,\n        [error]: code,\n      } as ErrorRegistry\u003CT | K>\n    },\n  } as ErrorRegistry\u003CT>\n  return errorRegistry\n}\n\nconst output = createErrorRegistry('app')\n  .register('linking', 100)\n  .register('billing', 200)\n  .register('surface', 200)\n```\n\n[Typescript Playground Link](https://www.typescriptlang.org/play/?target=99#code/C4TwDgpgBAogTnA9nAShA5gSwM7DiAHgBUoIAPYCAOwBNspc5Mr0A+KAXijQGNkbiAGihUArgFsARhDjsAZFADeAKChqocDDkpwCAaVIVqdBnmZsAFDKRwAXFD3C+NCPbFSZASnvwbaLIyEBgA+UESsygC+ysoAZqJUPMCYiFRQPJoAhpS+yP7a+MSGlLT0jOasFjSI4pnM9kSeSqrqfFS4pAh5WoGczeoDGj06+sXG9OFWXXYOTogubhLScE0qg+tDwKJwaWsb+wB0R8AAFjiCLfvrANrWyAC69s4Ql1eRUJn0uajDhSShenYrwG0RBHy+03ygWIEQGmi2O06fl+ICiMTaHUQomAYGxfQyEGyEG+ULwIAsAHJMmAwBTPK8DpoAjpKQAbZgAa3MFOEAEYAAz8+kDRnDGSUySYVnslg8qAAJkFwvUouZ4op2G2sUyPAgcsVQvRqWwiFZEAOrMQ6AsWJx2KaAHoHVAgA)\n\n### Branded Types\n\nThe following snippet defines a utility type `Brand\u003Cany, string>` which can be used to create an alias of an existing type, which is more strict than the original type.\n\n```ts\ndeclare const BrandSymbol: unique symbol\n\ntype Brand\u003CT, Description extends string> = T & {\n  [BrandSymbol]: Description\n}\n\n// example usage\n\ntype UserId = Brand\u003Cnumber, 'UserId'>\n\nfunction trackUser(userId: UserId) {\n  console.log('user:', userId)\n}\n\nconst userOne = 123 as UserId\nconst userTwo = 123\n\ntrackUser(userOne) // ok\ntrackUser(userTwo) // error\n```\n\n[Typescript Playground Link](https://www.typescriptlang.org/play/?target=99#code/FAEwpgxgNghgTmABBA9gOwM4BdECE4xogDKAngLYBGKUAXIgK5oCWAjg0hhdVMMFqQAOSfIRAAeACoAaRABEwGCHGaCszdIjAAPLGCIZE2FWgDmAPkQBeRJMQAyRAG9giN4gDaoomSo0AuvQKSipqGmjAAL58APQxWtow5IJQSAwYMKZgfALCiACqGGBwAJIg1ngEROJoDFTFsgDkhcVljeZ8AGZMEOqaWAQQANYtcAAU6a0g9KNlAJTOru6omDRgAHRQKKZjjZNwtI2y+-NRfCvYjEVwAPJoSDYAjABMAMyIMIazIMAXOPuSADuKAqL1eOUGI2uE2udzACziiBQQ34kNGMOKQJQCPixTgKDgfCAA)\n\n### Monad\\*\n\nThe following is a monad-like type which has support for operatings over elements of an array, or the array itself.\n\n```ts\n/**\n * This class facilitates the chaining of operations on a value,\n * each task will either return a new Monad or MonadIterable.\n */\nexport class Monad\u003CI> {\n  constructor(public value: I) {}\n\n  public pipe\u003CO>(operation: (value: I) => O[]): MonadIterable\u003CO[]>\n\n  public pipe\u003CO>(operation: (value: I) => O): Monad\u003CO>\n\n  public pipe\u003CO>(operation: (value: I) => O): Monad\u003CO> | MonadIterable\u003CO[]> {\n    const result = operation(this.value)\n    return Array.isArray(result) ? new MonadIterable(result) : new Monad(result)\n  }\n\n  public print(label?: string): Monad\u003CI> {\n    console.log(`${label}:` ?? 'value:', this.value)\n    return this\n  }\n}\n\n/**\n * This is an extension of the Monad class that allows for operations\n * on iterable values. The reduce method will convert back to\n * a basic Monad.\n */\nexport class MonadIterable\u003CI extends any[]> extends Monad\u003Cany> {\n  public iterate\u003CO>(\n    operation: (value: I[number], index?: number, array?: I) => O\n  ): MonadIterable\u003CO[]> {\n    return new MonadIterable(this.value.map(operation))\n  }\n\n  public filter\u003CO>(\n    operation: (value: I[number], index?: number, array?: I) => O\n  ): MonadIterable\u003CI> {\n    return new MonadIterable(this.value.filter(operation))\n  }\n\n  public reduce\u003CO>(\n    operation: (prev: O, value: I[number], index?: number, array?: I) => O,\n    initialValue: Partial\u003CO> = {}\n  ): Monad\u003CO> {\n    return new Monad(this.value.reduce(operation, initialValue))\n  }\n\n  /**\n   * Converts an iterable monad back into a normal monad.\n   */\n  public combine\u003CO>(operation: (value: I) => O): Monad\u003CO> {\n    return new Monad(operation(this.value))\n  }\n}\n```\n\n[Try it on the TypeScript playground!](https://www.typescriptlang.org/play/?target=99#code/PQKhCgAIUgVALAlgZ0gYwDYENmoGZZqIaIAuWpApqqfJevFogHYsDmkA9nlwA6UAnCok7NUoyFkgA3LBgCulADRQYlQvEjlkAa0gB3YhkiUydAZAGVS8gc0mRmlfZACyorABMuF98y8AklRCAEYYlAB0qsDgmDiofl4APAEAfJAA3uBQ6KLIpALyaKScAgAUvPJhiGgycooAXJABAJSZAL7ZkJCV1bW8iPxJAPKpZZz8QqQizE1lsgqUTa2QALzpwwDaALotTYmeQYJYYZQjO6ldPVUk-YNno+OTwqJzC43NbeuQw3tuHp4Rpccr1bj17kCnsdpq9IPN6ktPmsNn8DkDIAAff7+Q7BE7hc7bdJZbrdNB5UiWajyDCU1Z8aEzMq0FARd6UFo5bpWGx2SAAQQEQgAnhEUIKRWUrMgaaQ2gB+RzObGBPGnKXU2ltJpOFwHDUyrU5Togm41HoCFikMrYEKUDDypr5S3MNiogEpYlc3JiTjhCIYThsMoAAwAJBlbfb2g0Q5B5YqAOTshqJpRaJDINkIzmkqm8+ws5DG8Am0AQaBwTOQFCSeyUAAeVDEMy4PFo9AO6GwuAzFEkGED+nwpQZUxmxcrEjIx1OdUWWar9CsniK9AAttZ4JxvIZBz7pIJKSFCHoSqoHCfkOaDlFoDE4r2DkdQgSAiYm5RmJ5UFhmMKLg-ZsfxVQE-2FL1TT6Gs8SoSEJkZWF4UWZZNmYeR1ztARtnTFhPEbR1HAwrD0ywIUsGFQiVm+X59gBF98QeQCSVJHlbHsXVQIY9Ui2zRYInXLBeChcdRBaXNIBNbpQXNPBiGCeDnhhWY4RTZo0OIwQcJrb8CJ1TSBFI8jKOWL4UTonFuLfL08zYvlOOfNVwmZTM+MUCI5NpQQRJeZhxJLKCwRXNdIW9BDRJUiorGkJphnTNSAg0zCtNw3SG0I9DksMyRjKosyfhUPMWDIRA5AANQRJoAAUyOmOR0XpDJOm6d0cXRFjuWsdilT1AEXNZdkImCtBKB85TUpK8qcwkqTIHLLkYAAYVEQ8BFIX97BnV8NwBSATzQPQrU4BxmFKQTjHXAE726EAYmks1anJTCWAeMZwt8t5KqRGjWuSUZMm9OyOOVfV3uU-qs3Zfzuk6MtgDWVZEaR5GUdRtH0YxzHwGAeGAFEGywddeHCbH4cx8mKcprHYgpLh5FISo6R60CygyecPgARkkiTugiAZ+DKZkcB0fLtB0Nz6BgAAmAAGGWecgPn7kFzKQny1WIhKABlAp2DKaHSSVgWymdPzkUgU2ImQYmyDKAAiO2Dd5raKFGso0EYAR8o9siIh9gRlvw-lrXlhWPPk7zxmKTh8s4aPNc4HWXWDAAOJ3FeGt3eGi9M0FsL3zYAOQMqLKGkNoAGp0Hz9N5e9PmXWtO28-yTh1wAfSjDBHfr9kgA)\n\n### Define Class via Enum (WIP)\n\n**NOTE**: This has only been tested on TypeScript 5.4.5 and is still expiramental, see [here for example](https://www.typescriptlang.org/play/?target=99&ts=5.5.0-beta#code/MYewdgziA2CmB0w4EMBOAKAlAKF72YArgLYAEAqhLKgMrAAWsxypA3tqZ6YVagJIATUgF5SAcj4A5ACoBRAOKyASqUkB5SavIAZbWIA0HLgDMAlqggAXScmKwR4uQA1pqjVt0GjnaMis27BzFnV3VNSR09QwBfXEsATwAHe1kiYgBhXwgIAB5pAD4Hdi5SMFgAd1J0eBq0AHMIAC5SZDB4gG0AXUxm6WxY7ATk0gB1VFNLWGQAIzg8wtFWUgBaVCmBcGh40naABVJTMFIAa1h4kGNSaU7evc7SaIBuPCGUtN3UEETcgqLvHdO20OJzOFyuN1KJGm1FIAB9SFZxmA6nDSNMQDApkd4QARZCTfq4MC2WAQRLIYD2TJ+CBsf6wAAeiRAqEspGMhDAwEspnApCQNIAYp9iKkSDlZPorvl0AQSHRGMxmrIeqQxRksj9CsUSlw1pZCKgjgLsnTdeb+eBEYRuSz0PUmmr3p9vhL8pg6f8Lbq4Gz6KYBAICDRLPjYMrnV9crIFqQ1NMAFawbnwGmmOpgdCsaJSh04L3ekwsqqgSBsxIu6gJA5HOXEBVMZAe9gFwu60tQODwaAgOroAAGQbMYEOKIrXyr2wAJKxx8lWfFov38222-Gkymh4dYB8Jwv0JZ-RApXPJ1KdavV3XqDM4M1LKhCLBDJfL6WzHVDbfw6QH0+X6+bblOMoazD+f7Pq2gFcHUsBsgAbsg0BPlgZrQZe+qGkc-qBsGoaTO0p4Lp0UHoTmpHQVQCFIShZQMpYABqNGwM2FHoZwOFBmAIZhoRlbEQ4dGMcxbGvrE7FcNEOBkaJ4kWtELS0hehZlJU9qoA0EYkLuroxqqfTenJnCxAMrykAA0mctKiICYKvGClDUA2zDYAA9K5XAAHoAPwvEk9jOcgABChwCKOfwlDw1CCM0aTQqg-xmBY1gks0iKjv8WQpXYaUPhlAwmrSjmoKQjKTGAAi0tS2SIJqwogKKaQ5PZlzFYFUqBSFFWjjKbUMI2rH-FRASwOgHLQNAI25UidSsd6HZsu0SX+CSUpZSN9yiONk0kvAZLQBM6AAESkEd0kWoepgQPAy3ZfYW3mCtdhQZd13rSSDjvc9JQmXg2ALaQxDxMVgkVBQvBZv8UX8AIzQAIwAEwAMwAZwt1TeI6QwIcXglF9P7BFM9CtLjXBlagyD3o+sD9PmQPFXtcEjcdQUgNMpBBTaxyTKgZ24B2mLdr26D07wmBAA).\n\nThis allows us to define an enum which will auto-_magically_ be created into a class definition, and then extended. This is great for a simple ORM with SQLite!\n\n```ts\n// SPECIAL TYPES\n\ntype EnumClass\u003CT> = {\n  new (...args: any[]): T\n}\n\ntype Writeable\u003CT> = { -readonly [P in keyof T]: T[P] }\n\ntype EnumProps\u003CT> = {\n  [key in keyof T]: number | string | boolean | Date\n}\n\n// THE MAGIC\n\nnamespace Class {\n  export function classFromEnum\u003CE, T>(enumSchema: E): EnumClass\u003CT> {\n    return class {\n      constructor(args: EnumProps\u003CE>) {\n        let hiddenState: EnumProps\u003CE> = Object.assign({}, args)\n\n        for (const property in enumSchema) {\n          console.log(`defining property ${property}`)\n\n          Object.defineProperty(this, property, {\n            enumerable: true,\n            configurable: true,\n            writable: true,\n            get value() {\n              return hiddenState[property]\n            },\n            set value(nextValue) {\n              hiddenState[property] = nextValue\n            },\n          })\n        }\n      }\n    } as {\n      new (args: EnumProps\u003CE>): T\n    }\n  }\n}\n\n// EXAMPLE UASGES\n\nenum UserSchema {\n  userId = 'INTEGER NON NULL',\n  firstName = 'TEXT NON NULL',\n  lastName = 'TEXT NON NULL',\n}\n\ntype SchemaBinding = {\n  userId: number\n  firstName: string\n  lastName: string\n}\n\nclass User extends Class.classFromEnum\u003Ctypeof UserSchema, SchemaBinding>(\n  UserSchema\n) {\n  setName(fullName: string) {\n    const [firstName, lastName] = fullName.split(' ')\n    this.firstName = firstName\n    this.lastName = lastName\n  }\n}\n\nconst myUser = new User({\n  userId: 123,\n  firstName: 'Bob',\n  lastName: 'Smitch',\n  extra: true,\n})\n\nmyUser.setName('Colin Teahan')\n\nconsole.log(myUser.firstName) // Colin\n```\n\n[Try it on the TypeScript Playground](https://www.typescriptlang.org/play/?target=99&ts=5.5.0-beta#code/MYewdgziA2CmB0w4EMBOAKAlAKF72YArgLYAEAqhLKgMrAAWsxypA3tqZ6YVagJIATUgF5SAcj4A5ACoBRAOKyASqUkB5SavIAZbWIA0HLgDMAlqggAXScmKwR4uQA1pqjVt0GjnaMis27BzFnV3VNSR09QwBfXEsATwAHe1kiYgBhXwgIAB5pAD4Hdi5SMFgAd1J0eBq0AHMIAC5SZDB4gG0AXUxm6WxY7ATk0gB1VFNLWGQAIzg8wtFWUgBaVCmBcGh40naABVJTMFIAa1h4kGNSaU7evc7SaIBuPCGUtN3UEETcgqLvHdO20OJzOFyuN1KJGm1FIAB9SFZxmA6nDSNMQDApkd4QARZCTfq4MC2WAQRLIYD2TJ+CBsf6wAAeiRAqEspGMhDAwEspnApCQNIAYp9iKkSDlZPorvl0AQSHRGMxmrIeqQxRksj9CsUSlw1pZCKgjgLsnTdeb+eBEYRuSz0PUmmr3p9vhL8pg6f8Lbq4Gz6KYBAICDRLPjYMrnV9crIFqQ1NMAFawbnwGmmOpgdCsaJSh04L3ekwsqqgSBsxIu6gJA5HOXEBVMZAe9gFwu60tQODwaAgOroAAGQbMYEOKIrXyr2wAJKxx8lWfFov38222-Gkymh4dYB8Jwv0JZ-RApXPJ1KdavV3XqDM4M1LKhCLBDJfL6WzHVDbfw6QH0+X6+bblOMoazD+f7Pq2gFcHUsBsgAbsg0BPlgZrQZe+qGkc-qBsGoaTO0p4Lp0UHoTmpHQVQCFIShZQMpYABqNGwM2FHoZwOFBmAIZhoRlbEQ4dGMcxbGvrE7FcNEOBkaJ4kWtELS0hehZlJU9qoA0EYkLuroxqqfTenJnCxAMrykAA0mctKiICYKvGClDUA2zDYAA9K5XAAHoAPwvEk9jOcgABChwCKOfwlDw1CCM0aTQqg-xmBY1gks0iKjv8WQpXYaUPhlAwmrSjmoKQjKTGAAi0tS2SIJqwogKKaQ5PZlzFYFUqBSFFWjjKbUMI2rH-FRASwOgHLQNAI25UidSsd6HZsu0SX+CSUpZSN9yiONk0kvAZLQBM6AAESkEd0kWoepgQPAy3ZfYW3mCtdhQZd13rSSDjvc9JQmXg2ALaQxDxMVgkVBQvBZv8UX8AIzQAIwAEwAMwAZwt1TeI6QwIcXglF9P7BFM9CtLjXBlagyD3o+sD9PmQPFXtcEjcdQUgNMpBBTaxyTKgZ24B2mLdr26D07wmBAA)","src/content/blog/typescript-snippets.md","670d77fa6c39eeb4",{"html":111,"metadata":112},"\u003Cp>This document contains a collection of useful, interesting and sometimes quirky snippets of TypeScript I’ve gathered over the years. Some of these patterns are not unique to TypeScript, but in these examples they should be also type-safe (hopefully).\u003C/p>\n\u003Ch3 id=\"builder-pattern\">Builder Pattern\u003C/h3>\n\u003Cp>The following snippet creates a typed object by progressively adding properties, this can be useful for defining different errors in an application.\u003C/p>\n\u003Cp>\u003Cstrong>CAVEAT\u003C/strong>: In order for the \u003Ccode>this\u003C/code> in \u003Ccode>register()\u003C/code> method to work correctly, the definition cannot use an arrow function.\u003C/p>\n\u003Cpre class=\"astro-code github-dark\" style=\"background-color:#24292e;color:#e1e4e8; overflow-x: auto;\" tabindex=\"0\" data-language=\"ts\">\u003Ccode>\u003Cspan class=\"line\">\u003Cspan style=\"color:#F97583\">type\u003C/span>\u003Cspan style=\"color:#B392F0\"> ErrorRegistry\u003C/span>\u003Cspan style=\"color:#E1E4E8\">&#x3C;\u003C/span>\u003Cspan style=\"color:#B392F0\">T\u003C/span>\u003Cspan style=\"color:#F97583\"> extends\u003C/span>\u003Cspan style=\"color:#79B8FF\"> string\u003C/span>\u003Cspan style=\"color:#E1E4E8\">> \u003C/span>\u003Cspan style=\"color:#F97583\">=\u003C/span>\u003Cspan style=\"color:#B392F0\"> Record\u003C/span>\u003Cspan style=\"color:#E1E4E8\">&#x3C;\u003C/span>\u003Cspan style=\"color:#B392F0\">T\u003C/span>\u003Cspan style=\"color:#E1E4E8\">, \u003C/span>\u003Cspan style=\"color:#79B8FF\">number\u003C/span>\u003Cspan style=\"color:#E1E4E8\">> \u003C/span>\u003Cspan style=\"color:#F97583\">&#x26;\u003C/span>\u003Cspan style=\"color:#E1E4E8\"> {\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#B392F0\">  register\u003C/span>\u003Cspan style=\"color:#E1E4E8\">&#x3C;\u003C/span>\u003Cspan style=\"color:#B392F0\">K\u003C/span>\u003Cspan style=\"color:#F97583\"> extends\u003C/span>\u003Cspan style=\"color:#79B8FF\"> string\u003C/span>\u003Cspan style=\"color:#E1E4E8\">>(\u003C/span>\u003Cspan style=\"color:#FFAB70\">error\u003C/span>\u003Cspan style=\"color:#F97583\">:\u003C/span>\u003Cspan style=\"color:#B392F0\"> K\u003C/span>\u003Cspan style=\"color:#E1E4E8\">, \u003C/span>\u003Cspan style=\"color:#FFAB70\">code\u003C/span>\u003Cspan style=\"color:#F97583\">:\u003C/span>\u003Cspan style=\"color:#79B8FF\"> number\u003C/span>\u003Cspan style=\"color:#E1E4E8\">)\u003C/span>\u003Cspan style=\"color:#F97583\">:\u003C/span>\u003Cspan style=\"color:#B392F0\"> ErrorRegistry\u003C/span>\u003Cspan style=\"color:#E1E4E8\">&#x3C;\u003C/span>\u003Cspan style=\"color:#B392F0\">K\u003C/span>\u003Cspan style=\"color:#F97583\"> |\u003C/span>\u003Cspan style=\"color:#B392F0\"> T\u003C/span>\u003Cspan style=\"color:#E1E4E8\">>\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">}\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#F97583\">function\u003C/span>\u003Cspan style=\"color:#B392F0\"> createErrorRegistry\u003C/span>\u003Cspan style=\"color:#E1E4E8\">&#x3C;\u003C/span>\u003Cspan style=\"color:#B392F0\">T\u003C/span>\u003Cspan style=\"color:#F97583\"> extends\u003C/span>\u003Cspan style=\"color:#79B8FF\"> string\u003C/span>\u003Cspan style=\"color:#E1E4E8\">>(\u003C/span>\u003Cspan style=\"color:#FFAB70\">domain\u003C/span>\u003Cspan style=\"color:#F97583\">:\u003C/span>\u003Cspan style=\"color:#B392F0\"> T\u003C/span>\u003Cspan style=\"color:#E1E4E8\">) {\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#F97583\">  const\u003C/span>\u003Cspan style=\"color:#79B8FF\"> errorRegistry\u003C/span>\u003Cspan style=\"color:#F97583\"> =\u003C/span>\u003Cspan style=\"color:#E1E4E8\"> {\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#B392F0\">    register\u003C/span>\u003Cspan style=\"color:#E1E4E8\">&#x3C;\u003C/span>\u003Cspan style=\"color:#B392F0\">K\u003C/span>\u003Cspan style=\"color:#F97583\"> extends\u003C/span>\u003Cspan style=\"color:#B392F0\"> T\u003C/span>\u003Cspan style=\"color:#E1E4E8\">>(\u003C/span>\u003Cspan style=\"color:#FFAB70\">error\u003C/span>\u003Cspan style=\"color:#F97583\">:\u003C/span>\u003Cspan style=\"color:#B392F0\"> K\u003C/span>\u003Cspan style=\"color:#E1E4E8\">, \u003C/span>\u003Cspan style=\"color:#FFAB70\">code\u003C/span>\u003Cspan style=\"color:#F97583\">:\u003C/span>\u003Cspan style=\"color:#79B8FF\"> number\u003C/span>\u003Cspan style=\"color:#E1E4E8\">) {\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#F97583\">      return\u003C/span>\u003Cspan style=\"color:#E1E4E8\"> {\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#F97583\">        ...\u003C/span>\u003Cspan style=\"color:#79B8FF\">this\u003C/span>\u003Cspan style=\"color:#E1E4E8\">,\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">        [error]: code,\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">      } \u003C/span>\u003Cspan style=\"color:#F97583\">as\u003C/span>\u003Cspan style=\"color:#B392F0\"> ErrorRegistry\u003C/span>\u003Cspan style=\"color:#E1E4E8\">&#x3C;\u003C/span>\u003Cspan style=\"color:#B392F0\">T\u003C/span>\u003Cspan style=\"color:#F97583\"> |\u003C/span>\u003Cspan style=\"color:#B392F0\"> K\u003C/span>\u003Cspan style=\"color:#E1E4E8\">>\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">    },\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">  } \u003C/span>\u003Cspan style=\"color:#F97583\">as\u003C/span>\u003Cspan style=\"color:#B392F0\"> ErrorRegistry\u003C/span>\u003Cspan style=\"color:#E1E4E8\">&#x3C;\u003C/span>\u003Cspan style=\"color:#B392F0\">T\u003C/span>\u003Cspan style=\"color:#E1E4E8\">>\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#F97583\">  return\u003C/span>\u003Cspan style=\"color:#E1E4E8\"> errorRegistry\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">}\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#F97583\">const\u003C/span>\u003Cspan style=\"color:#79B8FF\"> output\u003C/span>\u003Cspan style=\"color:#F97583\"> =\u003C/span>\u003Cspan style=\"color:#B392F0\"> createErrorRegistry\u003C/span>\u003Cspan style=\"color:#E1E4E8\">(\u003C/span>\u003Cspan style=\"color:#9ECBFF\">'app'\u003C/span>\u003Cspan style=\"color:#E1E4E8\">)\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">  .\u003C/span>\u003Cspan style=\"color:#B392F0\">register\u003C/span>\u003Cspan style=\"color:#E1E4E8\">(\u003C/span>\u003Cspan style=\"color:#9ECBFF\">'linking'\u003C/span>\u003Cspan style=\"color:#E1E4E8\">, \u003C/span>\u003Cspan style=\"color:#79B8FF\">100\u003C/span>\u003Cspan style=\"color:#E1E4E8\">)\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">  .\u003C/span>\u003Cspan style=\"color:#B392F0\">register\u003C/span>\u003Cspan style=\"color:#E1E4E8\">(\u003C/span>\u003Cspan style=\"color:#9ECBFF\">'billing'\u003C/span>\u003Cspan style=\"color:#E1E4E8\">, \u003C/span>\u003Cspan style=\"color:#79B8FF\">200\u003C/span>\u003Cspan style=\"color:#E1E4E8\">)\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">  .\u003C/span>\u003Cspan style=\"color:#B392F0\">register\u003C/span>\u003Cspan style=\"color:#E1E4E8\">(\u003C/span>\u003Cspan style=\"color:#9ECBFF\">'surface'\u003C/span>\u003Cspan style=\"color:#E1E4E8\">, \u003C/span>\u003Cspan style=\"color:#79B8FF\">200\u003C/span>\u003Cspan style=\"color:#E1E4E8\">)\u003C/span>\u003C/span>\u003C/code>\u003C/pre>\n\u003Cp>\u003Ca href=\"https://www.typescriptlang.org/play/?target=99#code/C4TwDgpgBAogTnA9nAShA5gSwM7DiAHgBUoIAPYCAOwBNspc5Mr0A+KAXijQGNkbiAGihUArgFsARhDjsAZFADeAKChqocDDkpwCAaVIVqdBnmZsAFDKRwAXFD3C+NCPbFSZASnvwbaLIyEBgA+UESsygC+ysoAZqJUPMCYiFRQPJoAhpS+yP7a+MSGlLT0jOasFjSI4pnM9kSeSqrqfFS4pAh5WoGczeoDGj06+sXG9OFWXXYOTogubhLScE0qg+tDwKJwaWsb+wB0R8AAFjiCLfvrANrWyAC69s4Ql1eRUJn0uajDhSShenYrwG0RBHy+03ygWIEQGmi2O06fl+ICiMTaHUQomAYGxfQyEGyEG+ULwIAsAHJMmAwBTPK8DpoAjpKQAbZgAa3MFOEAEYAAz8+kDRnDGSUySYVnslg8qAAJkFwvUouZ4op2G2sUyPAgcsVQvRqWwiFZEAOrMQ6AsWJx2KaAHoHVAgA\">Typescript Playground Link\u003C/a>\u003C/p>\n\u003Ch3 id=\"branded-types\">Branded Types\u003C/h3>\n\u003Cp>The following snippet defines a utility type \u003Ccode>Brand&#x3C;any, string>\u003C/code> which can be used to create an alias of an existing type, which is more strict than the original type.\u003C/p>\n\u003Cpre class=\"astro-code github-dark\" style=\"background-color:#24292e;color:#e1e4e8; overflow-x: auto;\" tabindex=\"0\" data-language=\"ts\">\u003Ccode>\u003Cspan class=\"line\">\u003Cspan style=\"color:#F97583\">declare\u003C/span>\u003Cspan style=\"color:#F97583\"> const\u003C/span>\u003Cspan style=\"color:#79B8FF\"> BrandSymbol\u003C/span>\u003Cspan style=\"color:#F97583\">:\u003C/span>\u003Cspan style=\"color:#B392F0\"> unique\u003C/span>\u003Cspan style=\"color:#79B8FF\"> symbol\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#F97583\">type\u003C/span>\u003Cspan style=\"color:#B392F0\"> Brand\u003C/span>\u003Cspan style=\"color:#E1E4E8\">&#x3C;\u003C/span>\u003Cspan style=\"color:#B392F0\">T\u003C/span>\u003Cspan style=\"color:#E1E4E8\">, \u003C/span>\u003Cspan style=\"color:#B392F0\">Description\u003C/span>\u003Cspan style=\"color:#F97583\"> extends\u003C/span>\u003Cspan style=\"color:#79B8FF\"> string\u003C/span>\u003Cspan style=\"color:#E1E4E8\">> \u003C/span>\u003Cspan style=\"color:#F97583\">=\u003C/span>\u003Cspan style=\"color:#B392F0\"> T\u003C/span>\u003Cspan style=\"color:#F97583\"> &#x26;\u003C/span>\u003Cspan style=\"color:#E1E4E8\"> {\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">  [BrandSymbol]\u003C/span>\u003Cspan style=\"color:#F97583\">:\u003C/span>\u003Cspan style=\"color:#B392F0\"> Description\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">}\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#6A737D\">// example usage\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#F97583\">type\u003C/span>\u003Cspan style=\"color:#B392F0\"> UserId\u003C/span>\u003Cspan style=\"color:#F97583\"> =\u003C/span>\u003Cspan style=\"color:#B392F0\"> Brand\u003C/span>\u003Cspan style=\"color:#E1E4E8\">&#x3C;\u003C/span>\u003Cspan style=\"color:#79B8FF\">number\u003C/span>\u003Cspan style=\"color:#E1E4E8\">, \u003C/span>\u003Cspan style=\"color:#9ECBFF\">'UserId'\u003C/span>\u003Cspan style=\"color:#E1E4E8\">>\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#F97583\">function\u003C/span>\u003Cspan style=\"color:#B392F0\"> trackUser\u003C/span>\u003Cspan style=\"color:#E1E4E8\">(\u003C/span>\u003Cspan style=\"color:#FFAB70\">userId\u003C/span>\u003Cspan style=\"color:#F97583\">:\u003C/span>\u003Cspan style=\"color:#B392F0\"> UserId\u003C/span>\u003Cspan style=\"color:#E1E4E8\">) {\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">  console.\u003C/span>\u003Cspan style=\"color:#B392F0\">log\u003C/span>\u003Cspan style=\"color:#E1E4E8\">(\u003C/span>\u003Cspan style=\"color:#9ECBFF\">'user:'\u003C/span>\u003Cspan style=\"color:#E1E4E8\">, userId)\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">}\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#F97583\">const\u003C/span>\u003Cspan style=\"color:#79B8FF\"> userOne\u003C/span>\u003Cspan style=\"color:#F97583\"> =\u003C/span>\u003Cspan style=\"color:#79B8FF\"> 123\u003C/span>\u003Cspan style=\"color:#F97583\"> as\u003C/span>\u003Cspan style=\"color:#B392F0\"> UserId\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#F97583\">const\u003C/span>\u003Cspan style=\"color:#79B8FF\"> userTwo\u003C/span>\u003Cspan style=\"color:#F97583\"> =\u003C/span>\u003Cspan style=\"color:#79B8FF\"> 123\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#B392F0\">trackUser\u003C/span>\u003Cspan style=\"color:#E1E4E8\">(userOne) \u003C/span>\u003Cspan style=\"color:#6A737D\">// ok\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#B392F0\">trackUser\u003C/span>\u003Cspan style=\"color:#E1E4E8\">(userTwo) \u003C/span>\u003Cspan style=\"color:#6A737D\">// error\u003C/span>\u003C/span>\u003C/code>\u003C/pre>\n\u003Cp>\u003Ca href=\"https://www.typescriptlang.org/play/?target=99#code/FAEwpgxgNghgTmABBA9gOwM4BdECE4xogDKAngLYBGKUAXIgK5oCWAjg0hhdVMMFqQAOSfIRAAeACoAaRABEwGCHGaCszdIjAAPLGCIZE2FWgDmAPkQBeRJMQAyRAG9giN4gDaoomSo0AuvQKSipqGmjAAL58APQxWtow5IJQSAwYMKZgfALCiACqGGBwAJIg1ngEROJoDFTFsgDkhcVljeZ8AGZMEOqaWAQQANYtcAAU6a0g9KNlAJTOru6omDRgAHRQKKZjjZNwtI2y+-NRfCvYjEVwAPJoSDYAjABMAMyIMIazIMAXOPuSADuKAqL1eOUGI2uE2udzACziiBQQ34kNGMOKQJQCPixTgKDgfCAA\">Typescript Playground Link\u003C/a>\u003C/p>\n\u003Ch3 id=\"monad\">Monad*\u003C/h3>\n\u003Cp>The following is a monad-like type which has support for operatings over elements of an array, or the array itself.\u003C/p>\n\u003Cpre class=\"astro-code github-dark\" style=\"background-color:#24292e;color:#e1e4e8; overflow-x: auto;\" tabindex=\"0\" data-language=\"ts\">\u003Ccode>\u003Cspan class=\"line\">\u003Cspan style=\"color:#6A737D\">/**\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#6A737D\"> * This class facilitates the chaining of operations on a value,\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#6A737D\"> * each task will either return a new Monad or MonadIterable.\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#6A737D\"> */\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#F97583\">export\u003C/span>\u003Cspan style=\"color:#F97583\"> class\u003C/span>\u003Cspan style=\"color:#B392F0\"> Monad\u003C/span>\u003Cspan style=\"color:#E1E4E8\">&#x3C;\u003C/span>\u003Cspan style=\"color:#B392F0\">I\u003C/span>\u003Cspan style=\"color:#E1E4E8\">> {\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#F97583\">  constructor\u003C/span>\u003Cspan style=\"color:#E1E4E8\">(\u003C/span>\u003Cspan style=\"color:#F97583\">public\u003C/span>\u003Cspan style=\"color:#FFAB70\"> value\u003C/span>\u003Cspan style=\"color:#F97583\">:\u003C/span>\u003Cspan style=\"color:#B392F0\"> I\u003C/span>\u003Cspan style=\"color:#E1E4E8\">) {}\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#F97583\">  public\u003C/span>\u003Cspan style=\"color:#B392F0\"> pipe\u003C/span>\u003Cspan style=\"color:#E1E4E8\">&#x3C;\u003C/span>\u003Cspan style=\"color:#B392F0\">O\u003C/span>\u003Cspan style=\"color:#E1E4E8\">>(\u003C/span>\u003Cspan style=\"color:#B392F0\">operation\u003C/span>\u003Cspan style=\"color:#F97583\">:\u003C/span>\u003Cspan style=\"color:#E1E4E8\"> (\u003C/span>\u003Cspan style=\"color:#FFAB70\">value\u003C/span>\u003Cspan style=\"color:#F97583\">:\u003C/span>\u003Cspan style=\"color:#B392F0\"> I\u003C/span>\u003Cspan style=\"color:#E1E4E8\">) \u003C/span>\u003Cspan style=\"color:#F97583\">=>\u003C/span>\u003Cspan style=\"color:#B392F0\"> O\u003C/span>\u003Cspan style=\"color:#E1E4E8\">[])\u003C/span>\u003Cspan style=\"color:#F97583\">:\u003C/span>\u003Cspan style=\"color:#B392F0\"> MonadIterable\u003C/span>\u003Cspan style=\"color:#E1E4E8\">&#x3C;\u003C/span>\u003Cspan style=\"color:#B392F0\">O\u003C/span>\u003Cspan style=\"color:#E1E4E8\">[]>\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#F97583\">  public\u003C/span>\u003Cspan style=\"color:#B392F0\"> pipe\u003C/span>\u003Cspan style=\"color:#E1E4E8\">&#x3C;\u003C/span>\u003Cspan style=\"color:#B392F0\">O\u003C/span>\u003Cspan style=\"color:#E1E4E8\">>(\u003C/span>\u003Cspan style=\"color:#B392F0\">operation\u003C/span>\u003Cspan style=\"color:#F97583\">:\u003C/span>\u003Cspan style=\"color:#E1E4E8\"> (\u003C/span>\u003Cspan style=\"color:#FFAB70\">value\u003C/span>\u003Cspan style=\"color:#F97583\">:\u003C/span>\u003Cspan style=\"color:#B392F0\"> I\u003C/span>\u003Cspan style=\"color:#E1E4E8\">) \u003C/span>\u003Cspan style=\"color:#F97583\">=>\u003C/span>\u003Cspan style=\"color:#B392F0\"> O\u003C/span>\u003Cspan style=\"color:#E1E4E8\">)\u003C/span>\u003Cspan style=\"color:#F97583\">:\u003C/span>\u003Cspan style=\"color:#B392F0\"> Monad\u003C/span>\u003Cspan style=\"color:#E1E4E8\">&#x3C;\u003C/span>\u003Cspan style=\"color:#B392F0\">O\u003C/span>\u003Cspan style=\"color:#E1E4E8\">>\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#F97583\">  public\u003C/span>\u003Cspan style=\"color:#B392F0\"> pipe\u003C/span>\u003Cspan style=\"color:#E1E4E8\">&#x3C;\u003C/span>\u003Cspan style=\"color:#B392F0\">O\u003C/span>\u003Cspan style=\"color:#E1E4E8\">>(\u003C/span>\u003Cspan style=\"color:#B392F0\">operation\u003C/span>\u003Cspan style=\"color:#F97583\">:\u003C/span>\u003Cspan style=\"color:#E1E4E8\"> (\u003C/span>\u003Cspan style=\"color:#FFAB70\">value\u003C/span>\u003Cspan style=\"color:#F97583\">:\u003C/span>\u003Cspan style=\"color:#B392F0\"> I\u003C/span>\u003Cspan style=\"color:#E1E4E8\">) \u003C/span>\u003Cspan style=\"color:#F97583\">=>\u003C/span>\u003Cspan style=\"color:#B392F0\"> O\u003C/span>\u003Cspan style=\"color:#E1E4E8\">)\u003C/span>\u003Cspan style=\"color:#F97583\">:\u003C/span>\u003Cspan style=\"color:#B392F0\"> Monad\u003C/span>\u003Cspan style=\"color:#E1E4E8\">&#x3C;\u003C/span>\u003Cspan style=\"color:#B392F0\">O\u003C/span>\u003Cspan style=\"color:#E1E4E8\">> \u003C/span>\u003Cspan style=\"color:#F97583\">|\u003C/span>\u003Cspan style=\"color:#B392F0\"> MonadIterable\u003C/span>\u003Cspan style=\"color:#E1E4E8\">&#x3C;\u003C/span>\u003Cspan style=\"color:#B392F0\">O\u003C/span>\u003Cspan style=\"color:#E1E4E8\">[]> {\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#F97583\">    const\u003C/span>\u003Cspan style=\"color:#79B8FF\"> result\u003C/span>\u003Cspan style=\"color:#F97583\"> =\u003C/span>\u003Cspan style=\"color:#B392F0\"> operation\u003C/span>\u003Cspan style=\"color:#E1E4E8\">(\u003C/span>\u003Cspan style=\"color:#79B8FF\">this\u003C/span>\u003Cspan style=\"color:#E1E4E8\">.value)\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#F97583\">    return\u003C/span>\u003Cspan style=\"color:#E1E4E8\"> Array.\u003C/span>\u003Cspan style=\"color:#B392F0\">isArray\u003C/span>\u003Cspan style=\"color:#E1E4E8\">(result) \u003C/span>\u003Cspan style=\"color:#F97583\">?\u003C/span>\u003Cspan style=\"color:#F97583\"> new\u003C/span>\u003Cspan style=\"color:#B392F0\"> MonadIterable\u003C/span>\u003Cspan style=\"color:#E1E4E8\">(result) \u003C/span>\u003Cspan style=\"color:#F97583\">:\u003C/span>\u003Cspan style=\"color:#F97583\"> new\u003C/span>\u003Cspan style=\"color:#B392F0\"> Monad\u003C/span>\u003Cspan style=\"color:#E1E4E8\">(result)\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">  }\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#F97583\">  public\u003C/span>\u003Cspan style=\"color:#B392F0\"> print\u003C/span>\u003Cspan style=\"color:#E1E4E8\">(\u003C/span>\u003Cspan style=\"color:#FFAB70\">label\u003C/span>\u003Cspan style=\"color:#F97583\">?:\u003C/span>\u003Cspan style=\"color:#79B8FF\"> string\u003C/span>\u003Cspan style=\"color:#E1E4E8\">)\u003C/span>\u003Cspan style=\"color:#F97583\">:\u003C/span>\u003Cspan style=\"color:#B392F0\"> Monad\u003C/span>\u003Cspan style=\"color:#E1E4E8\">&#x3C;\u003C/span>\u003Cspan style=\"color:#B392F0\">I\u003C/span>\u003Cspan style=\"color:#E1E4E8\">> {\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">    console.\u003C/span>\u003Cspan style=\"color:#B392F0\">log\u003C/span>\u003Cspan style=\"color:#E1E4E8\">(\u003C/span>\u003Cspan style=\"color:#9ECBFF\">`${\u003C/span>\u003Cspan style=\"color:#E1E4E8\">label\u003C/span>\u003Cspan style=\"color:#9ECBFF\">}:`\u003C/span>\u003Cspan style=\"color:#F97583\"> ??\u003C/span>\u003Cspan style=\"color:#9ECBFF\"> 'value:'\u003C/span>\u003Cspan style=\"color:#E1E4E8\">, \u003C/span>\u003Cspan style=\"color:#79B8FF\">this\u003C/span>\u003Cspan style=\"color:#E1E4E8\">.value)\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#F97583\">    return\u003C/span>\u003Cspan style=\"color:#79B8FF\"> this\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">  }\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">}\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#6A737D\">/**\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#6A737D\"> * This is an extension of the Monad class that allows for operations\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#6A737D\"> * on iterable values. The reduce method will convert back to\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#6A737D\"> * a basic Monad.\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#6A737D\"> */\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#F97583\">export\u003C/span>\u003Cspan style=\"color:#F97583\"> class\u003C/span>\u003Cspan style=\"color:#B392F0\"> MonadIterable\u003C/span>\u003Cspan style=\"color:#E1E4E8\">&#x3C;\u003C/span>\u003Cspan style=\"color:#B392F0\">I\u003C/span>\u003Cspan style=\"color:#F97583\"> extends\u003C/span>\u003Cspan style=\"color:#79B8FF\"> any\u003C/span>\u003Cspan style=\"color:#E1E4E8\">[]> \u003C/span>\u003Cspan style=\"color:#F97583\">extends\u003C/span>\u003Cspan style=\"color:#B392F0\"> Monad\u003C/span>\u003Cspan style=\"color:#E1E4E8\">&#x3C;\u003C/span>\u003Cspan style=\"color:#79B8FF\">any\u003C/span>\u003Cspan style=\"color:#E1E4E8\">> {\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#F97583\">  public\u003C/span>\u003Cspan style=\"color:#B392F0\"> iterate\u003C/span>\u003Cspan style=\"color:#E1E4E8\">&#x3C;\u003C/span>\u003Cspan style=\"color:#B392F0\">O\u003C/span>\u003Cspan style=\"color:#E1E4E8\">>(\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#B392F0\">    operation\u003C/span>\u003Cspan style=\"color:#F97583\">:\u003C/span>\u003Cspan style=\"color:#E1E4E8\"> (\u003C/span>\u003Cspan style=\"color:#FFAB70\">value\u003C/span>\u003Cspan style=\"color:#F97583\">:\u003C/span>\u003Cspan style=\"color:#B392F0\"> I\u003C/span>\u003Cspan style=\"color:#E1E4E8\">[\u003C/span>\u003Cspan style=\"color:#79B8FF\">number\u003C/span>\u003Cspan style=\"color:#E1E4E8\">], \u003C/span>\u003Cspan style=\"color:#FFAB70\">index\u003C/span>\u003Cspan style=\"color:#F97583\">?:\u003C/span>\u003Cspan style=\"color:#79B8FF\"> number\u003C/span>\u003Cspan style=\"color:#E1E4E8\">, \u003C/span>\u003Cspan style=\"color:#FFAB70\">array\u003C/span>\u003Cspan style=\"color:#F97583\">?:\u003C/span>\u003Cspan style=\"color:#B392F0\"> I\u003C/span>\u003Cspan style=\"color:#E1E4E8\">) \u003C/span>\u003Cspan style=\"color:#F97583\">=>\u003C/span>\u003Cspan style=\"color:#B392F0\"> O\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">  )\u003C/span>\u003Cspan style=\"color:#F97583\">:\u003C/span>\u003Cspan style=\"color:#B392F0\"> MonadIterable\u003C/span>\u003Cspan style=\"color:#E1E4E8\">&#x3C;\u003C/span>\u003Cspan style=\"color:#B392F0\">O\u003C/span>\u003Cspan style=\"color:#E1E4E8\">[]> {\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#F97583\">    return\u003C/span>\u003Cspan style=\"color:#F97583\"> new\u003C/span>\u003Cspan style=\"color:#B392F0\"> MonadIterable\u003C/span>\u003Cspan style=\"color:#E1E4E8\">(\u003C/span>\u003Cspan style=\"color:#79B8FF\">this\u003C/span>\u003Cspan style=\"color:#E1E4E8\">.value.\u003C/span>\u003Cspan style=\"color:#B392F0\">map\u003C/span>\u003Cspan style=\"color:#E1E4E8\">(operation))\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">  }\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#F97583\">  public\u003C/span>\u003Cspan style=\"color:#B392F0\"> filter\u003C/span>\u003Cspan style=\"color:#E1E4E8\">&#x3C;\u003C/span>\u003Cspan style=\"color:#B392F0\">O\u003C/span>\u003Cspan style=\"color:#E1E4E8\">>(\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#B392F0\">    operation\u003C/span>\u003Cspan style=\"color:#F97583\">:\u003C/span>\u003Cspan style=\"color:#E1E4E8\"> (\u003C/span>\u003Cspan style=\"color:#FFAB70\">value\u003C/span>\u003Cspan style=\"color:#F97583\">:\u003C/span>\u003Cspan style=\"color:#B392F0\"> I\u003C/span>\u003Cspan style=\"color:#E1E4E8\">[\u003C/span>\u003Cspan style=\"color:#79B8FF\">number\u003C/span>\u003Cspan style=\"color:#E1E4E8\">], \u003C/span>\u003Cspan style=\"color:#FFAB70\">index\u003C/span>\u003Cspan style=\"color:#F97583\">?:\u003C/span>\u003Cspan style=\"color:#79B8FF\"> number\u003C/span>\u003Cspan style=\"color:#E1E4E8\">, \u003C/span>\u003Cspan style=\"color:#FFAB70\">array\u003C/span>\u003Cspan style=\"color:#F97583\">?:\u003C/span>\u003Cspan style=\"color:#B392F0\"> I\u003C/span>\u003Cspan style=\"color:#E1E4E8\">) \u003C/span>\u003Cspan style=\"color:#F97583\">=>\u003C/span>\u003Cspan style=\"color:#B392F0\"> O\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">  )\u003C/span>\u003Cspan style=\"color:#F97583\">:\u003C/span>\u003Cspan style=\"color:#B392F0\"> MonadIterable\u003C/span>\u003Cspan style=\"color:#E1E4E8\">&#x3C;\u003C/span>\u003Cspan style=\"color:#B392F0\">I\u003C/span>\u003Cspan style=\"color:#E1E4E8\">> {\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#F97583\">    return\u003C/span>\u003Cspan style=\"color:#F97583\"> new\u003C/span>\u003Cspan style=\"color:#B392F0\"> MonadIterable\u003C/span>\u003Cspan style=\"color:#E1E4E8\">(\u003C/span>\u003Cspan style=\"color:#79B8FF\">this\u003C/span>\u003Cspan style=\"color:#E1E4E8\">.value.\u003C/span>\u003Cspan style=\"color:#B392F0\">filter\u003C/span>\u003Cspan style=\"color:#E1E4E8\">(operation))\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">  }\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#F97583\">  public\u003C/span>\u003Cspan style=\"color:#B392F0\"> reduce\u003C/span>\u003Cspan style=\"color:#E1E4E8\">&#x3C;\u003C/span>\u003Cspan style=\"color:#B392F0\">O\u003C/span>\u003Cspan style=\"color:#E1E4E8\">>(\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#B392F0\">    operation\u003C/span>\u003Cspan style=\"color:#F97583\">:\u003C/span>\u003Cspan style=\"color:#E1E4E8\"> (\u003C/span>\u003Cspan style=\"color:#FFAB70\">prev\u003C/span>\u003Cspan style=\"color:#F97583\">:\u003C/span>\u003Cspan style=\"color:#B392F0\"> O\u003C/span>\u003Cspan style=\"color:#E1E4E8\">, \u003C/span>\u003Cspan style=\"color:#FFAB70\">value\u003C/span>\u003Cspan style=\"color:#F97583\">:\u003C/span>\u003Cspan style=\"color:#B392F0\"> I\u003C/span>\u003Cspan style=\"color:#E1E4E8\">[\u003C/span>\u003Cspan style=\"color:#79B8FF\">number\u003C/span>\u003Cspan style=\"color:#E1E4E8\">], \u003C/span>\u003Cspan style=\"color:#FFAB70\">index\u003C/span>\u003Cspan style=\"color:#F97583\">?:\u003C/span>\u003Cspan style=\"color:#79B8FF\"> number\u003C/span>\u003Cspan style=\"color:#E1E4E8\">, \u003C/span>\u003Cspan style=\"color:#FFAB70\">array\u003C/span>\u003Cspan style=\"color:#F97583\">?:\u003C/span>\u003Cspan style=\"color:#B392F0\"> I\u003C/span>\u003Cspan style=\"color:#E1E4E8\">) \u003C/span>\u003Cspan style=\"color:#F97583\">=>\u003C/span>\u003Cspan style=\"color:#B392F0\"> O\u003C/span>\u003Cspan style=\"color:#E1E4E8\">,\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#FFAB70\">    initialValue\u003C/span>\u003Cspan style=\"color:#F97583\">:\u003C/span>\u003Cspan style=\"color:#B392F0\"> Partial\u003C/span>\u003Cspan style=\"color:#E1E4E8\">&#x3C;\u003C/span>\u003Cspan style=\"color:#B392F0\">O\u003C/span>\u003Cspan style=\"color:#E1E4E8\">> \u003C/span>\u003Cspan style=\"color:#F97583\">=\u003C/span>\u003Cspan style=\"color:#E1E4E8\"> {}\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">  )\u003C/span>\u003Cspan style=\"color:#F97583\">:\u003C/span>\u003Cspan style=\"color:#B392F0\"> Monad\u003C/span>\u003Cspan style=\"color:#E1E4E8\">&#x3C;\u003C/span>\u003Cspan style=\"color:#B392F0\">O\u003C/span>\u003Cspan style=\"color:#E1E4E8\">> {\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#F97583\">    return\u003C/span>\u003Cspan style=\"color:#F97583\"> new\u003C/span>\u003Cspan style=\"color:#B392F0\"> Monad\u003C/span>\u003Cspan style=\"color:#E1E4E8\">(\u003C/span>\u003Cspan style=\"color:#79B8FF\">this\u003C/span>\u003Cspan style=\"color:#E1E4E8\">.value.\u003C/span>\u003Cspan style=\"color:#B392F0\">reduce\u003C/span>\u003Cspan style=\"color:#E1E4E8\">(operation, initialValue))\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">  }\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#6A737D\">  /**\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#6A737D\">   * Converts an iterable monad back into a normal monad.\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#6A737D\">   */\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#F97583\">  public\u003C/span>\u003Cspan style=\"color:#B392F0\"> combine\u003C/span>\u003Cspan style=\"color:#E1E4E8\">&#x3C;\u003C/span>\u003Cspan style=\"color:#B392F0\">O\u003C/span>\u003Cspan style=\"color:#E1E4E8\">>(\u003C/span>\u003Cspan style=\"color:#B392F0\">operation\u003C/span>\u003Cspan style=\"color:#F97583\">:\u003C/span>\u003Cspan style=\"color:#E1E4E8\"> (\u003C/span>\u003Cspan style=\"color:#FFAB70\">value\u003C/span>\u003Cspan style=\"color:#F97583\">:\u003C/span>\u003Cspan style=\"color:#B392F0\"> I\u003C/span>\u003Cspan style=\"color:#E1E4E8\">) \u003C/span>\u003Cspan style=\"color:#F97583\">=>\u003C/span>\u003Cspan style=\"color:#B392F0\"> O\u003C/span>\u003Cspan style=\"color:#E1E4E8\">)\u003C/span>\u003Cspan style=\"color:#F97583\">:\u003C/span>\u003Cspan style=\"color:#B392F0\"> Monad\u003C/span>\u003Cspan style=\"color:#E1E4E8\">&#x3C;\u003C/span>\u003Cspan style=\"color:#B392F0\">O\u003C/span>\u003Cspan style=\"color:#E1E4E8\">> {\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#F97583\">    return\u003C/span>\u003Cspan style=\"color:#F97583\"> new\u003C/span>\u003Cspan style=\"color:#B392F0\"> Monad\u003C/span>\u003Cspan style=\"color:#E1E4E8\">(\u003C/span>\u003Cspan style=\"color:#B392F0\">operation\u003C/span>\u003Cspan style=\"color:#E1E4E8\">(\u003C/span>\u003Cspan style=\"color:#79B8FF\">this\u003C/span>\u003Cspan style=\"color:#E1E4E8\">.value))\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">  }\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">}\u003C/span>\u003C/span>\u003C/code>\u003C/pre>\n\u003Cp>\u003Ca href=\"https://www.typescriptlang.org/play/?target=99#code/PQKhCgAIUgVALAlgZ0gYwDYENmoGZZqIaIAuWpApqqfJevFogHYsDmkA9nlwA6UAnCok7NUoyFkgA3LBgCulADRQYlQvEjlkAa0gB3YhkiUydAZAGVS8gc0mRmlfZACyorABMuF98y8AklRCAEYYlAB0qsDgmDiofl4APAEAfJAA3uBQ6KLIpALyaKScAgAUvPJhiGgycooAXJABAJSZAL7ZkJCV1bW8iPxJAPKpZZz8QqQizE1lsgqUTa2QALzpwwDaALotTYmeQYJYYZQjO6ldPVUk-YNno+OTwqJzC43NbeuQw3tuHp4Rpccr1bj17kCnsdpq9IPN6ktPmsNn8DkDIAAff7+Q7BE7hc7bdJZbrdNB5UiWajyDCU1Z8aEzMq0FARd6UFo5bpWGx2SAAQQEQgAnhEUIKRWUrMgaaQ2gB+RzObGBPGnKXU2ltJpOFwHDUyrU5Togm41HoCFikMrYEKUDDypr5S3MNiogEpYlc3JiTjhCIYThsMoAAwAJBlbfb2g0Q5B5YqAOTshqJpRaJDINkIzmkqm8+ws5DG8Am0AQaBwTOQFCSeyUAAeVDEMy4PFo9AO6GwuAzFEkGED+nwpQZUxmxcrEjIx1OdUWWar9CsniK9AAttZ4JxvIZBz7pIJKSFCHoSqoHCfkOaDlFoDE4r2DkdQgSAiYm5RmJ5UFhmMKLg-ZsfxVQE-2FL1TT6Gs8SoSEJkZWF4UWZZNmYeR1ztARtnTFhPEbR1HAwrD0ywIUsGFQiVm+X59gBF98QeQCSVJHlbHsXVQIY9Ui2zRYInXLBeChcdRBaXNIBNbpQXNPBiGCeDnhhWY4RTZo0OIwQcJrb8CJ1TSBFI8jKOWL4UTonFuLfL08zYvlOOfNVwmZTM+MUCI5NpQQRJeZhxJLKCwRXNdIW9BDRJUiorGkJphnTNSAg0zCtNw3SG0I9DksMyRjKosyfhUPMWDIRA5AANQRJoAAUyOmOR0XpDJOm6d0cXRFjuWsdilT1AEXNZdkImCtBKB85TUpK8qcwkqTIHLLkYAAYVEQ8BFIX97BnV8NwBSATzQPQrU4BxmFKQTjHXAE726EAYmks1anJTCWAeMZwt8t5KqRGjWuSUZMm9OyOOVfV3uU-qs3Zfzuk6MtgDWVZEaR5GUdRtH0YxzHwGAeGAFEGywddeHCbH4cx8mKcprHYgpLh5FISo6R60CygyecPgARkkiTugiAZ+DKZkcB0fLtB0Nz6BgAAmAAGGWecgPn7kFzKQny1WIhKABlAp2DKaHSSVgWymdPzkUgU2ImQYmyDKAAiO2Dd5raKFGso0EYAR8o9siIh9gRlvw-lrXlhWPPk7zxmKTh8s4aPNc4HWXWDAAOJ3FeGt3eGi9M0FsL3zYAOQMqLKGkNoAGp0Hz9N5e9PmXWtO28-yTh1wAfSjDBHfr9kgA\">Try it on the TypeScript playground!\u003C/a>\u003C/p>\n\u003Ch3 id=\"define-class-via-enum-wip\">Define Class via Enum (WIP)\u003C/h3>\n\u003Cp>\u003Cstrong>NOTE\u003C/strong>: This has only been tested on TypeScript 5.4.5 and is still expiramental, see \u003Ca href=\"https://www.typescriptlang.org/play/?target=99&#x26;ts=5.5.0-beta#code/MYewdgziA2CmB0w4EMBOAKAlAKF72YArgLYAEAqhLKgMrAAWsxypA3tqZ6YVagJIATUgF5SAcj4A5ACoBRAOKyASqUkB5SavIAZbWIA0HLgDMAlqggAXScmKwR4uQA1pqjVt0GjnaMis27BzFnV3VNSR09QwBfXEsATwAHe1kiYgBhXwgIAB5pAD4Hdi5SMFgAd1J0eBq0AHMIAC5SZDB4gG0AXUxm6WxY7ATk0gB1VFNLWGQAIzg8wtFWUgBaVCmBcGh40naABVJTMFIAa1h4kGNSaU7evc7SaIBuPCGUtN3UEETcgqLvHdO20OJzOFyuN1KJGm1FIAB9SFZxmA6nDSNMQDApkd4QARZCTfq4MC2WAQRLIYD2TJ+CBsf6wAAeiRAqEspGMhDAwEspnApCQNIAYp9iKkSDlZPorvl0AQSHRGMxmrIeqQxRksj9CsUSlw1pZCKgjgLsnTdeb+eBEYRuSz0PUmmr3p9vhL8pg6f8Lbq4Gz6KYBAICDRLPjYMrnV9crIFqQ1NMAFawbnwGmmOpgdCsaJSh04L3ekwsqqgSBsxIu6gJA5HOXEBVMZAe9gFwu60tQODwaAgOroAAGQbMYEOKIrXyr2wAJKxx8lWfFov38222-Gkymh4dYB8Jwv0JZ-RApXPJ1KdavV3XqDM4M1LKhCLBDJfL6WzHVDbfw6QH0+X6+bblOMoazD+f7Pq2gFcHUsBsgAbsg0BPlgZrQZe+qGkc-qBsGoaTO0p4Lp0UHoTmpHQVQCFIShZQMpYABqNGwM2FHoZwOFBmAIZhoRlbEQ4dGMcxbGvrE7FcNEOBkaJ4kWtELS0hehZlJU9qoA0EYkLuroxqqfTenJnCxAMrykAA0mctKiICYKvGClDUA2zDYAA9K5XAAHoAPwvEk9jOcgABChwCKOfwlDw1CCM0aTQqg-xmBY1gks0iKjv8WQpXYaUPhlAwmrSjmoKQjKTGAAi0tS2SIJqwogKKaQ5PZlzFYFUqBSFFWjjKbUMI2rH-FRASwOgHLQNAI25UidSsd6HZsu0SX+CSUpZSN9yiONk0kvAZLQBM6AAESkEd0kWoepgQPAy3ZfYW3mCtdhQZd13rSSDjvc9JQmXg2ALaQxDxMVgkVBQvBZv8UX8AIzQAIwAEwAMwAZwt1TeI6QwIcXglF9P7BFM9CtLjXBlagyD3o+sD9PmQPFXtcEjcdQUgNMpBBTaxyTKgZ24B2mLdr26D07wmBAA\">here for example\u003C/a>.\u003C/p>\n\u003Cp>This allows us to define an enum which will auto-\u003Cem>magically\u003C/em> be created into a class definition, and then extended. This is great for a simple ORM with SQLite!\u003C/p>\n\u003Cpre class=\"astro-code github-dark\" style=\"background-color:#24292e;color:#e1e4e8; overflow-x: auto;\" tabindex=\"0\" data-language=\"ts\">\u003Ccode>\u003Cspan class=\"line\">\u003Cspan style=\"color:#6A737D\">// SPECIAL TYPES\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#F97583\">type\u003C/span>\u003Cspan style=\"color:#B392F0\"> EnumClass\u003C/span>\u003Cspan style=\"color:#E1E4E8\">&#x3C;\u003C/span>\u003Cspan style=\"color:#B392F0\">T\u003C/span>\u003Cspan style=\"color:#E1E4E8\">> \u003C/span>\u003Cspan style=\"color:#F97583\">=\u003C/span>\u003Cspan style=\"color:#E1E4E8\"> {\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#F97583\">  new\u003C/span>\u003Cspan style=\"color:#E1E4E8\"> (\u003C/span>\u003Cspan style=\"color:#F97583\">...\u003C/span>\u003Cspan style=\"color:#FFAB70\">args\u003C/span>\u003Cspan style=\"color:#F97583\">:\u003C/span>\u003Cspan style=\"color:#79B8FF\"> any\u003C/span>\u003Cspan style=\"color:#E1E4E8\">[])\u003C/span>\u003Cspan style=\"color:#F97583\">:\u003C/span>\u003Cspan style=\"color:#B392F0\"> T\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">}\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#F97583\">type\u003C/span>\u003Cspan style=\"color:#B392F0\"> Writeable\u003C/span>\u003Cspan style=\"color:#E1E4E8\">&#x3C;\u003C/span>\u003Cspan style=\"color:#B392F0\">T\u003C/span>\u003Cspan style=\"color:#E1E4E8\">> \u003C/span>\u003Cspan style=\"color:#F97583\">=\u003C/span>\u003Cspan style=\"color:#E1E4E8\"> { \u003C/span>\u003Cspan style=\"color:#F97583\">-readonly\u003C/span>\u003Cspan style=\"color:#E1E4E8\"> [\u003C/span>\u003Cspan style=\"color:#B392F0\">P\u003C/span>\u003Cspan style=\"color:#F97583\"> in\u003C/span>\u003Cspan style=\"color:#F97583\"> keyof\u003C/span>\u003Cspan style=\"color:#B392F0\"> T\u003C/span>\u003Cspan style=\"color:#E1E4E8\">]\u003C/span>\u003Cspan style=\"color:#F97583\">:\u003C/span>\u003Cspan style=\"color:#B392F0\"> T\u003C/span>\u003Cspan style=\"color:#E1E4E8\">[\u003C/span>\u003Cspan style=\"color:#B392F0\">P\u003C/span>\u003Cspan style=\"color:#E1E4E8\">] }\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#F97583\">type\u003C/span>\u003Cspan style=\"color:#B392F0\"> EnumProps\u003C/span>\u003Cspan style=\"color:#E1E4E8\">&#x3C;\u003C/span>\u003Cspan style=\"color:#B392F0\">T\u003C/span>\u003Cspan style=\"color:#E1E4E8\">> \u003C/span>\u003Cspan style=\"color:#F97583\">=\u003C/span>\u003Cspan style=\"color:#E1E4E8\"> {\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">  [\u003C/span>\u003Cspan style=\"color:#B392F0\">key\u003C/span>\u003Cspan style=\"color:#F97583\"> in\u003C/span>\u003Cspan style=\"color:#F97583\"> keyof\u003C/span>\u003Cspan style=\"color:#B392F0\"> T\u003C/span>\u003Cspan style=\"color:#E1E4E8\">]\u003C/span>\u003Cspan style=\"color:#F97583\">:\u003C/span>\u003Cspan style=\"color:#79B8FF\"> number\u003C/span>\u003Cspan style=\"color:#F97583\"> |\u003C/span>\u003Cspan style=\"color:#79B8FF\"> string\u003C/span>\u003Cspan style=\"color:#F97583\"> |\u003C/span>\u003Cspan style=\"color:#79B8FF\"> boolean\u003C/span>\u003Cspan style=\"color:#F97583\"> |\u003C/span>\u003Cspan style=\"color:#B392F0\"> Date\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">}\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#6A737D\">// THE MAGIC\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#F97583\">namespace\u003C/span>\u003Cspan style=\"color:#B392F0\"> Class\u003C/span>\u003Cspan style=\"color:#E1E4E8\"> {\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#F97583\">  export\u003C/span>\u003Cspan style=\"color:#F97583\"> function\u003C/span>\u003Cspan style=\"color:#B392F0\"> classFromEnum\u003C/span>\u003Cspan style=\"color:#E1E4E8\">&#x3C;\u003C/span>\u003Cspan style=\"color:#B392F0\">E\u003C/span>\u003Cspan style=\"color:#E1E4E8\">, \u003C/span>\u003Cspan style=\"color:#B392F0\">T\u003C/span>\u003Cspan style=\"color:#E1E4E8\">>(\u003C/span>\u003Cspan style=\"color:#FFAB70\">enumSchema\u003C/span>\u003Cspan style=\"color:#F97583\">:\u003C/span>\u003Cspan style=\"color:#B392F0\"> E\u003C/span>\u003Cspan style=\"color:#E1E4E8\">)\u003C/span>\u003Cspan style=\"color:#F97583\">:\u003C/span>\u003Cspan style=\"color:#B392F0\"> EnumClass\u003C/span>\u003Cspan style=\"color:#E1E4E8\">&#x3C;\u003C/span>\u003Cspan style=\"color:#B392F0\">T\u003C/span>\u003Cspan style=\"color:#E1E4E8\">> {\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#F97583\">    return\u003C/span>\u003Cspan style=\"color:#F97583\"> class\u003C/span>\u003Cspan style=\"color:#E1E4E8\"> {\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#F97583\">      constructor\u003C/span>\u003Cspan style=\"color:#E1E4E8\">(\u003C/span>\u003Cspan style=\"color:#FFAB70\">args\u003C/span>\u003Cspan style=\"color:#F97583\">:\u003C/span>\u003Cspan style=\"color:#B392F0\"> EnumProps\u003C/span>\u003Cspan style=\"color:#E1E4E8\">&#x3C;\u003C/span>\u003Cspan style=\"color:#B392F0\">E\u003C/span>\u003Cspan style=\"color:#E1E4E8\">>) {\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#F97583\">        let\u003C/span>\u003Cspan style=\"color:#E1E4E8\"> hiddenState\u003C/span>\u003Cspan style=\"color:#F97583\">:\u003C/span>\u003Cspan style=\"color:#B392F0\"> EnumProps\u003C/span>\u003Cspan style=\"color:#E1E4E8\">&#x3C;\u003C/span>\u003Cspan style=\"color:#B392F0\">E\u003C/span>\u003Cspan style=\"color:#E1E4E8\">> \u003C/span>\u003Cspan style=\"color:#F97583\">=\u003C/span>\u003Cspan style=\"color:#E1E4E8\"> Object.\u003C/span>\u003Cspan style=\"color:#B392F0\">assign\u003C/span>\u003Cspan style=\"color:#E1E4E8\">({}, args)\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#F97583\">        for\u003C/span>\u003Cspan style=\"color:#E1E4E8\"> (\u003C/span>\u003Cspan style=\"color:#F97583\">const\u003C/span>\u003Cspan style=\"color:#79B8FF\"> property\u003C/span>\u003Cspan style=\"color:#F97583\"> in\u003C/span>\u003Cspan style=\"color:#E1E4E8\"> enumSchema) {\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">          console.\u003C/span>\u003Cspan style=\"color:#B392F0\">log\u003C/span>\u003Cspan style=\"color:#E1E4E8\">(\u003C/span>\u003Cspan style=\"color:#9ECBFF\">`defining property ${\u003C/span>\u003Cspan style=\"color:#E1E4E8\">property\u003C/span>\u003Cspan style=\"color:#9ECBFF\">}`\u003C/span>\u003Cspan style=\"color:#E1E4E8\">)\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">          Object.\u003C/span>\u003Cspan style=\"color:#B392F0\">defineProperty\u003C/span>\u003Cspan style=\"color:#E1E4E8\">(\u003C/span>\u003Cspan style=\"color:#79B8FF\">this\u003C/span>\u003Cspan style=\"color:#E1E4E8\">, property, {\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">            enumerable: \u003C/span>\u003Cspan style=\"color:#79B8FF\">true\u003C/span>\u003Cspan style=\"color:#E1E4E8\">,\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">            configurable: \u003C/span>\u003Cspan style=\"color:#79B8FF\">true\u003C/span>\u003Cspan style=\"color:#E1E4E8\">,\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">            writable: \u003C/span>\u003Cspan style=\"color:#79B8FF\">true\u003C/span>\u003Cspan style=\"color:#E1E4E8\">,\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#F97583\">            get\u003C/span>\u003Cspan style=\"color:#B392F0\"> value\u003C/span>\u003Cspan style=\"color:#E1E4E8\">() {\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#F97583\">              return\u003C/span>\u003Cspan style=\"color:#E1E4E8\"> hiddenState[property]\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">            },\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#F97583\">            set\u003C/span>\u003Cspan style=\"color:#B392F0\"> value\u003C/span>\u003Cspan style=\"color:#E1E4E8\">(\u003C/span>\u003Cspan style=\"color:#FFAB70\">nextValue\u003C/span>\u003Cspan style=\"color:#E1E4E8\">) {\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">              hiddenState[property] \u003C/span>\u003Cspan style=\"color:#F97583\">=\u003C/span>\u003Cspan style=\"color:#E1E4E8\"> nextValue\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">            },\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">          })\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">        }\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">      }\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">    } \u003C/span>\u003Cspan style=\"color:#F97583\">as\u003C/span>\u003Cspan style=\"color:#E1E4E8\"> {\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#F97583\">      new\u003C/span>\u003Cspan style=\"color:#E1E4E8\"> (\u003C/span>\u003Cspan style=\"color:#FFAB70\">args\u003C/span>\u003Cspan style=\"color:#F97583\">:\u003C/span>\u003Cspan style=\"color:#B392F0\"> EnumProps\u003C/span>\u003Cspan style=\"color:#E1E4E8\">&#x3C;\u003C/span>\u003Cspan style=\"color:#B392F0\">E\u003C/span>\u003Cspan style=\"color:#E1E4E8\">>)\u003C/span>\u003Cspan style=\"color:#F97583\">:\u003C/span>\u003Cspan style=\"color:#B392F0\"> T\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">    }\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">  }\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">}\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#6A737D\">// EXAMPLE UASGES\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#F97583\">enum\u003C/span>\u003Cspan style=\"color:#B392F0\"> UserSchema\u003C/span>\u003Cspan style=\"color:#E1E4E8\"> {\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#79B8FF\">  userId\u003C/span>\u003Cspan style=\"color:#F97583\"> =\u003C/span>\u003Cspan style=\"color:#9ECBFF\"> 'INTEGER NON NULL'\u003C/span>\u003Cspan style=\"color:#E1E4E8\">,\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#79B8FF\">  firstName\u003C/span>\u003Cspan style=\"color:#F97583\"> =\u003C/span>\u003Cspan style=\"color:#9ECBFF\"> 'TEXT NON NULL'\u003C/span>\u003Cspan style=\"color:#E1E4E8\">,\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#79B8FF\">  lastName\u003C/span>\u003Cspan style=\"color:#F97583\"> =\u003C/span>\u003Cspan style=\"color:#9ECBFF\"> 'TEXT NON NULL'\u003C/span>\u003Cspan style=\"color:#E1E4E8\">,\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">}\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#F97583\">type\u003C/span>\u003Cspan style=\"color:#B392F0\"> SchemaBinding\u003C/span>\u003Cspan style=\"color:#F97583\"> =\u003C/span>\u003Cspan style=\"color:#E1E4E8\"> {\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#FFAB70\">  userId\u003C/span>\u003Cspan style=\"color:#F97583\">:\u003C/span>\u003Cspan style=\"color:#79B8FF\"> number\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#FFAB70\">  firstName\u003C/span>\u003Cspan style=\"color:#F97583\">:\u003C/span>\u003Cspan style=\"color:#79B8FF\"> string\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#FFAB70\">  lastName\u003C/span>\u003Cspan style=\"color:#F97583\">:\u003C/span>\u003Cspan style=\"color:#79B8FF\"> string\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">}\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#F97583\">class\u003C/span>\u003Cspan style=\"color:#B392F0\"> User\u003C/span>\u003Cspan style=\"color:#F97583\"> extends\u003C/span>\u003Cspan style=\"color:#E1E4E8\"> Class.\u003C/span>\u003Cspan style=\"color:#B392F0\">classFromEnum\u003C/span>\u003Cspan style=\"color:#E1E4E8\">&#x3C;\u003C/span>\u003Cspan style=\"color:#F97583\">typeof\u003C/span>\u003Cspan style=\"color:#E1E4E8\"> UserSchema, \u003C/span>\u003Cspan style=\"color:#B392F0\">SchemaBinding\u003C/span>\u003Cspan style=\"color:#E1E4E8\">>(\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">  UserSchema\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">) {\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#B392F0\">  setName\u003C/span>\u003Cspan style=\"color:#E1E4E8\">(\u003C/span>\u003Cspan style=\"color:#FFAB70\">fullName\u003C/span>\u003Cspan style=\"color:#F97583\">:\u003C/span>\u003Cspan style=\"color:#79B8FF\"> string\u003C/span>\u003Cspan style=\"color:#E1E4E8\">) {\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#F97583\">    const\u003C/span>\u003Cspan style=\"color:#E1E4E8\"> [\u003C/span>\u003Cspan style=\"color:#79B8FF\">firstName\u003C/span>\u003Cspan style=\"color:#E1E4E8\">, \u003C/span>\u003Cspan style=\"color:#79B8FF\">lastName\u003C/span>\u003Cspan style=\"color:#E1E4E8\">] \u003C/span>\u003Cspan style=\"color:#F97583\">=\u003C/span>\u003Cspan style=\"color:#E1E4E8\"> fullName.\u003C/span>\u003Cspan style=\"color:#B392F0\">split\u003C/span>\u003Cspan style=\"color:#E1E4E8\">(\u003C/span>\u003Cspan style=\"color:#9ECBFF\">' '\u003C/span>\u003Cspan style=\"color:#E1E4E8\">)\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#79B8FF\">    this\u003C/span>\u003Cspan style=\"color:#E1E4E8\">.firstName \u003C/span>\u003Cspan style=\"color:#F97583\">=\u003C/span>\u003Cspan style=\"color:#E1E4E8\"> firstName\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#79B8FF\">    this\u003C/span>\u003Cspan style=\"color:#E1E4E8\">.lastName \u003C/span>\u003Cspan style=\"color:#F97583\">=\u003C/span>\u003Cspan style=\"color:#E1E4E8\"> lastName\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">  }\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">}\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#F97583\">const\u003C/span>\u003Cspan style=\"color:#79B8FF\"> myUser\u003C/span>\u003Cspan style=\"color:#F97583\"> =\u003C/span>\u003Cspan style=\"color:#F97583\"> new\u003C/span>\u003Cspan style=\"color:#B392F0\"> User\u003C/span>\u003Cspan style=\"color:#E1E4E8\">({\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">  userId: \u003C/span>\u003Cspan style=\"color:#79B8FF\">123\u003C/span>\u003Cspan style=\"color:#E1E4E8\">,\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">  firstName: \u003C/span>\u003Cspan style=\"color:#9ECBFF\">'Bob'\u003C/span>\u003Cspan style=\"color:#E1E4E8\">,\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">  lastName: \u003C/span>\u003Cspan style=\"color:#9ECBFF\">'Smitch'\u003C/span>\u003Cspan style=\"color:#E1E4E8\">,\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">  extra: \u003C/span>\u003Cspan style=\"color:#79B8FF\">true\u003C/span>\u003Cspan style=\"color:#E1E4E8\">,\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">})\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">myUser.\u003C/span>\u003Cspan style=\"color:#B392F0\">setName\u003C/span>\u003Cspan style=\"color:#E1E4E8\">(\u003C/span>\u003Cspan style=\"color:#9ECBFF\">'Colin Teahan'\u003C/span>\u003Cspan style=\"color:#E1E4E8\">)\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">console.\u003C/span>\u003Cspan style=\"color:#B392F0\">log\u003C/span>\u003Cspan style=\"color:#E1E4E8\">(myUser.firstName) \u003C/span>\u003Cspan style=\"color:#6A737D\">// Colin\u003C/span>\u003C/span>\u003C/code>\u003C/pre>\n\u003Cp>\u003Ca href=\"https://www.typescriptlang.org/play/?target=99&#x26;ts=5.5.0-beta#code/MYewdgziA2CmB0w4EMBOAKAlAKF72YArgLYAEAqhLKgMrAAWsxypA3tqZ6YVagJIATUgF5SAcj4A5ACoBRAOKyASqUkB5SavIAZbWIA0HLgDMAlqggAXScmKwR4uQA1pqjVt0GjnaMis27BzFnV3VNSR09QwBfXEsATwAHe1kiYgBhXwgIAB5pAD4Hdi5SMFgAd1J0eBq0AHMIAC5SZDB4gG0AXUxm6WxY7ATk0gB1VFNLWGQAIzg8wtFWUgBaVCmBcGh40naABVJTMFIAa1h4kGNSaU7evc7SaIBuPCGUtN3UEETcgqLvHdO20OJzOFyuN1KJGm1FIAB9SFZxmA6nDSNMQDApkd4QARZCTfq4MC2WAQRLIYD2TJ+CBsf6wAAeiRAqEspGMhDAwEspnApCQNIAYp9iKkSDlZPorvl0AQSHRGMxmrIeqQxRksj9CsUSlw1pZCKgjgLsnTdeb+eBEYRuSz0PUmmr3p9vhL8pg6f8Lbq4Gz6KYBAICDRLPjYMrnV9crIFqQ1NMAFawbnwGmmOpgdCsaJSh04L3ekwsqqgSBsxIu6gJA5HOXEBVMZAe9gFwu60tQODwaAgOroAAGQbMYEOKIrXyr2wAJKxx8lWfFov38222-Gkymh4dYB8Jwv0JZ-RApXPJ1KdavV3XqDM4M1LKhCLBDJfL6WzHVDbfw6QH0+X6+bblOMoazD+f7Pq2gFcHUsBsgAbsg0BPlgZrQZe+qGkc-qBsGoaTO0p4Lp0UHoTmpHQVQCFIShZQMpYABqNGwM2FHoZwOFBmAIZhoRlbEQ4dGMcxbGvrE7FcNEOBkaJ4kWtELS0hehZlJU9qoA0EYkLuroxqqfTenJnCxAMrykAA0mctKiICYKvGClDUA2zDYAA9K5XAAHoAPwvEk9jOcgABChwCKOfwlDw1CCM0aTQqg-xmBY1gks0iKjv8WQpXYaUPhlAwmrSjmoKQjKTGAAi0tS2SIJqwogKKaQ5PZlzFYFUqBSFFWjjKbUMI2rH-FRASwOgHLQNAI25UidSsd6HZsu0SX+CSUpZSN9yiONk0kvAZLQBM6AAESkEd0kWoepgQPAy3ZfYW3mCtdhQZd13rSSDjvc9JQmXg2ALaQxDxMVgkVBQvBZv8UX8AIzQAIwAEwAMwAZwt1TeI6QwIcXglF9P7BFM9CtLjXBlagyD3o+sD9PmQPFXtcEjcdQUgNMpBBTaxyTKgZ24B2mLdr26D07wmBAA\">Try it on the TypeScript Playground\u003C/a>\u003C/p>",{"headings":113,"imagePaths":126,"frontmatter":127},[114,117,120,123],{"depth":68,"slug":115,"text":116},"builder-pattern","Builder Pattern",{"depth":68,"slug":118,"text":119},"branded-types","Branded Types",{"depth":68,"slug":121,"text":122},"monad","Monad*",{"depth":68,"slug":124,"text":125},"define-class-via-enum-wip","Define Class via Enum (WIP)",[],{"title":103,"description":104,"pubDate":128,"heroImage":106,"slug":100},"May 14 2024","markdown-style-guide",{"id":129,"data":131,"body":136,"filePath":137,"digest":138,"rendered":139},{"title":132,"description":133,"pubDate":134,"heroImage":135},"Markdown Style Guide","Here is a sample of some basic Markdown syntax that can be used when writing Markdown content in Astro.",["Date","2022-07-01T07:00:00.000Z"],"/images/blog-placeholder-1.jpg","Here is a sample of some basic Markdown syntax that can be used when writing Markdown content in Astro.\n\n## Headings\n\nThe following HTML `\u003Ch1>`—`\u003Ch6>` elements represent six levels of section headings. `\u003Ch1>` is the highest section level while `\u003Ch6>` is the lowest.\n\n# H1\n\n## H2\n\n### H3\n\n#### H4\n\n##### H5\n\n###### H6\n\n## Paragraph\n\nXerum, quo qui aut unt expliquam qui dolut labo. Aque venitatiusda cum, voluptionse latur sitiae dolessi aut parist aut dollo enim qui voluptate ma dolestendit peritin re plis aut quas inctum laceat est volestemque commosa as cus endigna tectur, offic to cor sequas etum rerum idem sintibus eiur? Quianimin porecus evelectur, cum que nis nust voloribus ratem aut omnimi, sitatur? Quiatem. Nam, omnis sum am facea corem alique molestrunt et eos evelece arcillit ut aut eos eos nus, sin conecerem erum fuga. Ri oditatquam, ad quibus unda veliamenimin cusam et facea ipsamus es exerum sitate dolores editium rerore eost, temped molorro ratiae volorro te reribus dolorer sperchicium faceata tiustia prat.\n\nItatur? Quiatae cullecum rem ent aut odis in re eossequodi nonsequ idebis ne sapicia is sinveli squiatum, core et que aut hariosam ex eat.\n\n## Images\n\n![This is a placeholder image description](/images/blog-placeholder-1.jpg)\n\n## Blockquotes\n\nThe blockquote element represents content that is quoted from another source, optionally with a citation which must be within a `footer` or `cite` element, and optionally with in-line changes such as annotations and abbreviations.\n\n#### Blockquote without attribution\n\n> Tiam, ad mint andaepu dandae nostion secatur sequo quae.  \n> **Note** that you can use _Markdown syntax_ within a blockquote.\n\n#### Blockquote with attribution\n\n> Don't communicate by sharing memory, share memory by communicating.\u003Cbr>\n> — \u003Ccite>Rob Pike[^1]\u003C/cite>\n\n[^1]: The above quote is excerpted from Rob Pike's [talk](https://www.youtube.com/watch?v=PAAkCSZUG1c) during Gopherfest, November 18, 2015.\n\n## Tables\n\n| Italics   | Bold     | Code   |\n| --------- | -------- | ------ |\n| _italics_ | **bold** | `code` |\n\n## Code Blocks\n\n```html\n\u003C!DOCTYPE html>\n\u003Chtml lang=\"en\">\n  \u003Chead>\n    \u003Cmeta charset=\"utf-8\" />\n    \u003Ctitle>Example HTML5 Document\u003C/title>\n  \u003C/head>\n  \u003Cbody>\n    \u003Cp>Test\u003C/p>\n  \u003C/body>\n\u003C/html>\n```\n\n## List Types\n\n#### Ordered List\n\n1. First item\n2. Second item\n3. Third item\n\n#### Unordered List\n\n- List item\n- Another item\n- And another item\n\n#### Nested list\n\n- Fruit\n  - Apple\n  - Orange\n  - Banana\n- Dairy\n  - Milk\n  - Cheese\n\n## Other Elements — abbr, sub, sup, kbd, mark\n\n\u003Cabbr title=\"Graphics Interchange Format\">GIF\u003C/abbr> is a bitmap image format.\n\nH\u003Csub>2\u003C/sub>O\n\nX\u003Csup>n\u003C/sup> + Y\u003Csup>n\u003C/sup> = Z\u003Csup>n\u003C/sup>\n\nPress \u003Ckbd>\u003Ckbd>CTRL\u003C/kbd>+\u003Ckbd>ALT\u003C/kbd>+\u003Ckbd>Delete\u003C/kbd>\u003C/kbd> to end the session.\n\nMost \u003Cmark>salamanders\u003C/mark> are nocturnal, and hunt for insects, worms, and other small creatures.","src/content/blog/markdown-style-guide.md","1ca94047b686d362",{"html":140,"metadata":141},"\u003Cp>Here is a sample of some basic Markdown syntax that can be used when writing Markdown content in Astro.\u003C/p>\n\u003Ch2 id=\"headings\">Headings\u003C/h2>\n\u003Cp>The following HTML \u003Ccode>&#x3C;h1>\u003C/code>—\u003Ccode>&#x3C;h6>\u003C/code> elements represent six levels of section headings. \u003Ccode>&#x3C;h1>\u003C/code> is the highest section level while \u003Ccode>&#x3C;h6>\u003C/code> is the lowest.\u003C/p>\n\u003Ch1 id=\"h1\">H1\u003C/h1>\n\u003Ch2 id=\"h2\">H2\u003C/h2>\n\u003Ch3 id=\"h3\">H3\u003C/h3>\n\u003Ch4 id=\"h4\">H4\u003C/h4>\n\u003Ch5 id=\"h5\">H5\u003C/h5>\n\u003Ch6 id=\"h6\">H6\u003C/h6>\n\u003Ch2 id=\"paragraph\">Paragraph\u003C/h2>\n\u003Cp>Xerum, quo qui aut unt expliquam qui dolut labo. Aque venitatiusda cum, voluptionse latur sitiae dolessi aut parist aut dollo enim qui voluptate ma dolestendit peritin re plis aut quas inctum laceat est volestemque commosa as cus endigna tectur, offic to cor sequas etum rerum idem sintibus eiur? Quianimin porecus evelectur, cum que nis nust voloribus ratem aut omnimi, sitatur? Quiatem. Nam, omnis sum am facea corem alique molestrunt et eos evelece arcillit ut aut eos eos nus, sin conecerem erum fuga. Ri oditatquam, ad quibus unda veliamenimin cusam et facea ipsamus es exerum sitate dolores editium rerore eost, temped molorro ratiae volorro te reribus dolorer sperchicium faceata tiustia prat.\u003C/p>\n\u003Cp>Itatur? Quiatae cullecum rem ent aut odis in re eossequodi nonsequ idebis ne sapicia is sinveli squiatum, core et que aut hariosam ex eat.\u003C/p>\n\u003Ch2 id=\"images\">Images\u003C/h2>\n\u003Cp>\u003Cimg src=\"/images/blog-placeholder-1.jpg\" alt=\"This is a placeholder image description\">\u003C/p>\n\u003Ch2 id=\"blockquotes\">Blockquotes\u003C/h2>\n\u003Cp>The blockquote element represents content that is quoted from another source, optionally with a citation which must be within a \u003Ccode>footer\u003C/code> or \u003Ccode>cite\u003C/code> element, and optionally with in-line changes such as annotations and abbreviations.\u003C/p>\n\u003Ch4 id=\"blockquote-without-attribution\">Blockquote without attribution\u003C/h4>\n\u003Cblockquote>\n\u003Cp>Tiam, ad mint andaepu dandae nostion secatur sequo quae.\u003Cbr>\n\u003Cstrong>Note\u003C/strong> that you can use \u003Cem>Markdown syntax\u003C/em> within a blockquote.\u003C/p>\n\u003C/blockquote>\n\u003Ch4 id=\"blockquote-with-attribution\">Blockquote with attribution\u003C/h4>\n\u003Cblockquote>\n\u003Cp>Don’t communicate by sharing memory, share memory by communicating.\u003Cbr>\n— \u003Ccite>Rob Pike\u003Csup>\u003Ca href=\"#user-content-fn-1\" id=\"user-content-fnref-1\" data-footnote-ref=\"\" aria-describedby=\"footnote-label\">1\u003C/a>\u003C/sup>\u003C/cite>\u003C/p>\n\u003C/blockquote>\n\u003Ch2 id=\"tables\">Tables\u003C/h2>\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\u003Ctable>\u003Cthead>\u003Ctr>\u003Cth>Italics\u003C/th>\u003Cth>Bold\u003C/th>\u003Cth>Code\u003C/th>\u003C/tr>\u003C/thead>\u003Ctbody>\u003Ctr>\u003Ctd>\u003Cem>italics\u003C/em>\u003C/td>\u003Ctd>\u003Cstrong>bold\u003C/strong>\u003C/td>\u003Ctd>\u003Ccode>code\u003C/code>\u003C/td>\u003C/tr>\u003C/tbody>\u003C/table>\n\u003Ch2 id=\"code-blocks\">Code Blocks\u003C/h2>\n\u003Cpre class=\"astro-code github-dark\" style=\"background-color:#24292e;color:#e1e4e8; overflow-x: auto;\" tabindex=\"0\" data-language=\"html\">\u003Ccode>\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">&#x3C;!\u003C/span>\u003Cspan style=\"color:#85E89D\">DOCTYPE\u003C/span>\u003Cspan style=\"color:#B392F0\"> html\u003C/span>\u003Cspan style=\"color:#E1E4E8\">>\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">&#x3C;\u003C/span>\u003Cspan style=\"color:#85E89D\">html\u003C/span>\u003Cspan style=\"color:#B392F0\"> lang\u003C/span>\u003Cspan style=\"color:#E1E4E8\">=\u003C/span>\u003Cspan style=\"color:#9ECBFF\">\"en\"\u003C/span>\u003Cspan style=\"color:#E1E4E8\">>\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">  &#x3C;\u003C/span>\u003Cspan style=\"color:#85E89D\">head\u003C/span>\u003Cspan style=\"color:#E1E4E8\">>\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">    &#x3C;\u003C/span>\u003Cspan style=\"color:#85E89D\">meta\u003C/span>\u003Cspan style=\"color:#B392F0\"> charset\u003C/span>\u003Cspan style=\"color:#E1E4E8\">=\u003C/span>\u003Cspan style=\"color:#9ECBFF\">\"utf-8\"\u003C/span>\u003Cspan style=\"color:#E1E4E8\"> />\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">    &#x3C;\u003C/span>\u003Cspan style=\"color:#85E89D\">title\u003C/span>\u003Cspan style=\"color:#E1E4E8\">>Example HTML5 Document&#x3C;/\u003C/span>\u003Cspan style=\"color:#85E89D\">title\u003C/span>\u003Cspan style=\"color:#E1E4E8\">>\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">  &#x3C;/\u003C/span>\u003Cspan style=\"color:#85E89D\">head\u003C/span>\u003Cspan style=\"color:#E1E4E8\">>\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">  &#x3C;\u003C/span>\u003Cspan style=\"color:#85E89D\">body\u003C/span>\u003Cspan style=\"color:#E1E4E8\">>\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">    &#x3C;\u003C/span>\u003Cspan style=\"color:#85E89D\">p\u003C/span>\u003Cspan style=\"color:#E1E4E8\">>Test&#x3C;/\u003C/span>\u003Cspan style=\"color:#85E89D\">p\u003C/span>\u003Cspan style=\"color:#E1E4E8\">>\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">  &#x3C;/\u003C/span>\u003Cspan style=\"color:#85E89D\">body\u003C/span>\u003Cspan style=\"color:#E1E4E8\">>\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">&#x3C;/\u003C/span>\u003Cspan style=\"color:#85E89D\">html\u003C/span>\u003Cspan style=\"color:#E1E4E8\">>\u003C/span>\u003C/span>\u003C/code>\u003C/pre>\n\u003Ch2 id=\"list-types\">List Types\u003C/h2>\n\u003Ch4 id=\"ordered-list\">Ordered List\u003C/h4>\n\u003Col>\n\u003Cli>First item\u003C/li>\n\u003Cli>Second item\u003C/li>\n\u003Cli>Third item\u003C/li>\n\u003C/ol>\n\u003Ch4 id=\"unordered-list\">Unordered List\u003C/h4>\n\u003Cul>\n\u003Cli>List item\u003C/li>\n\u003Cli>Another item\u003C/li>\n\u003Cli>And another item\u003C/li>\n\u003C/ul>\n\u003Ch4 id=\"nested-list\">Nested list\u003C/h4>\n\u003Cul>\n\u003Cli>Fruit\n\u003Cul>\n\u003Cli>Apple\u003C/li>\n\u003Cli>Orange\u003C/li>\n\u003Cli>Banana\u003C/li>\n\u003C/ul>\n\u003C/li>\n\u003Cli>Dairy\n\u003Cul>\n\u003Cli>Milk\u003C/li>\n\u003Cli>Cheese\u003C/li>\n\u003C/ul>\n\u003C/li>\n\u003C/ul>\n\u003Ch2 id=\"other-elements--abbr-sub-sup-kbd-mark\">Other Elements — abbr, sub, sup, kbd, mark\u003C/h2>\n\u003Cp>\u003Cabbr title=\"Graphics Interchange Format\">GIF\u003C/abbr> is a bitmap image format.\u003C/p>\n\u003Cp>H\u003Csub>2\u003C/sub>O\u003C/p>\n\u003Cp>X\u003Csup>n\u003C/sup> + Y\u003Csup>n\u003C/sup> = Z\u003Csup>n\u003C/sup>\u003C/p>\n\u003Cp>Press \u003Ckbd>\u003Ckbd>CTRL\u003C/kbd>+\u003Ckbd>ALT\u003C/kbd>+\u003Ckbd>Delete\u003C/kbd>\u003C/kbd> to end the session.\u003C/p>\n\u003Cp>Most \u003Cmark>salamanders\u003C/mark> are nocturnal, and hunt for insects, worms, and other small creatures.\u003C/p>\n\u003Csection data-footnotes=\"\" class=\"footnotes\">\u003Ch2 class=\"sr-only\" id=\"footnote-label\">Footnotes\u003C/h2>\n\u003Col>\n\u003Cli id=\"user-content-fn-1\">\n\u003Cp>The above quote is excerpted from Rob Pike’s \u003Ca href=\"https://www.youtube.com/watch?v=PAAkCSZUG1c\">talk\u003C/a> during Gopherfest, November 18, 2015. \u003Ca href=\"#user-content-fnref-1\" data-footnote-backref=\"\" aria-label=\"Back to reference 1\" class=\"data-footnote-backref\">↩\u003C/a>\u003C/p>\n\u003C/li>\n\u003C/ol>\n\u003C/section>",{"headings":142,"imagePaths":207,"frontmatter":208},[143,146,150,153,156,160,164,168,171,174,177,180,183,186,189,192,195,198,201,204],{"depth":26,"slug":144,"text":145},"headings","Headings",{"depth":147,"slug":148,"text":149},1,"h1","H1",{"depth":26,"slug":151,"text":152},"h2","H2",{"depth":68,"slug":154,"text":155},"h3","H3",{"depth":157,"slug":158,"text":159},4,"h4","H4",{"depth":161,"slug":162,"text":163},5,"h5","H5",{"depth":165,"slug":166,"text":167},6,"h6","H6",{"depth":26,"slug":169,"text":170},"paragraph","Paragraph",{"depth":26,"slug":172,"text":173},"images","Images",{"depth":26,"slug":175,"text":176},"blockquotes","Blockquotes",{"depth":157,"slug":178,"text":179},"blockquote-without-attribution","Blockquote without attribution",{"depth":157,"slug":181,"text":182},"blockquote-with-attribution","Blockquote with attribution",{"depth":26,"slug":184,"text":185},"tables","Tables",{"depth":26,"slug":187,"text":188},"code-blocks","Code Blocks",{"depth":26,"slug":190,"text":191},"list-types","List Types",{"depth":157,"slug":193,"text":194},"ordered-list","Ordered List",{"depth":157,"slug":196,"text":197},"unordered-list","Unordered List",{"depth":157,"slug":199,"text":200},"nested-list","Nested list",{"depth":26,"slug":202,"text":203},"other-elements--abbr-sub-sup-kbd-mark","Other Elements — abbr, sub, sup, kbd, mark",{"depth":26,"slug":205,"text":206},"footnote-label","Footnotes",[],{"title":132,"description":133,"pubDate":209,"heroImage":135,"slug":129},"Jul 01 2022","typescript-range-without-a-loop",{"id":210,"data":212,"body":217,"filePath":218,"digest":219,"rendered":220},{"title":213,"description":214,"pubDate":215,"heroImage":216},"Implement a range in TypeScript without loops*","How to implement a range sequence using generators in TypeScript for fun!",["Date","2024-02-13T08:00:00.000Z"],"/images/generator-cover.png","The other day I was browsing **LinkedIn** and came across the following [post](https://www.linkedin.com/feed/update/urn:li:activity:7163364024087220224?utm_source=share&utm_medium=member_desktop)\n\n> 👌 A common coding question in Javascript interviews: Write a function that implements range WITHOUT using loops?\n\nUnable to resist the urge to write some needlessly complex and over-engineered code, I began weighing my options. Initially, my mind went to recursion. Then to recursion, then to recursion...\n\n```ts\nfunction range(a: number, b: number): number[] {\n  return a \u003C b ? [a, ...range(a + 1, b)] : [b]\n}\n```\n\n[Try it on the TypeScript playground!](https://www.typescriptlang.org/play?module=1#code/GYVwdgxgLglg9mABAJwIZgOYFMAUqBciYIAtgEZbIA0iZhx5lAlPaRcgNoC6iA3gFCIUWKCGRJUiADy1EAfkQdUNAHRq0mXJIDUiAIw0yTHoQ5ku-AL79+AeluIsAD1QkADgBssiEAGdU2PwQCL5wXioecBg4Gtg4BvoADExMQA)\n\nHowever, this was widely **boring** and **severely unambitious**; No, what I needed was something with a bit more _spice_...\n\n## Generator Experiments\n\nThen it hit me! Let's use that thing I always want to use, but literally can never find a good enough reason. That's right, the good 'ol **[Generator](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Generator)**.\n\n> The Generator object is returned by a generator function and it conforms to both the iterable protocol and the iterator protocol.\n> Generator is a subclass of the hidden Iterator class. [Source](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Generator)\n\nIt had been a while since I last touched these pointy starred wonders, and so I got to experimenting to refresh my memory.\n\n```ts\nfunction* range() {\n  yield 1\n  yield 2\n  yield 3\n  yield 4\n  yield 5\n}\n\nconsole.log(...range()) // 1, 2, 3, 4, 5\n```\n\nBut, then it dawned on me that I normally use a **loop** inside a generator! The solution would have to bring back our old friend recursion, recursion, recursion!\n\n```ts\nfunction* range(a: number, b: number) {\n  if (a > b) return\n  yield a\n  yield* range(a + 1, b)\n}\n```\n\nHmmm.... the code was working, but TypeScript wasn't pleased. A few prayers to the **TypeGod's** and a couple \u003Cstrike>minutes\u003C/strike> hours later I had finished at last, and was eagerly awaiting to dunk on the **LinkedIn** n00bs!\n\n```ts\ntype RangeIterator = Generator\u003Cnumber, void, undefined>\n\nfunction* range(a: number, b: number): RangeIterator {\n  if (a > b) return\n  yield a\n  yield* range(a + 1, b)\n}\n\nconsole.log(...range(1, 5)) // 1, 2, 3, 4, 5\n```\n\n[Try it on the TypeScript playground!](https://www.typescriptlang.org/play?module=1&ssl=10&ssc=29&pln=2&pc=1#code/FAFwngDgpgBASgQwHYHMoEkRQE4JAe2xgF4YBxKJHPQgHiQFcBbAIxwBoYA3fASwBNODJPygAzXlX4A+YMDHCAxiF74kAKhi5UUABQIAXDEasOMFkZNtsASiOIdmagSIBvYDBi8xMfTGnmNlpQIAzYSB4wYLxQADb8MAiR0XH8mtpougDUWQicLDbAAL5yimoAzvixUAB0sfgoujXNGXoAjJxtAAw2NkA)\n\n## How it works?\n\nWhile the above code may look foreign to the unsuspecting LinkedIn denizen, it actually isn't all that complicated. The key takeaway here is how we can abuse the spread `...` operator to _spread_ them cheeks.\n\nLet's take a look at the execution flow starting from `console.log(...range(1, 5))`\n\n```ts\n\nrange(1, 5) // Step 1: called (move inside context)\n\nif (a > b) return      // (1 > 5) is false so we continue\nyield a                // pause execution, return (1) to the caller, then resume\nyield* range(a + 1, b) // pause execution, return iteration from range(2, 5), then resume\n\nrange(2, 5) // Step 2: called (move inside context)\n\nif (a > b) return      // (2 > 5) is false so we continue\nyield a                // pause execution, return (2) to the caller, then resume\nyield* range(a + 1, b) // pause execution, return iteration from range(3, 5), then resume\n\nrange(3, 5) // Step 3: called (move inside context)\n\nif (a > b) return      // (3 > 5) is false so we continue\nyield a                // pause execution, return (3) to the caller, then resume\nyield* range(a + 1, b) // pause execution, return iteration from range(4, 5), then resume\n\nrange(4, 5) // Step 4: called (move inside context)\n\nif (a > b) return      // (4 > 5) is false so we continue\nyield a                // pause execution, return (4) to the caller, then resume\nyield* range(a + 1, b) // pause execution, return iteration from range(5, 5), then resume\n\nrange(5, 5) // Step 5: called (move inside context)\n\nif (a > b) return      // (5 > 5) is false so we continue\nyield a                // pause execution, return (5) to the caller, then resume\nyield* range(a + 1, b) // pause execution, return iteration from range(6, 5), then resume\n\nrange(6, 5) // Step 6: called (move inside context)\n\nif (a > b) return      // (6 > 5) is true so we return which ends the iterator\n\n// Moving backwards through the call stack we get\n//\n// [1, [2, [3, [4, [5]]]]]\n// [1, [2, [3, [4, 5]]]]\n// [1, [2, [3, 4, 5]]]\n// [1, [2, 3, 4, 5]]\n// [1, 2, 3, 4, 5]\n\n// Which more or less simplifies to the following expression, note the\n// star (*) operator is used to spread the values from the iterator,\n// just omitting here the the sake of brevity\n\nfunction* range(1, 5) {\n  yield (((((yield 1), yield 2), yield 3), yield 4), yield 5)\n}\n\n// Then back in Step 1: context\n\nyield* [1, 2, 3, 4, 5]\n\n// Which returns 1, 2, 3, 4, 5 to the caller (...)\n\nconsole.log(...[1, 2, 3, 4, 5])\n\n// 1, 2, 3, 4, 5\n```\n\n0. We call `range(1, 5)` which creates our iterator\n1. The `...` operator does the dirty work of iterating\n2. The iterator will continue until `return` has been called\n3. The first pass `a = 1` and `b = 5`\n   - Since `a > b` is `false` we continue\n   - Next we `yield a` which is `1` to the output\n   - Next we `yield*` which returns another generator (step #4)\n4. The second pass `a = 2` and `b = 5`\n   - Since `a > b` is `false` we continue\n   - Next we `yield a` which is `2` to the output\n   - Next we `yield*` which returns another generator ()\n5. This continues until `a > b` and `return`\n6. This tells the iterator we are done!\n7. Leaving us with `1, 2, 3, 4, 5`\n\nOr an even more simplified way to think about this\n\n- `yield` pauses / resumes the iterator and returns a value to the caller\n- `yield*` delegate to another iterable object, such as a Generator.\n- `return` tells the iterator we are done\n\n## Final thoughts\n\nWhile this code would most certainly be rejected on any production pull request, it was a fun example of leveraging some seldom used parts [TypeScript](https://www.typescriptlang.org/) which are quite cool, _and this is just the surface_!\n\nThe way I like to think about generators is that they are functions with state, which can pause /resume execution and even have values passed back-in from the caller. They are used quite heavily in libraries like `react-redux` and also have support for `async` via the `AsyncGenerator`. You can learn more about them here or feel free to ask me any questions!\n\n- [Mozilla Docs: Generator](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Generator)\n- [Mozilla Docs: AsyncGenerator](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/AsyncGenerator)\n- [Mozilla Docs: Spread Syntax](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Operators/Spread_syntax)\n- [Mozilla Docs: Yield](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Operators/yield)\n- [Mozilla Docs: Yield\\*](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Operators/yield*)\n\n## That's cool, but can you?\n\nMy original post succeeded in stirring up quite the controversy from folks all across the software engineering spectrum, and one comment caught my attention in particular:\n\n> Everything uses a loop under the hood, unless it's using tensors.\n>\n> \u003Cdiv style=\"text-align: right\">— Some AI Engineer\u003C/div>\n\nWhile this is probably unavoidable to some degree, one thing that still bothered me was that the iterator solution was not all that much different from the original recursive solution. What if we change the problem slightly to include the following:\n\n\u003Ch3 style=\"text-align: center\">Implement a range WITHOUT using loops or recursion.\u003C/h3>\n\nNow things are getting interesting! Just to add a little more context, the comment section had already ruled out using the usual higher order functional such as `.forEach`, `.map`, `.filter`, `.reduce`, etc.\n\n```ts\nArray.from({ length: finish - start + 1 }, (_, i) => start + i + 1)\n\n// or\n\n[...Array(finish - start + 1)].map((_, i) => start + i)]\n```\n\nWhile these are short and concise solutions, they are still using loops under the hood. So, I decided to take it a step further and see if I could implement a solution without using loops or recursion.\n\n\u003Cimg src=\"/images/ah-shit-here-we-go-again.gif\" style=\"box-shadow: 0px 1px 5px rgba(0,0,0,0.1);\" alt=\"Ah shit here we go again...\" width=\"100%\" />\n\n\u003Cbr>\n\u003Cbr>\n\n## YCombinator + Generators\n\nSome of you may be familiar with the name **YCombinator** as it is indeed the same as the venture capital firm, but did you know that it also has a deeper meaning?\n\nThe **YCombinator** is a higher-order function which allows you to write recursive functions without using recursion. It is a concept from the field of computer science and is often used in functional programming languages.\n\nEquipped with this we now have everything we need to implement a solution without loops or recursion! Feast your eyes...\n\n```ts\ntype Y = (next: Y) => (x: number, y: number) => Generator\n\nfunction YCombinator(f: Y) {\n  return ((g: Y) => g(g))((g: Y) =>\n    f(() => (x: number, y: number) => g(g)(x, y))\n  )\n}\n\nconst range = YCombinator(\n  (next: Y) =>\n    function* (x: number, y: number) {\n      if (x > y) return\n      yield x\n      yield* next(next)(x + 1, y)\n    }\n)\n\nconsole.log(...range(3, 9)) // 3, 4, 5, 6, 7, 8, 9\n```\n\n[Try it on the TypeScript playground!](https://www.typescriptlang.org/play?module=1&ssl=14&ssc=29&pln=1&pc=1#code/C4TwDgpgBAmlC8UAUA7CAPYAuWBKBAfMujigK4C2ARhAE4A0UIplNt+8RA4hGrQIbAA9rQBQogGZkUAY2ABLISlgBhIdXkpBIpBJwx8Ab1FRTUWhGBlaypEgDm+jkXsPcuO47yEoEu8+IWajpGZihyYPYfV3sPdFD3XFEAX3EZJQBnYHN+FHtoRBg1DS1hWjs0TCcfKVkFJQAqQPDWEKYgtiMTM3kJYigiEHwLKxtu0xB5CAAbABModHGmKbmmyuBUDGA4qABqKABGBJSktMyhaYgAOmmhVyuHgTyIJAB2RgAmA-dRIA)\n\nIf you want to lean more about the **YCombinator** I recommend checking out the following [blog post](https://lucasfcosta.com/2018/05/20/Y-The-Most-Beautiful-Idea-in-Computer-Science.html) which does an excellent job of breaking it down and explaining it step by step!\n\n## Happily ever after?\n\nAs you can imagine I was riding pretty high after writing potentially the most needlessly complex and over-engineered code to dunk on Jr. devs on LinkedIn when the unthinkable happened...\n\n\u003Cimg src=\"/images/challenger.jpeg\" style=\"box-shadow: 0px 1px 5px rgba(0,0,0,0.1);\" alt=\"A new challenger approaches\" width=\"100%\" />\n\n> Interesting approach. \u003Cbr>\n> Unfortunately, you can easily encounter: \u003Cbr> > [ERR]: Maximum call stack size exceeded \u003Cbr>\n> Be careful with recursion in Javascript. \u003Cbr>\n>\n> \u003Cdiv style=\"text-align: right\">— Principal Software Engineer at Microsoft\u003C/div>\n\nAnd just like that my reality was shattered.\n\nAll the new found joy of working through the mind-boggling intricacies of implementing the Y-Combinator for the first time quickly evaporated. Someone had come along a blew the stack off my code by creating a range over **9,000**. At this moment I remembered the wise words once told to me long ago\n\n_\"For thou who hath not been dunked on, let him cast the first lineth of code\"_\n~ Ancient Proverbs\n\n## The Correct Way?\n\nThe Microsoft engineer then proceeded to drop this magnificent specimen of code, which could not only easily handle **9,000**+ iterations, but relied solely on the built-in mechanics of iterables.\n\n\u003Cimg src=\"/images/iterator-solution.png\" style=\"box-shadow: 0px 1px 5px rgba(0,0,0,0.1);\" alt=\"The correct way.\" width=\"100%\" />\n\n> In Javascript, an Iterable can be ...spread or used in a for loop. It implements a method named by Symbol.iterator, returning an Iterator. Iterator implements a method next, returning an object containing a value property and a done property, used to control the loop.\n> \u003Ccite>[Jaime Leonardo Pinheiro](https://www.linkedin.com/in/ACoAABFt5Z0BH8hw7mI-T2JCW2Gw-BoOePePUdg?lipi=urn%3Ali%3Apage%3Ad_flagship3_detail_base%3BUZ%2FiBARFQzKowiXCf9skRw%3D%3D)\u003C/cite>\n\nIt just goes to show there's always someone out there who knows more than you, and that's okay! It's all part of the learning process. I'm grateful for the opportunity to learn from others and to be able to share my own knowledge with the community.\n\n## Notable Mentions?\n\n```ts\n// the changes are slim, but not zero...\nconst sequence = String(Math.random())\nconst regex = new RegExp(`^(?=\\d{4}$)0?1?2?3?4?5?6?7?8?9?`)\nsequence.match()\n```\n\n\u003Cimg src=\"https://media2.giphy.com/media/v1.Y2lkPTc5MGI3NjExOWdwMGZ1d2I4bWs2Zmgxb2VqMXR2OWQ3bjJ6aXc4M3B1a2w3czc3NCZlcD12MV9pbnRlcm5hbF9naWZfYnlfaWQmY3Q9Zw/BPJmthQ3YRwD6QqcVD/giphy.gif\" style=\"box-shadow: 0px 1px 5px rgba(0,0,0,0.1);\" alt=\"Generator Cheers\" width=\"100%\" />\n\n\u003Ch2 style=\"text-align: center; margin-top: 16px\">Happy coding!\u003C/h2>\n\u003Ch4 style=\"text-align: center;\">~Colin Teahan\u003C/h4>","src/content/blog/typescript-range-without-a-loop.md","9bdcc1528109364e",{"html":221,"metadata":222},"\u003Cp>The other day I was browsing \u003Cstrong>LinkedIn\u003C/strong> and came across the following \u003Ca href=\"https://www.linkedin.com/feed/update/urn:li:activity:7163364024087220224?utm_source=share&#x26;utm_medium=member_desktop\">post\u003C/a>\u003C/p>\n\u003Cblockquote>\n\u003Cp>👌 A common coding question in Javascript interviews: Write a function that implements range WITHOUT using loops?\u003C/p>\n\u003C/blockquote>\n\u003Cp>Unable to resist the urge to write some needlessly complex and over-engineered code, I began weighing my options. Initially, my mind went to recursion. Then to recursion, then to recursion…\u003C/p>\n\u003Cpre class=\"astro-code github-dark\" style=\"background-color:#24292e;color:#e1e4e8; overflow-x: auto;\" tabindex=\"0\" data-language=\"ts\">\u003Ccode>\u003Cspan class=\"line\">\u003Cspan style=\"color:#F97583\">function\u003C/span>\u003Cspan style=\"color:#B392F0\"> range\u003C/span>\u003Cspan style=\"color:#E1E4E8\">(\u003C/span>\u003Cspan style=\"color:#FFAB70\">a\u003C/span>\u003Cspan style=\"color:#F97583\">:\u003C/span>\u003Cspan style=\"color:#79B8FF\"> number\u003C/span>\u003Cspan style=\"color:#E1E4E8\">, \u003C/span>\u003Cspan style=\"color:#FFAB70\">b\u003C/span>\u003Cspan style=\"color:#F97583\">:\u003C/span>\u003Cspan style=\"color:#79B8FF\"> number\u003C/span>\u003Cspan style=\"color:#E1E4E8\">)\u003C/span>\u003Cspan style=\"color:#F97583\">:\u003C/span>\u003Cspan style=\"color:#79B8FF\"> number\u003C/span>\u003Cspan style=\"color:#E1E4E8\">[] {\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#F97583\">  return\u003C/span>\u003Cspan style=\"color:#E1E4E8\"> a \u003C/span>\u003Cspan style=\"color:#F97583\">&#x3C;\u003C/span>\u003Cspan style=\"color:#E1E4E8\"> b \u003C/span>\u003Cspan style=\"color:#F97583\">?\u003C/span>\u003Cspan style=\"color:#E1E4E8\"> [a, \u003C/span>\u003Cspan style=\"color:#F97583\">...\u003C/span>\u003Cspan style=\"color:#B392F0\">range\u003C/span>\u003Cspan style=\"color:#E1E4E8\">(a \u003C/span>\u003Cspan style=\"color:#F97583\">+\u003C/span>\u003Cspan style=\"color:#79B8FF\"> 1\u003C/span>\u003Cspan style=\"color:#E1E4E8\">, b)] \u003C/span>\u003Cspan style=\"color:#F97583\">:\u003C/span>\u003Cspan style=\"color:#E1E4E8\"> [b]\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">}\u003C/span>\u003C/span>\u003C/code>\u003C/pre>\n\u003Cp>\u003Ca href=\"https://www.typescriptlang.org/play?module=1#code/GYVwdgxgLglg9mABAJwIZgOYFMAUqBciYIAtgEZbIA0iZhx5lAlPaRcgNoC6iA3gFCIUWKCGRJUiADy1EAfkQdUNAHRq0mXJIDUiAIw0yTHoQ5ku-AL79+AeluIsAD1QkADgBssiEAGdU2PwQCL5wXioecBg4Gtg4BvoADExMQA\">Try it on the TypeScript playground!\u003C/a>\u003C/p>\n\u003Cp>However, this was widely \u003Cstrong>boring\u003C/strong> and \u003Cstrong>severely unambitious\u003C/strong>; No, what I needed was something with a bit more \u003Cem>spice\u003C/em>…\u003C/p>\n\u003Ch2 id=\"generator-experiments\">Generator Experiments\u003C/h2>\n\u003Cp>Then it hit me! Let’s use that thing I always want to use, but literally can never find a good enough reason. That’s right, the good ‘ol \u003Cstrong>\u003Ca href=\"https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Generator\">Generator\u003C/a>\u003C/strong>.\u003C/p>\n\u003Cblockquote>\n\u003Cp>The Generator object is returned by a generator function and it conforms to both the iterable protocol and the iterator protocol.\nGenerator is a subclass of the hidden Iterator class. \u003Ca href=\"https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Generator\">Source\u003C/a>\u003C/p>\n\u003C/blockquote>\n\u003Cp>It had been a while since I last touched these pointy starred wonders, and so I got to experimenting to refresh my memory.\u003C/p>\n\u003Cpre class=\"astro-code github-dark\" style=\"background-color:#24292e;color:#e1e4e8; overflow-x: auto;\" tabindex=\"0\" data-language=\"ts\">\u003Ccode>\u003Cspan class=\"line\">\u003Cspan style=\"color:#F97583\">function*\u003C/span>\u003Cspan style=\"color:#B392F0\"> range\u003C/span>\u003Cspan style=\"color:#E1E4E8\">() {\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#F97583\">  yield\u003C/span>\u003Cspan style=\"color:#79B8FF\"> 1\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#F97583\">  yield\u003C/span>\u003Cspan style=\"color:#79B8FF\"> 2\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#F97583\">  yield\u003C/span>\u003Cspan style=\"color:#79B8FF\"> 3\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#F97583\">  yield\u003C/span>\u003Cspan style=\"color:#79B8FF\"> 4\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#F97583\">  yield\u003C/span>\u003Cspan style=\"color:#79B8FF\"> 5\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">}\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">console.\u003C/span>\u003Cspan style=\"color:#B392F0\">log\u003C/span>\u003Cspan style=\"color:#E1E4E8\">(\u003C/span>\u003Cspan style=\"color:#F97583\">...\u003C/span>\u003Cspan style=\"color:#B392F0\">range\u003C/span>\u003Cspan style=\"color:#E1E4E8\">()) \u003C/span>\u003Cspan style=\"color:#6A737D\">// 1, 2, 3, 4, 5\u003C/span>\u003C/span>\u003C/code>\u003C/pre>\n\u003Cp>But, then it dawned on me that I normally use a \u003Cstrong>loop\u003C/strong> inside a generator! The solution would have to bring back our old friend recursion, recursion, recursion!\u003C/p>\n\u003Cpre class=\"astro-code github-dark\" style=\"background-color:#24292e;color:#e1e4e8; overflow-x: auto;\" tabindex=\"0\" data-language=\"ts\">\u003Ccode>\u003Cspan class=\"line\">\u003Cspan style=\"color:#F97583\">function*\u003C/span>\u003Cspan style=\"color:#B392F0\"> range\u003C/span>\u003Cspan style=\"color:#E1E4E8\">(\u003C/span>\u003Cspan style=\"color:#FFAB70\">a\u003C/span>\u003Cspan style=\"color:#F97583\">:\u003C/span>\u003Cspan style=\"color:#79B8FF\"> number\u003C/span>\u003Cspan style=\"color:#E1E4E8\">, \u003C/span>\u003Cspan style=\"color:#FFAB70\">b\u003C/span>\u003Cspan style=\"color:#F97583\">:\u003C/span>\u003Cspan style=\"color:#79B8FF\"> number\u003C/span>\u003Cspan style=\"color:#E1E4E8\">) {\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#F97583\">  if\u003C/span>\u003Cspan style=\"color:#E1E4E8\"> (a \u003C/span>\u003Cspan style=\"color:#F97583\">>\u003C/span>\u003Cspan style=\"color:#E1E4E8\"> b) \u003C/span>\u003Cspan style=\"color:#F97583\">return\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#F97583\">  yield\u003C/span>\u003Cspan style=\"color:#E1E4E8\"> a\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#F97583\">  yield*\u003C/span>\u003Cspan style=\"color:#B392F0\"> range\u003C/span>\u003Cspan style=\"color:#E1E4E8\">(a \u003C/span>\u003Cspan style=\"color:#F97583\">+\u003C/span>\u003Cspan style=\"color:#79B8FF\"> 1\u003C/span>\u003Cspan style=\"color:#E1E4E8\">, b)\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">}\u003C/span>\u003C/span>\u003C/code>\u003C/pre>\n\u003Cp>Hmmm… the code was working, but TypeScript wasn’t pleased. A few prayers to the \u003Cstrong>TypeGod’s\u003C/strong> and a couple \u003Cstrike>minutes\u003C/strike> hours later I had finished at last, and was eagerly awaiting to dunk on the \u003Cstrong>LinkedIn\u003C/strong> n00bs!\u003C/p>\n\u003Cpre class=\"astro-code github-dark\" style=\"background-color:#24292e;color:#e1e4e8; overflow-x: auto;\" tabindex=\"0\" data-language=\"ts\">\u003Ccode>\u003Cspan class=\"line\">\u003Cspan style=\"color:#F97583\">type\u003C/span>\u003Cspan style=\"color:#B392F0\"> RangeIterator\u003C/span>\u003Cspan style=\"color:#F97583\"> =\u003C/span>\u003Cspan style=\"color:#B392F0\"> Generator\u003C/span>\u003Cspan style=\"color:#E1E4E8\">&#x3C;\u003C/span>\u003Cspan style=\"color:#79B8FF\">number\u003C/span>\u003Cspan style=\"color:#E1E4E8\">, \u003C/span>\u003Cspan style=\"color:#79B8FF\">void\u003C/span>\u003Cspan style=\"color:#E1E4E8\">, \u003C/span>\u003Cspan style=\"color:#79B8FF\">undefined\u003C/span>\u003Cspan style=\"color:#E1E4E8\">>\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#F97583\">function*\u003C/span>\u003Cspan style=\"color:#B392F0\"> range\u003C/span>\u003Cspan style=\"color:#E1E4E8\">(\u003C/span>\u003Cspan style=\"color:#FFAB70\">a\u003C/span>\u003Cspan style=\"color:#F97583\">:\u003C/span>\u003Cspan style=\"color:#79B8FF\"> number\u003C/span>\u003Cspan style=\"color:#E1E4E8\">, \u003C/span>\u003Cspan style=\"color:#FFAB70\">b\u003C/span>\u003Cspan style=\"color:#F97583\">:\u003C/span>\u003Cspan style=\"color:#79B8FF\"> number\u003C/span>\u003Cspan style=\"color:#E1E4E8\">)\u003C/span>\u003Cspan style=\"color:#F97583\">:\u003C/span>\u003Cspan style=\"color:#B392F0\"> RangeIterator\u003C/span>\u003Cspan style=\"color:#E1E4E8\"> {\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#F97583\">  if\u003C/span>\u003Cspan style=\"color:#E1E4E8\"> (a \u003C/span>\u003Cspan style=\"color:#F97583\">>\u003C/span>\u003Cspan style=\"color:#E1E4E8\"> b) \u003C/span>\u003Cspan style=\"color:#F97583\">return\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#F97583\">  yield\u003C/span>\u003Cspan style=\"color:#E1E4E8\"> a\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#F97583\">  yield*\u003C/span>\u003Cspan style=\"color:#B392F0\"> range\u003C/span>\u003Cspan style=\"color:#E1E4E8\">(a \u003C/span>\u003Cspan style=\"color:#F97583\">+\u003C/span>\u003Cspan style=\"color:#79B8FF\"> 1\u003C/span>\u003Cspan style=\"color:#E1E4E8\">, b)\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">}\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">console.\u003C/span>\u003Cspan style=\"color:#B392F0\">log\u003C/span>\u003Cspan style=\"color:#E1E4E8\">(\u003C/span>\u003Cspan style=\"color:#F97583\">...\u003C/span>\u003Cspan style=\"color:#B392F0\">range\u003C/span>\u003Cspan style=\"color:#E1E4E8\">(\u003C/span>\u003Cspan style=\"color:#79B8FF\">1\u003C/span>\u003Cspan style=\"color:#E1E4E8\">, \u003C/span>\u003Cspan style=\"color:#79B8FF\">5\u003C/span>\u003Cspan style=\"color:#E1E4E8\">)) \u003C/span>\u003Cspan style=\"color:#6A737D\">// 1, 2, 3, 4, 5\u003C/span>\u003C/span>\u003C/code>\u003C/pre>\n\u003Cp>\u003Ca href=\"https://www.typescriptlang.org/play?module=1&#x26;ssl=10&#x26;ssc=29&#x26;pln=2&#x26;pc=1#code/FAFwngDgpgBASgQwHYHMoEkRQE4JAe2xgF4YBxKJHPQgHiQFcBbAIxwBoYA3fASwBNODJPygAzXlX4A+YMDHCAxiF74kAKhi5UUABQIAXDEasOMFkZNtsASiOIdmagSIBvYDBi8xMfTGnmNlpQIAzYSB4wYLxQADb8MAiR0XH8mtpougDUWQicLDbAAL5yimoAzvixUAB0sfgoujXNGXoAjJxtAAw2NkA\">Try it on the TypeScript playground!\u003C/a>\u003C/p>\n\u003Ch2 id=\"how-it-works\">How it works?\u003C/h2>\n\u003Cp>While the above code may look foreign to the unsuspecting LinkedIn denizen, it actually isn’t all that complicated. The key takeaway here is how we can abuse the spread \u003Ccode>...\u003C/code> operator to \u003Cem>spread\u003C/em> them cheeks.\u003C/p>\n\u003Cp>Let’s take a look at the execution flow starting from \u003Ccode>console.log(...range(1, 5))\u003C/code>\u003C/p>\n\u003Cpre class=\"astro-code github-dark\" style=\"background-color:#24292e;color:#e1e4e8; overflow-x: auto;\" tabindex=\"0\" data-language=\"ts\">\u003Ccode>\u003Cspan class=\"line\">\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#B392F0\">range\u003C/span>\u003Cspan style=\"color:#E1E4E8\">(\u003C/span>\u003Cspan style=\"color:#79B8FF\">1\u003C/span>\u003Cspan style=\"color:#E1E4E8\">, \u003C/span>\u003Cspan style=\"color:#79B8FF\">5\u003C/span>\u003Cspan style=\"color:#E1E4E8\">) \u003C/span>\u003Cspan style=\"color:#6A737D\">// Step 1: called (move inside context)\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#F97583\">if\u003C/span>\u003Cspan style=\"color:#E1E4E8\"> (a \u003C/span>\u003Cspan style=\"color:#F97583\">>\u003C/span>\u003Cspan style=\"color:#E1E4E8\"> b) \u003C/span>\u003Cspan style=\"color:#F97583\">return\u003C/span>\u003Cspan style=\"color:#6A737D\">      // (1 > 5) is false so we continue\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#F97583\">yield\u003C/span>\u003Cspan style=\"color:#E1E4E8\"> a                \u003C/span>\u003Cspan style=\"color:#6A737D\">// pause execution, return (1) to the caller, then resume\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#F97583\">yield*\u003C/span>\u003Cspan style=\"color:#B392F0\"> range\u003C/span>\u003Cspan style=\"color:#E1E4E8\">(a \u003C/span>\u003Cspan style=\"color:#F97583\">+\u003C/span>\u003Cspan style=\"color:#79B8FF\"> 1\u003C/span>\u003Cspan style=\"color:#E1E4E8\">, b) \u003C/span>\u003Cspan style=\"color:#6A737D\">// pause execution, return iteration from range(2, 5), then resume\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#B392F0\">range\u003C/span>\u003Cspan style=\"color:#E1E4E8\">(\u003C/span>\u003Cspan style=\"color:#79B8FF\">2\u003C/span>\u003Cspan style=\"color:#E1E4E8\">, \u003C/span>\u003Cspan style=\"color:#79B8FF\">5\u003C/span>\u003Cspan style=\"color:#E1E4E8\">) \u003C/span>\u003Cspan style=\"color:#6A737D\">// Step 2: called (move inside context)\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#F97583\">if\u003C/span>\u003Cspan style=\"color:#E1E4E8\"> (a \u003C/span>\u003Cspan style=\"color:#F97583\">>\u003C/span>\u003Cspan style=\"color:#E1E4E8\"> b) \u003C/span>\u003Cspan style=\"color:#F97583\">return\u003C/span>\u003Cspan style=\"color:#6A737D\">      // (2 > 5) is false so we continue\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#F97583\">yield\u003C/span>\u003Cspan style=\"color:#E1E4E8\"> a                \u003C/span>\u003Cspan style=\"color:#6A737D\">// pause execution, return (2) to the caller, then resume\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#F97583\">yield*\u003C/span>\u003Cspan style=\"color:#B392F0\"> range\u003C/span>\u003Cspan style=\"color:#E1E4E8\">(a \u003C/span>\u003Cspan style=\"color:#F97583\">+\u003C/span>\u003Cspan style=\"color:#79B8FF\"> 1\u003C/span>\u003Cspan style=\"color:#E1E4E8\">, b) \u003C/span>\u003Cspan style=\"color:#6A737D\">// pause execution, return iteration from range(3, 5), then resume\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#B392F0\">range\u003C/span>\u003Cspan style=\"color:#E1E4E8\">(\u003C/span>\u003Cspan style=\"color:#79B8FF\">3\u003C/span>\u003Cspan style=\"color:#E1E4E8\">, \u003C/span>\u003Cspan style=\"color:#79B8FF\">5\u003C/span>\u003Cspan style=\"color:#E1E4E8\">) \u003C/span>\u003Cspan style=\"color:#6A737D\">// Step 3: called (move inside context)\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#F97583\">if\u003C/span>\u003Cspan style=\"color:#E1E4E8\"> (a \u003C/span>\u003Cspan style=\"color:#F97583\">>\u003C/span>\u003Cspan style=\"color:#E1E4E8\"> b) \u003C/span>\u003Cspan style=\"color:#F97583\">return\u003C/span>\u003Cspan style=\"color:#6A737D\">      // (3 > 5) is false so we continue\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#F97583\">yield\u003C/span>\u003Cspan style=\"color:#E1E4E8\"> a                \u003C/span>\u003Cspan style=\"color:#6A737D\">// pause execution, return (3) to the caller, then resume\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#F97583\">yield*\u003C/span>\u003Cspan style=\"color:#B392F0\"> range\u003C/span>\u003Cspan style=\"color:#E1E4E8\">(a \u003C/span>\u003Cspan style=\"color:#F97583\">+\u003C/span>\u003Cspan style=\"color:#79B8FF\"> 1\u003C/span>\u003Cspan style=\"color:#E1E4E8\">, b) \u003C/span>\u003Cspan style=\"color:#6A737D\">// pause execution, return iteration from range(4, 5), then resume\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#B392F0\">range\u003C/span>\u003Cspan style=\"color:#E1E4E8\">(\u003C/span>\u003Cspan style=\"color:#79B8FF\">4\u003C/span>\u003Cspan style=\"color:#E1E4E8\">, \u003C/span>\u003Cspan style=\"color:#79B8FF\">5\u003C/span>\u003Cspan style=\"color:#E1E4E8\">) \u003C/span>\u003Cspan style=\"color:#6A737D\">// Step 4: called (move inside context)\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#F97583\">if\u003C/span>\u003Cspan style=\"color:#E1E4E8\"> (a \u003C/span>\u003Cspan style=\"color:#F97583\">>\u003C/span>\u003Cspan style=\"color:#E1E4E8\"> b) \u003C/span>\u003Cspan style=\"color:#F97583\">return\u003C/span>\u003Cspan style=\"color:#6A737D\">      // (4 > 5) is false so we continue\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#F97583\">yield\u003C/span>\u003Cspan style=\"color:#E1E4E8\"> a                \u003C/span>\u003Cspan style=\"color:#6A737D\">// pause execution, return (4) to the caller, then resume\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#F97583\">yield*\u003C/span>\u003Cspan style=\"color:#B392F0\"> range\u003C/span>\u003Cspan style=\"color:#E1E4E8\">(a \u003C/span>\u003Cspan style=\"color:#F97583\">+\u003C/span>\u003Cspan style=\"color:#79B8FF\"> 1\u003C/span>\u003Cspan style=\"color:#E1E4E8\">, b) \u003C/span>\u003Cspan style=\"color:#6A737D\">// pause execution, return iteration from range(5, 5), then resume\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#B392F0\">range\u003C/span>\u003Cspan style=\"color:#E1E4E8\">(\u003C/span>\u003Cspan style=\"color:#79B8FF\">5\u003C/span>\u003Cspan style=\"color:#E1E4E8\">, \u003C/span>\u003Cspan style=\"color:#79B8FF\">5\u003C/span>\u003Cspan style=\"color:#E1E4E8\">) \u003C/span>\u003Cspan style=\"color:#6A737D\">// Step 5: called (move inside context)\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#F97583\">if\u003C/span>\u003Cspan style=\"color:#E1E4E8\"> (a \u003C/span>\u003Cspan style=\"color:#F97583\">>\u003C/span>\u003Cspan style=\"color:#E1E4E8\"> b) \u003C/span>\u003Cspan style=\"color:#F97583\">return\u003C/span>\u003Cspan style=\"color:#6A737D\">      // (5 > 5) is false so we continue\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#F97583\">yield\u003C/span>\u003Cspan style=\"color:#E1E4E8\"> a                \u003C/span>\u003Cspan style=\"color:#6A737D\">// pause execution, return (5) to the caller, then resume\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#F97583\">yield*\u003C/span>\u003Cspan style=\"color:#B392F0\"> range\u003C/span>\u003Cspan style=\"color:#E1E4E8\">(a \u003C/span>\u003Cspan style=\"color:#F97583\">+\u003C/span>\u003Cspan style=\"color:#79B8FF\"> 1\u003C/span>\u003Cspan style=\"color:#E1E4E8\">, b) \u003C/span>\u003Cspan style=\"color:#6A737D\">// pause execution, return iteration from range(6, 5), then resume\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#B392F0\">range\u003C/span>\u003Cspan style=\"color:#E1E4E8\">(\u003C/span>\u003Cspan style=\"color:#79B8FF\">6\u003C/span>\u003Cspan style=\"color:#E1E4E8\">, \u003C/span>\u003Cspan style=\"color:#79B8FF\">5\u003C/span>\u003Cspan style=\"color:#E1E4E8\">) \u003C/span>\u003Cspan style=\"color:#6A737D\">// Step 6: called (move inside context)\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#F97583\">if\u003C/span>\u003Cspan style=\"color:#E1E4E8\"> (a \u003C/span>\u003Cspan style=\"color:#F97583\">>\u003C/span>\u003Cspan style=\"color:#E1E4E8\"> b) \u003C/span>\u003Cspan style=\"color:#F97583\">return\u003C/span>\u003Cspan style=\"color:#6A737D\">      // (6 > 5) is true so we return which ends the iterator\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#6A737D\">// Moving backwards through the call stack we get\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#6A737D\">//\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#6A737D\">// [1, [2, [3, [4, [5]]]]]\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#6A737D\">// [1, [2, [3, [4, 5]]]]\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#6A737D\">// [1, [2, [3, 4, 5]]]\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#6A737D\">// [1, [2, 3, 4, 5]]\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#6A737D\">// [1, 2, 3, 4, 5]\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#6A737D\">// Which more or less simplifies to the following expression, note the\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#6A737D\">// star (*) operator is used to spread the values from the iterator,\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#6A737D\">// just omitting here the the sake of brevity\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#F97583\">function*\u003C/span>\u003Cspan style=\"color:#B392F0\"> range\u003C/span>\u003Cspan style=\"color:#E1E4E8\">(1, 5) {\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#F97583\">  yield\u003C/span>\u003Cspan style=\"color:#E1E4E8\"> (((((\u003C/span>\u003Cspan style=\"color:#F97583\">yield\u003C/span>\u003Cspan style=\"color:#79B8FF\"> 1\u003C/span>\u003Cspan style=\"color:#E1E4E8\">), \u003C/span>\u003Cspan style=\"color:#F97583\">yield\u003C/span>\u003Cspan style=\"color:#79B8FF\"> 2\u003C/span>\u003Cspan style=\"color:#E1E4E8\">), \u003C/span>\u003Cspan style=\"color:#F97583\">yield\u003C/span>\u003Cspan style=\"color:#79B8FF\"> 3\u003C/span>\u003Cspan style=\"color:#E1E4E8\">), \u003C/span>\u003Cspan style=\"color:#F97583\">yield\u003C/span>\u003Cspan style=\"color:#79B8FF\"> 4\u003C/span>\u003Cspan style=\"color:#E1E4E8\">), \u003C/span>\u003Cspan style=\"color:#F97583\">yield\u003C/span>\u003Cspan style=\"color:#79B8FF\"> 5\u003C/span>\u003Cspan style=\"color:#E1E4E8\">)\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">}\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#6A737D\">// Then back in Step 1: context\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#F97583\">yield*\u003C/span>\u003Cspan style=\"color:#E1E4E8\"> [\u003C/span>\u003Cspan style=\"color:#79B8FF\">1\u003C/span>\u003Cspan style=\"color:#E1E4E8\">, \u003C/span>\u003Cspan style=\"color:#79B8FF\">2\u003C/span>\u003Cspan style=\"color:#E1E4E8\">, \u003C/span>\u003Cspan style=\"color:#79B8FF\">3\u003C/span>\u003Cspan style=\"color:#E1E4E8\">, \u003C/span>\u003Cspan style=\"color:#79B8FF\">4\u003C/span>\u003Cspan style=\"color:#E1E4E8\">, \u003C/span>\u003Cspan style=\"color:#79B8FF\">5\u003C/span>\u003Cspan style=\"color:#E1E4E8\">]\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#6A737D\">// Which returns 1, 2, 3, 4, 5 to the caller (...)\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">console.\u003C/span>\u003Cspan style=\"color:#B392F0\">log\u003C/span>\u003Cspan style=\"color:#E1E4E8\">(\u003C/span>\u003Cspan style=\"color:#F97583\">...\u003C/span>\u003Cspan style=\"color:#E1E4E8\">[\u003C/span>\u003Cspan style=\"color:#79B8FF\">1\u003C/span>\u003Cspan style=\"color:#E1E4E8\">, \u003C/span>\u003Cspan style=\"color:#79B8FF\">2\u003C/span>\u003Cspan style=\"color:#E1E4E8\">, \u003C/span>\u003Cspan style=\"color:#79B8FF\">3\u003C/span>\u003Cspan style=\"color:#E1E4E8\">, \u003C/span>\u003Cspan style=\"color:#79B8FF\">4\u003C/span>\u003Cspan style=\"color:#E1E4E8\">, \u003C/span>\u003Cspan style=\"color:#79B8FF\">5\u003C/span>\u003Cspan style=\"color:#E1E4E8\">])\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#6A737D\">// 1, 2, 3, 4, 5\u003C/span>\u003C/span>\u003C/code>\u003C/pre>\n\u003Col start=\"0\">\n\u003Cli>We call \u003Ccode>range(1, 5)\u003C/code> which creates our iterator\u003C/li>\n\u003Cli>The \u003Ccode>...\u003C/code> operator does the dirty work of iterating\u003C/li>\n\u003Cli>The iterator will continue until \u003Ccode>return\u003C/code> has been called\u003C/li>\n\u003Cli>The first pass \u003Ccode>a = 1\u003C/code> and \u003Ccode>b = 5\u003C/code>\n\u003Cul>\n\u003Cli>Since \u003Ccode>a > b\u003C/code> is \u003Ccode>false\u003C/code> we continue\u003C/li>\n\u003Cli>Next we \u003Ccode>yield a\u003C/code> which is \u003Ccode>1\u003C/code> to the output\u003C/li>\n\u003Cli>Next we \u003Ccode>yield*\u003C/code> which returns another generator (step #4)\u003C/li>\n\u003C/ul>\n\u003C/li>\n\u003Cli>The second pass \u003Ccode>a = 2\u003C/code> and \u003Ccode>b = 5\u003C/code>\n\u003Cul>\n\u003Cli>Since \u003Ccode>a > b\u003C/code> is \u003Ccode>false\u003C/code> we continue\u003C/li>\n\u003Cli>Next we \u003Ccode>yield a\u003C/code> which is \u003Ccode>2\u003C/code> to the output\u003C/li>\n\u003Cli>Next we \u003Ccode>yield*\u003C/code> which returns another generator ()\u003C/li>\n\u003C/ul>\n\u003C/li>\n\u003Cli>This continues until \u003Ccode>a > b\u003C/code> and \u003Ccode>return\u003C/code>\u003C/li>\n\u003Cli>This tells the iterator we are done!\u003C/li>\n\u003Cli>Leaving us with \u003Ccode>1, 2, 3, 4, 5\u003C/code>\u003C/li>\n\u003C/ol>\n\u003Cp>Or an even more simplified way to think about this\u003C/p>\n\u003Cul>\n\u003Cli>\u003Ccode>yield\u003C/code> pauses / resumes the iterator and returns a value to the caller\u003C/li>\n\u003Cli>\u003Ccode>yield*\u003C/code> delegate to another iterable object, such as a Generator.\u003C/li>\n\u003Cli>\u003Ccode>return\u003C/code> tells the iterator we are done\u003C/li>\n\u003C/ul>\n\u003Ch2 id=\"final-thoughts\">Final thoughts\u003C/h2>\n\u003Cp>While this code would most certainly be rejected on any production pull request, it was a fun example of leveraging some seldom used parts \u003Ca href=\"https://www.typescriptlang.org/\">TypeScript\u003C/a> which are quite cool, \u003Cem>and this is just the surface\u003C/em>!\u003C/p>\n\u003Cp>The way I like to think about generators is that they are functions with state, which can pause /resume execution and even have values passed back-in from the caller. They are used quite heavily in libraries like \u003Ccode>react-redux\u003C/code> and also have support for \u003Ccode>async\u003C/code> via the \u003Ccode>AsyncGenerator\u003C/code>. You can learn more about them here or feel free to ask me any questions!\u003C/p>\n\u003Cul>\n\u003Cli>\u003Ca href=\"https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Generator\">Mozilla Docs: Generator\u003C/a>\u003C/li>\n\u003Cli>\u003Ca href=\"https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/AsyncGenerator\">Mozilla Docs: AsyncGenerator\u003C/a>\u003C/li>\n\u003Cli>\u003Ca href=\"https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Operators/Spread_syntax\">Mozilla Docs: Spread Syntax\u003C/a>\u003C/li>\n\u003Cli>\u003Ca href=\"https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Operators/yield\">Mozilla Docs: Yield\u003C/a>\u003C/li>\n\u003Cli>\u003Ca href=\"https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Operators/yield*\">Mozilla Docs: Yield*\u003C/a>\u003C/li>\n\u003C/ul>\n\u003Ch2 id=\"thats-cool-but-can-you\">That’s cool, but can you?\u003C/h2>\n\u003Cp>My original post succeeded in stirring up quite the controversy from folks all across the software engineering spectrum, and one comment caught my attention in particular:\u003C/p>\n\u003Cblockquote>\n\u003Cp>Everything uses a loop under the hood, unless it’s using tensors.\u003C/p>\n\u003Cdiv style=\"text-align: right\">— Some AI Engineer\u003C/div>\n\u003C/blockquote>\n\u003Cp>While this is probably unavoidable to some degree, one thing that still bothered me was that the iterator solution was not all that much different from the original recursive solution. What if we change the problem slightly to include the following:\u003C/p>\n\u003Ch3 style=\"text-align: center\">Implement a range WITHOUT using loops or recursion.\u003C/h3>\n\u003Cp>Now things are getting interesting! Just to add a little more context, the comment section had already ruled out using the usual higher order functional such as \u003Ccode>.forEach\u003C/code>, \u003Ccode>.map\u003C/code>, \u003Ccode>.filter\u003C/code>, \u003Ccode>.reduce\u003C/code>, etc.\u003C/p>\n\u003Cpre class=\"astro-code github-dark\" style=\"background-color:#24292e;color:#e1e4e8; overflow-x: auto;\" tabindex=\"0\" data-language=\"ts\">\u003Ccode>\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">Array.\u003C/span>\u003Cspan style=\"color:#B392F0\">from\u003C/span>\u003Cspan style=\"color:#E1E4E8\">({ length: finish \u003C/span>\u003Cspan style=\"color:#F97583\">-\u003C/span>\u003Cspan style=\"color:#E1E4E8\"> start \u003C/span>\u003Cspan style=\"color:#F97583\">+\u003C/span>\u003Cspan style=\"color:#79B8FF\"> 1\u003C/span>\u003Cspan style=\"color:#E1E4E8\"> }, (\u003C/span>\u003Cspan style=\"color:#FFAB70\">_\u003C/span>\u003Cspan style=\"color:#E1E4E8\">, \u003C/span>\u003Cspan style=\"color:#FFAB70\">i\u003C/span>\u003Cspan style=\"color:#E1E4E8\">) \u003C/span>\u003Cspan style=\"color:#F97583\">=>\u003C/span>\u003Cspan style=\"color:#E1E4E8\"> start \u003C/span>\u003Cspan style=\"color:#F97583\">+\u003C/span>\u003Cspan style=\"color:#E1E4E8\"> i \u003C/span>\u003Cspan style=\"color:#F97583\">+\u003C/span>\u003Cspan style=\"color:#79B8FF\"> 1\u003C/span>\u003Cspan style=\"color:#E1E4E8\">)\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#6A737D\">// or\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">[\u003C/span>\u003Cspan style=\"color:#F97583\">...\u003C/span>\u003Cspan style=\"color:#B392F0\">Array\u003C/span>\u003Cspan style=\"color:#E1E4E8\">(finish \u003C/span>\u003Cspan style=\"color:#F97583\">-\u003C/span>\u003Cspan style=\"color:#E1E4E8\"> start \u003C/span>\u003Cspan style=\"color:#F97583\">+\u003C/span>\u003Cspan style=\"color:#79B8FF\"> 1\u003C/span>\u003Cspan style=\"color:#E1E4E8\">)].\u003C/span>\u003Cspan style=\"color:#B392F0\">map\u003C/span>\u003Cspan style=\"color:#E1E4E8\">((\u003C/span>\u003Cspan style=\"color:#FFAB70\">_\u003C/span>\u003Cspan style=\"color:#E1E4E8\">, \u003C/span>\u003Cspan style=\"color:#FFAB70\">i\u003C/span>\u003Cspan style=\"color:#E1E4E8\">) \u003C/span>\u003Cspan style=\"color:#F97583\">=>\u003C/span>\u003Cspan style=\"color:#E1E4E8\"> start \u003C/span>\u003Cspan style=\"color:#F97583\">+\u003C/span>\u003Cspan style=\"color:#E1E4E8\"> i)]\u003C/span>\u003C/span>\u003C/code>\u003C/pre>\n\u003Cp>While these are short and concise solutions, they are still using loops under the hood. So, I decided to take it a step further and see if I could implement a solution without using loops or recursion.\u003C/p>\n\u003Cimg src=\"/images/ah-shit-here-we-go-again.gif\" style=\"box-shadow: 0px 1px 5px rgba(0,0,0,0.1);\" alt=\"Ah shit here we go again...\" width=\"100%\">\n\u003Cbr>\n\u003Cbr>\n\u003Ch2 id=\"ycombinator--generators\">YCombinator + Generators\u003C/h2>\n\u003Cp>Some of you may be familiar with the name \u003Cstrong>YCombinator\u003C/strong> as it is indeed the same as the venture capital firm, but did you know that it also has a deeper meaning?\u003C/p>\n\u003Cp>The \u003Cstrong>YCombinator\u003C/strong> is a higher-order function which allows you to write recursive functions without using recursion. It is a concept from the field of computer science and is often used in functional programming languages.\u003C/p>\n\u003Cp>Equipped with this we now have everything we need to implement a solution without loops or recursion! Feast your eyes…\u003C/p>\n\u003Cpre class=\"astro-code github-dark\" style=\"background-color:#24292e;color:#e1e4e8; overflow-x: auto;\" tabindex=\"0\" data-language=\"ts\">\u003Ccode>\u003Cspan class=\"line\">\u003Cspan style=\"color:#F97583\">type\u003C/span>\u003Cspan style=\"color:#B392F0\"> Y\u003C/span>\u003Cspan style=\"color:#F97583\"> =\u003C/span>\u003Cspan style=\"color:#E1E4E8\"> (\u003C/span>\u003Cspan style=\"color:#FFAB70\">next\u003C/span>\u003Cspan style=\"color:#F97583\">:\u003C/span>\u003Cspan style=\"color:#B392F0\"> Y\u003C/span>\u003Cspan style=\"color:#E1E4E8\">) \u003C/span>\u003Cspan style=\"color:#F97583\">=>\u003C/span>\u003Cspan style=\"color:#E1E4E8\"> (\u003C/span>\u003Cspan style=\"color:#FFAB70\">x\u003C/span>\u003Cspan style=\"color:#F97583\">:\u003C/span>\u003Cspan style=\"color:#79B8FF\"> number\u003C/span>\u003Cspan style=\"color:#E1E4E8\">, \u003C/span>\u003Cspan style=\"color:#FFAB70\">y\u003C/span>\u003Cspan style=\"color:#F97583\">:\u003C/span>\u003Cspan style=\"color:#79B8FF\"> number\u003C/span>\u003Cspan style=\"color:#E1E4E8\">) \u003C/span>\u003Cspan style=\"color:#F97583\">=>\u003C/span>\u003Cspan style=\"color:#B392F0\"> Generator\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#F97583\">function\u003C/span>\u003Cspan style=\"color:#B392F0\"> YCombinator\u003C/span>\u003Cspan style=\"color:#E1E4E8\">(\u003C/span>\u003Cspan style=\"color:#FFAB70\">f\u003C/span>\u003Cspan style=\"color:#F97583\">:\u003C/span>\u003Cspan style=\"color:#B392F0\"> Y\u003C/span>\u003Cspan style=\"color:#E1E4E8\">) {\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#F97583\">  return\u003C/span>\u003Cspan style=\"color:#E1E4E8\"> ((\u003C/span>\u003Cspan style=\"color:#FFAB70\">g\u003C/span>\u003Cspan style=\"color:#F97583\">:\u003C/span>\u003Cspan style=\"color:#B392F0\"> Y\u003C/span>\u003Cspan style=\"color:#E1E4E8\">) \u003C/span>\u003Cspan style=\"color:#F97583\">=>\u003C/span>\u003Cspan style=\"color:#B392F0\"> g\u003C/span>\u003Cspan style=\"color:#E1E4E8\">(g))((\u003C/span>\u003Cspan style=\"color:#FFAB70\">g\u003C/span>\u003Cspan style=\"color:#F97583\">:\u003C/span>\u003Cspan style=\"color:#B392F0\"> Y\u003C/span>\u003Cspan style=\"color:#E1E4E8\">) \u003C/span>\u003Cspan style=\"color:#F97583\">=>\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#B392F0\">    f\u003C/span>\u003Cspan style=\"color:#E1E4E8\">(() \u003C/span>\u003Cspan style=\"color:#F97583\">=>\u003C/span>\u003Cspan style=\"color:#E1E4E8\"> (\u003C/span>\u003Cspan style=\"color:#FFAB70\">x\u003C/span>\u003Cspan style=\"color:#F97583\">:\u003C/span>\u003Cspan style=\"color:#79B8FF\"> number\u003C/span>\u003Cspan style=\"color:#E1E4E8\">, \u003C/span>\u003Cspan style=\"color:#FFAB70\">y\u003C/span>\u003Cspan style=\"color:#F97583\">:\u003C/span>\u003Cspan style=\"color:#79B8FF\"> number\u003C/span>\u003Cspan style=\"color:#E1E4E8\">) \u003C/span>\u003Cspan style=\"color:#F97583\">=>\u003C/span>\u003Cspan style=\"color:#B392F0\"> g\u003C/span>\u003Cspan style=\"color:#E1E4E8\">(g)(x, y))\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">  )\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">}\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#F97583\">const\u003C/span>\u003Cspan style=\"color:#79B8FF\"> range\u003C/span>\u003Cspan style=\"color:#F97583\"> =\u003C/span>\u003Cspan style=\"color:#B392F0\"> YCombinator\u003C/span>\u003Cspan style=\"color:#E1E4E8\">(\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">  (\u003C/span>\u003Cspan style=\"color:#FFAB70\">next\u003C/span>\u003Cspan style=\"color:#F97583\">:\u003C/span>\u003Cspan style=\"color:#B392F0\"> Y\u003C/span>\u003Cspan style=\"color:#E1E4E8\">) \u003C/span>\u003Cspan style=\"color:#F97583\">=>\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#F97583\">    function*\u003C/span>\u003Cspan style=\"color:#E1E4E8\"> (\u003C/span>\u003Cspan style=\"color:#FFAB70\">x\u003C/span>\u003Cspan style=\"color:#F97583\">:\u003C/span>\u003Cspan style=\"color:#79B8FF\"> number\u003C/span>\u003Cspan style=\"color:#E1E4E8\">, \u003C/span>\u003Cspan style=\"color:#FFAB70\">y\u003C/span>\u003Cspan style=\"color:#F97583\">:\u003C/span>\u003Cspan style=\"color:#79B8FF\"> number\u003C/span>\u003Cspan style=\"color:#E1E4E8\">) {\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#F97583\">      if\u003C/span>\u003Cspan style=\"color:#E1E4E8\"> (x \u003C/span>\u003Cspan style=\"color:#F97583\">>\u003C/span>\u003Cspan style=\"color:#E1E4E8\"> y) \u003C/span>\u003Cspan style=\"color:#F97583\">return\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#F97583\">      yield\u003C/span>\u003Cspan style=\"color:#E1E4E8\"> x\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#F97583\">      yield*\u003C/span>\u003Cspan style=\"color:#B392F0\"> next\u003C/span>\u003Cspan style=\"color:#E1E4E8\">(next)(x \u003C/span>\u003Cspan style=\"color:#F97583\">+\u003C/span>\u003Cspan style=\"color:#79B8FF\"> 1\u003C/span>\u003Cspan style=\"color:#E1E4E8\">, y)\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">    }\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">)\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">console.\u003C/span>\u003Cspan style=\"color:#B392F0\">log\u003C/span>\u003Cspan style=\"color:#E1E4E8\">(\u003C/span>\u003Cspan style=\"color:#F97583\">...\u003C/span>\u003Cspan style=\"color:#B392F0\">range\u003C/span>\u003Cspan style=\"color:#E1E4E8\">(\u003C/span>\u003Cspan style=\"color:#79B8FF\">3\u003C/span>\u003Cspan style=\"color:#E1E4E8\">, \u003C/span>\u003Cspan style=\"color:#79B8FF\">9\u003C/span>\u003Cspan style=\"color:#E1E4E8\">)) \u003C/span>\u003Cspan style=\"color:#6A737D\">// 3, 4, 5, 6, 7, 8, 9\u003C/span>\u003C/span>\u003C/code>\u003C/pre>\n\u003Cp>\u003Ca href=\"https://www.typescriptlang.org/play?module=1&#x26;ssl=14&#x26;ssc=29&#x26;pln=1&#x26;pc=1#code/C4TwDgpgBAmlC8UAUA7CAPYAuWBKBAfMujigK4C2ARhAE4A0UIplNt+8RA4hGrQIbAA9rQBQogGZkUAY2ABLISlgBhIdXkpBIpBJwx8Ab1FRTUWhGBlaypEgDm+jkXsPcuO47yEoEu8+IWajpGZihyYPYfV3sPdFD3XFEAX3EZJQBnYHN+FHtoRBg1DS1hWjs0TCcfKVkFJQAqQPDWEKYgtiMTM3kJYigiEHwLKxtu0xB5CAAbABModHGmKbmmyuBUDGA4qABqKABGBJSktMyhaYgAOmmhVyuHgTyIJAB2RgAmA-dRIA\">Try it on the TypeScript playground!\u003C/a>\u003C/p>\n\u003Cp>If you want to lean more about the \u003Cstrong>YCombinator\u003C/strong> I recommend checking out the following \u003Ca href=\"https://lucasfcosta.com/2018/05/20/Y-The-Most-Beautiful-Idea-in-Computer-Science.html\">blog post\u003C/a> which does an excellent job of breaking it down and explaining it step by step!\u003C/p>\n\u003Ch2 id=\"happily-ever-after\">Happily ever after?\u003C/h2>\n\u003Cp>As you can imagine I was riding pretty high after writing potentially the most needlessly complex and over-engineered code to dunk on Jr. devs on LinkedIn when the unthinkable happened…\u003C/p>\n\u003Cimg src=\"/images/challenger.jpeg\" style=\"box-shadow: 0px 1px 5px rgba(0,0,0,0.1);\" alt=\"A new challenger approaches\" width=\"100%\">\n\u003Cblockquote>\n\u003Cp>Interesting approach. \u003Cbr>\nUnfortunately, you can easily encounter: \u003Cbr> > [ERR]: Maximum call stack size exceeded \u003Cbr>\nBe careful with recursion in Javascript. \u003Cbr>\u003C/p>\n\u003Cdiv style=\"text-align: right\">— Principal Software Engineer at Microsoft\u003C/div>\n\u003C/blockquote>\n\u003Cp>And just like that my reality was shattered.\u003C/p>\n\u003Cp>All the new found joy of working through the mind-boggling intricacies of implementing the Y-Combinator for the first time quickly evaporated. Someone had come along a blew the stack off my code by creating a range over \u003Cstrong>9,000\u003C/strong>. At this moment I remembered the wise words once told to me long ago\u003C/p>\n\u003Cp>\u003Cem>“For thou who hath not been dunked on, let him cast the first lineth of code”\u003C/em>\n~ Ancient Proverbs\u003C/p>\n\u003Ch2 id=\"the-correct-way\">The Correct Way?\u003C/h2>\n\u003Cp>The Microsoft engineer then proceeded to drop this magnificent specimen of code, which could not only easily handle \u003Cstrong>9,000\u003C/strong>+ iterations, but relied solely on the built-in mechanics of iterables.\u003C/p>\n\u003Cimg src=\"/images/iterator-solution.png\" style=\"box-shadow: 0px 1px 5px rgba(0,0,0,0.1);\" alt=\"The correct way.\" width=\"100%\">\n\u003Cblockquote>\n\u003Cp>In Javascript, an Iterable can be …spread or used in a for loop. It implements a method named by Symbol.iterator, returning an Iterator. Iterator implements a method next, returning an object containing a value property and a done property, used to control the loop.\n\u003Ccite>\u003Ca href=\"https://www.linkedin.com/in/ACoAABFt5Z0BH8hw7mI-T2JCW2Gw-BoOePePUdg?lipi=urn%3Ali%3Apage%3Ad_flagship3_detail_base%3BUZ%2FiBARFQzKowiXCf9skRw%3D%3D\">Jaime Leonardo Pinheiro\u003C/a>\u003C/cite>\u003C/p>\n\u003C/blockquote>\n\u003Cp>It just goes to show there’s always someone out there who knows more than you, and that’s okay! It’s all part of the learning process. I’m grateful for the opportunity to learn from others and to be able to share my own knowledge with the community.\u003C/p>\n\u003Ch2 id=\"notable-mentions\">Notable Mentions?\u003C/h2>\n\u003Cpre class=\"astro-code github-dark\" style=\"background-color:#24292e;color:#e1e4e8; overflow-x: auto;\" tabindex=\"0\" data-language=\"ts\">\u003Ccode>\u003Cspan class=\"line\">\u003Cspan style=\"color:#6A737D\">// the changes are slim, but not zero...\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#F97583\">const\u003C/span>\u003Cspan style=\"color:#79B8FF\"> sequence\u003C/span>\u003Cspan style=\"color:#F97583\"> =\u003C/span>\u003Cspan style=\"color:#B392F0\"> String\u003C/span>\u003Cspan style=\"color:#E1E4E8\">(Math.\u003C/span>\u003Cspan style=\"color:#B392F0\">random\u003C/span>\u003Cspan style=\"color:#E1E4E8\">())\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#F97583\">const\u003C/span>\u003Cspan style=\"color:#79B8FF\"> regex\u003C/span>\u003Cspan style=\"color:#F97583\"> =\u003C/span>\u003Cspan style=\"color:#F97583\"> new\u003C/span>\u003Cspan style=\"color:#B392F0\"> RegExp\u003C/span>\u003Cspan style=\"color:#E1E4E8\">(\u003C/span>\u003Cspan style=\"color:#9ECBFF\">`^(?=\u003C/span>\u003Cspan style=\"color:#79B8FF\">\\d\u003C/span>\u003Cspan style=\"color:#9ECBFF\">{4}$)0?1?2?3?4?5?6?7?8?9?`\u003C/span>\u003Cspan style=\"color:#E1E4E8\">)\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">sequence.\u003C/span>\u003Cspan style=\"color:#B392F0\">match\u003C/span>\u003Cspan style=\"color:#E1E4E8\">()\u003C/span>\u003C/span>\u003C/code>\u003C/pre>\n\u003Cimg src=\"https://media2.giphy.com/media/v1.Y2lkPTc5MGI3NjExOWdwMGZ1d2I4bWs2Zmgxb2VqMXR2OWQ3bjJ6aXc4M3B1a2w3czc3NCZlcD12MV9pbnRlcm5hbF9naWZfYnlfaWQmY3Q9Zw/BPJmthQ3YRwD6QqcVD/giphy.gif\" style=\"box-shadow: 0px 1px 5px rgba(0,0,0,0.1);\" alt=\"Generator Cheers\" width=\"100%\">\n\u003Ch2 style=\"text-align: center; margin-top: 16px\">Happy coding!\u003C/h2>\n\u003Ch4 style=\"text-align: center;\">~Colin Teahan\u003C/h4>",{"headings":223,"imagePaths":248,"frontmatter":249},[224,227,230,233,236,239,242,245],{"depth":26,"slug":225,"text":226},"generator-experiments","Generator Experiments",{"depth":26,"slug":228,"text":229},"how-it-works","How it works?",{"depth":26,"slug":231,"text":232},"final-thoughts","Final thoughts",{"depth":26,"slug":234,"text":235},"thats-cool-but-can-you","That’s cool, but can you?",{"depth":26,"slug":237,"text":238},"ycombinator--generators","YCombinator + Generators",{"depth":26,"slug":240,"text":241},"happily-ever-after","Happily ever after?",{"depth":26,"slug":243,"text":244},"the-correct-way","The Correct Way?",{"depth":26,"slug":246,"text":247},"notable-mentions","Notable Mentions?",[],{"title":213,"description":214,"pubDate":250,"heroImage":216,"slug":210},"Feb 13, 2024","ssr-with-bun-elysia-react",{"id":251,"data":253,"body":258,"filePath":259,"digest":260,"rendered":261},{"title":254,"description":255,"pubDate":256,"heroImage":257},"SSR with Bun, Elysia & React","How to build a simple website using React, Bun and Elysia with server-side rendering in 2023.",["Date","2023-09-13T07:00:00.000Z"],"/images/bun-elysia-react-banner.png","This article will show you how to create a simple website using [Bun](https://bun.sh/docs/installation), [Elysia](https://elysiajs.com/) and [React](https://react.dev/) with support for server-side rendering.\n\n- **Bun** the JS/TS bundler, runtime & package manager\n- **Elysia** a framework for building performant web applications\n- **React** a JavaScript library for building user interfaces\n\nOriginal source code here on [GitHub](https://github.com/asleepace/bun-elysia-react-srr-example).\n\n### Pre-requisites\n\nBefore we begin make sure you have **Bun** installed on your machine\n\n```bash\ncurl -fsSL https://bun.sh/install | bash # for macOS, Linux, and WSL\n```\n\n[Bun installation documentation](https://bun.sh/docs/installation)\n\nNext let's initialize a new project with **Elysia** by running the following command in your terminal\n\n```bash\nbun create elysia your-project-name # edit this\ncd your-project-name\nbun run dev\n```\n\n[Elysia installation documentation](https://elysiajs.com/quick-start.html)\n\nYou should see the following in your terminal\n\n> 🦊 Elysia is running at localhost:3000\n\nAnd the following when you visit [http://localhost:3000](http://localhost:3000)\n\n> Hello, Elysia!\n\n### Project Structure\n\nNext lets go ahead and define two more folders in our project which will hold our static files and react code.\n\n```bash\nmkdir public\nmkdir src/react\n```\n\nYou project structure should now look like this\n\n```bash\n├── ./your-project-name\n│   ├── node_modules\n│   ├── public            # client-side static files\n│   ├── src\n│   │   ├── react         # react code\n│   │   └── index.ts      # server-side entry point\n│   ├── .gitignore\n│   ├── bun.lock.b\n|   ├── package.json\n│   ├── README.md\n│   ├── tsconfig.json\n│   └── yarn.lock\n```\n\nWe want to be able to return static files from our server, so lets go ahead and add the following **Elysia** static plugin.\n\n```bash\nbun add @elysiajs/static\n```\n\nThis will allow the client to request static files from our server such as images, css, js, etc. Now replace the contents of your `src/index.ts` file with\n\n```ts\n// src/index.ts\nimport { Elysia } from 'elysia'\nimport { staticPlugin } from '@elysiajs/static'\n\nconst app = new Elysia()\n  .use(staticPlugin())\n  .get('/', () => {\n    return 'Our first route'\n  })\n  .listen(3000)\n```\n\nThe static plugin default folder is public, and registered with `/public` prefix. [Click here to learn more](https://elysiajs.com/plugins/static.html)\n\n## React Setup\n\nThe next thing we want to do is be able to render our React code on the server, so let's go ahead and add the following dependencies\n\n```bash\nbun add react react-dom  # article is using 18.2.0\n```\n\nNext let's create our React application by adding a file called `App.tsx` in our `./src/react/` folder with the following code\n\n```tsx\n// src/react/App.tsx\nimport React, { useState } from 'react'\n\nexport default function App() {\n  const [count, setCount] = useState(0)\n  return (\n    \u003Chtml>\n      \u003Chead>\n        \u003Cmeta charSet=\"utf-8\" />\n        \u003Ctitle>Bun, Elysia & React\u003C/title>\n        \u003Cmeta name=\"description\" content=\"Bun, Elysia & React\" />\n        \u003Cmeta name=\"viewport\" content=\"width=device-width, initial-scale=1\" />\n      \u003C/head>\n      \u003Cbody>\n        \u003Ch1>Counter {count}\u003C/h1>\n        \u003Cbutton onClick={() => setCount(count + 1)}>Increment\u003C/button>\n      \u003C/body>\n    \u003C/html>\n  )\n}\n```\n\n[React server-side rendering documentation](https://react.dev/reference/react-dom/server/renderToReadableStream)\n\nNow back in our `./src/index.ts` let's import this component by adding the following line\n\n```ts\n// src/index.ts\nimport App from './react/App'\n```\n\nDon't worry if you see a type error, we will fix in the next section.\n\n## Fixing Type Errors\n\nAt this point you should see a couple type errors since we haven't specified how our project should handle JSX and React types. To fix this add the following dev dependencies\n\n```bash\nbun add -d @types/react @types/react-dom\n```\n\nNext let's specify how the project should handle **JSX** by opening our `./tsconfig.json` and setting the following options\n\n```json\n{\n  \"jsx\": \"react\",\n  \"jsxFactory\": \"React.createElement\",\n  \"jsxFragmentFactory\": \"React.Fragment\"\n}\n```\n\nFor more information refer to the [Bun JSX documentation](https://bun.sh/docs/runtime/jsx). The type errors should now be gone, but sometimes you need to restart your IDE for the changes to take effect; _looking at you VSCode_...\n\n## React SSR\n\nNow back in our `./src/index.ts` let's go ahead and render our React component by adding the following\n\n```ts\n// src/index.ts\nimport { Elysia } from 'elysia'\nimport { staticPlugin } from '@elysiajs/static'\nimport { renderToReadableStream } from 'react-dom/server'\nimport { createElement } from 'react'\nimport App from './react/App'\n\nconst app = new Elysia()\n  .use(staticPlugin())\n  .get('/', async () => {\n    // create our react App component\n    const app = createElement(App)\n\n    // render the app component to a readable stream\n    const stream = await renderToReadableStream(app, {\n      bootstrapScripts: ['/public/index.js'],\n    })\n\n    // output the stream as the response\n    return new Response(stream, {\n      headers: { 'Content-Type': 'text/html' },\n    })\n  })\n  .listen(3000)\n```\n\nMake sure your local dev server is still running if you closed your IDE earlier by running the following from your project root\n\n```bash\nbun run dev\n```\n\nThen open [http://localhost:3000](http://localhost:3000) in your browser and you should see the following\n\n\u003Cimg src=\"/images/ssr-example.png\" style=\"box-shadow: 0px 1px 5px rgba(0,0,0,0.1);\" alt=\"React SSR\" width=\"100%\" />\n\nHowever, you may notice that pressing the button doesn't increment the counter. This is because we haven't added any client-side code yet. Let's go ahead and do that now. Create a new file called `index.tsx` in your `./react/` folder with the following code\n\n```tsx\n// src/react/index.tsx\n// Make sure to include the following two lines:\n/// \u003Creference lib=\"dom\" />\n/// \u003Creference lib=\"dom.iterable\" />\nimport React from 'react'\nimport { hydrateRoot } from 'react-dom/client'\nimport App from './App.js'\n\nhydrateRoot(document, \u003CApp />)\n```\n\nNormally this is where we would call `createRoot`, but since the root will be created on the server, all we need to do is hydrate the client after the initial load. This will attach event listeners to the server-generated HTML and make it interactive.\n\n[React Hydrate Documentation](https://react.dev/reference/react-dom/client/hydrateRoot)\n\n```ts\n/// \u003Creference lib=\"dom\" />\n/// \u003Creference lib=\"dom.iterable\" />\n```\n\nNote these two lines above are not comments, but rather [Triple-Slash Directives](https://www.typescriptlang.org/docs/handbook/triple-slash-directives.html). These are used to tell the TypeScript compiler how to handle certain files. In this case, we are telling the compiler to include the DOM types in our project. This is necessary because the `hydrateRoot` function requires the DOM types to be present (i.e. `document`).\n\nIf you wish to access DOM elements (`window`, `document`, etc.) in another file just add these directives at the top of the file.\n\n[How to add DOM types in Bun](https://stackoverflow.com/a/75726039/4326715)\n\n## Bundle Client JS\n\nWe are almost there! The last step is to bundle our `react` code which will be loaded by the client. Luckily **Bun** has a built-in bundler which we can use to bundle our client-side code. We could do this via the command line or as a script in our `package.json`, but for this example we will do it programmatically in our `./src/index.ts` file, just add the following at the top of the file\n\n```ts\n// src/index.ts\nawait Bun.build({\n  entrypoints: ['./src/react/index.tsx'],\n  outdir: './public',\n})\n```\n\n\u003Cdiv style=\"text-align: center;\">\u003Csub>That's right top level await!\u003C/sub>\u003C/div>\n\nNow our **React** code will be automatically bundled each time we start our server! You can verify this by checking if the `./public/index.js` file exists. Make sure that this file path matches the `bootstrapScripts` option in your `./src/index.ts` file.\n\n```ts\n// Make sure the bootstrapScripts matches the output\n// file path in your ./public folder\nconst stream = await renderToReadableStream(app, {\n  bootstrapScripts: ['/public/index.js'],\n})\n```\n\nNow open [http://localhost:3000](http://localhost:3000) in your browser, the counter should now be working!\n\n## Conclusion\n\nCongratulations you have just created a simple website using Bun, Elysia and React with support for server-side rendering!\n\nIf you have any additional questions feel free to reach out to me on [Twitter](https://twitter.com/asleepace) or dropping me an email at colin@asleepace.com :)\n\n**Next Recommended Reading**\n\n- [React Readable Streams](https://react.dev/reference/react/Suspense)\n- [React Suspense](https://react.dev/reference/react/Suspense)\n\n## Helpful Resources\n\nThe following links are helpful resources for learning more about the technologies used in this project:\n\n- [How to server static files with Elysia](https://elysiajs.com/plugins/static.html)\n- [How to create a simple website with Elysia](https://elysiajs.com/quick-start.html)\n- [How to configure Bun with DOM types](https://stackoverflow.com/a/75726039/4326715)\n- [How to configure Bun with JSX documentation](https://bun.sh/docs/runtime/jsx)\n- [How to bundle assets with Bun documentation](https://bun.sh/docs/bundler)\n- [How to render react on the server](https://react.dev/reference/react-dom/server/renderToReadableStream)\n\nIf you have any additional questions feel free to reach out to me on [Twitter](https://twitter.com/asleepace) or dropping me an [email](mailto:colin@asleepace.com).\n\n## TL;DR\n\nHere is the final code from the article, you can also view this project on [GitHub](https://github.com/asleepace/bun-elysia-react-srr-example).\n\n#### Project Structure\n\n```bash\n├── ./your-project-name\n│   ├── node_modules\n│   ├── public              # client-side static files\n│   │   └── index.js        # generated client bundle\n│   ├── src\n│   │   ├── react\n│   │   │   ├── App.tsx     # react application\n│   │   │   └── index.tsx   # client-side entry point\n│   │   └── index.ts        # server-side entry point\n│   ├── bun.lock.b\n│   ├── package.json\n│   ├── tsconfig.json\n│   └── yarn.lock\n```\n\n#### **src/index.ts**\n\n```ts\n// src/index.ts\nimport { Elysia } from 'elysia'\nimport { staticPlugin } from '@elysiajs/static'\nimport { renderToReadableStream } from 'react-dom/server'\nimport { createElement } from 'react'\nimport App from './react/App'\n\n// bundle client side react-code\nawait Bun.build({\n  entrypoints: ['./src/react/index.tsx'],\n  outdir: './public',\n})\n\n// start a new Elysia server on port 3000\nconst app = new Elysia()\n  .use(staticPlugin())\n  .get('/', async () => {\n    // create our react App component\n    const app = createElement(App)\n\n    // render the app component to a readable stream\n    const stream = await renderToReadableStream(app, {\n      bootstrapScripts: ['/public/index.js'],\n    })\n\n    // output the stream as the response\n    return new Response(stream, {\n      headers: { 'Content-Type': 'text/html' },\n    })\n  })\n  .listen(3000)\n```\n\n#### src/react/App.tsx\n\n```tsx\n// src/react/App.tsx\nimport React, { useState } from 'react'\n\nexport default function App() {\n  const [count, setCount] = useState(0)\n  return (\n    \u003Chtml>\n      \u003Chead>\n        \u003Cmeta charSet=\"utf-8\" />\n        \u003Ctitle>Bun, Elysia & React\u003C/title>\n        \u003Cmeta name=\"description\" content=\"Bun, Elysia & React\" />\n        \u003Cmeta name=\"viewport\" content=\"width=device-width, initial-scale=1\" />\n      \u003C/head>\n      \u003Cbody>\n        \u003Ch1>Counter {count}\u003C/h1>\n        \u003Cbutton onClick={() => setCount(count + 1)}>Increment\u003C/button>\n      \u003C/body>\n    \u003C/html>\n  )\n}\n```\n\n#### src/react/index.tsx\n\n```tsx\n/// \u003Creference lib=\"dom\" />\n/// \u003Creference lib=\"dom.iterable\" />\n\nimport React from 'react'\nimport { hydrateRoot } from 'react-dom/client'\nimport App from './App.js'\n\nhydrateRoot(document, \u003CApp />)\n```\n\n#### tsconfig.json\n\n```json\n{\n  \"compilerOptions\": {\n    \"target\": \"ES2021\",\n    \"jsx\": \"react\",\n    \"jsxFactory\": \"React.createElement\",\n    \"jsxFragmentFactory\": \"React.Fragment\",\n    \"module\": \"ES2022\",\n    \"moduleResolution\": \"node\",\n    \"types\": [\"bun-types\"],\n    \"esModuleInterop\": true,\n    \"forceConsistentCasingInFileNames\": true,\n    \"strict\": true,\n    \"skipLibCheck\": true\n  }\n}\n```\n\n### package.json\n\n```json\n{\n  \"name\": \"bun-elysia-react-ssr\",\n  \"version\": \"1.0.0\",\n  \"scripts\": {\n    \"test\": \"echo \\\"Error: no test specified\\\" && exit 1\",\n    \"dev\": \"bun run --watch src/index.ts\"\n  },\n  \"dependencies\": {\n    \"@elysiajs/static\": \"^0.6.0\",\n    \"elysia\": \"latest\",\n    \"react\": \"^18.2.0\",\n    \"react-dom\": \"^18.2.0\"\n  },\n  \"devDependencies\": {\n    \"@types/react\": \"^18.2.21\",\n    \"@types/react-dom\": \"^18.2.7\",\n    \"bun-types\": \"latest\"\n  },\n  \"module\": \"src/index.js\"\n}\n```\n\nArticle and [source code](https://github.com/asleepace/bun-elysia-react-srr-example) by [Colin Teahan](https://www.linkedin.com/in/colin-teahan/?lipi=urn%3Ali%3Apage%3Ad_flagship3_feed%3BeM7QoEWiSIOwjiKXlYu0VA%3D%3D)\n\n\u003Ch1>🥳\u003C/h1>","src/content/blog/bun-elysia-react-ssr.md","0a024d871e2db97a",{"html":262,"metadata":263},"\u003Cp>This article will show you how to create a simple website using \u003Ca href=\"https://bun.sh/docs/installation\">Bun\u003C/a>, \u003Ca href=\"https://elysiajs.com/\">Elysia\u003C/a> and \u003Ca href=\"https://react.dev/\">React\u003C/a> with support for server-side rendering.\u003C/p>\n\u003Cul>\n\u003Cli>\u003Cstrong>Bun\u003C/strong> the JS/TS bundler, runtime &#x26; package manager\u003C/li>\n\u003Cli>\u003Cstrong>Elysia\u003C/strong> a framework for building performant web applications\u003C/li>\n\u003Cli>\u003Cstrong>React\u003C/strong> a JavaScript library for building user interfaces\u003C/li>\n\u003C/ul>\n\u003Cp>Original source code here on \u003Ca href=\"https://github.com/asleepace/bun-elysia-react-srr-example\">GitHub\u003C/a>.\u003C/p>\n\u003Ch3 id=\"pre-requisites\">Pre-requisites\u003C/h3>\n\u003Cp>Before we begin make sure you have \u003Cstrong>Bun\u003C/strong> installed on your machine\u003C/p>\n\u003Cpre class=\"astro-code github-dark\" style=\"background-color:#24292e;color:#e1e4e8; overflow-x: auto;\" tabindex=\"0\" data-language=\"bash\">\u003Ccode>\u003Cspan class=\"line\">\u003Cspan style=\"color:#B392F0\">curl\u003C/span>\u003Cspan style=\"color:#79B8FF\"> -fsSL\u003C/span>\u003Cspan style=\"color:#9ECBFF\"> https://bun.sh/install\u003C/span>\u003Cspan style=\"color:#F97583\"> |\u003C/span>\u003Cspan style=\"color:#B392F0\"> bash\u003C/span>\u003Cspan style=\"color:#6A737D\"> # for macOS, Linux, and WSL\u003C/span>\u003C/span>\u003C/code>\u003C/pre>\n\u003Cp>\u003Ca href=\"https://bun.sh/docs/installation\">Bun installation documentation\u003C/a>\u003C/p>\n\u003Cp>Next let’s initialize a new project with \u003Cstrong>Elysia\u003C/strong> by running the following command in your terminal\u003C/p>\n\u003Cpre class=\"astro-code github-dark\" style=\"background-color:#24292e;color:#e1e4e8; overflow-x: auto;\" tabindex=\"0\" data-language=\"bash\">\u003Ccode>\u003Cspan class=\"line\">\u003Cspan style=\"color:#B392F0\">bun\u003C/span>\u003Cspan style=\"color:#9ECBFF\"> create\u003C/span>\u003Cspan style=\"color:#9ECBFF\"> elysia\u003C/span>\u003Cspan style=\"color:#9ECBFF\"> your-project-name\u003C/span>\u003Cspan style=\"color:#6A737D\"> # edit this\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#79B8FF\">cd\u003C/span>\u003Cspan style=\"color:#9ECBFF\"> your-project-name\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#B392F0\">bun\u003C/span>\u003Cspan style=\"color:#9ECBFF\"> run\u003C/span>\u003Cspan style=\"color:#9ECBFF\"> dev\u003C/span>\u003C/span>\u003C/code>\u003C/pre>\n\u003Cp>\u003Ca href=\"https://elysiajs.com/quick-start.html\">Elysia installation documentation\u003C/a>\u003C/p>\n\u003Cp>You should see the following in your terminal\u003C/p>\n\u003Cblockquote>\n\u003Cp>🦊 Elysia is running at localhost:3000\u003C/p>\n\u003C/blockquote>\n\u003Cp>And the following when you visit \u003Ca href=\"http://localhost:3000\">http://localhost:3000\u003C/a>\u003C/p>\n\u003Cblockquote>\n\u003Cp>Hello, Elysia!\u003C/p>\n\u003C/blockquote>\n\u003Ch3 id=\"project-structure\">Project Structure\u003C/h3>\n\u003Cp>Next lets go ahead and define two more folders in our project which will hold our static files and react code.\u003C/p>\n\u003Cpre class=\"astro-code github-dark\" style=\"background-color:#24292e;color:#e1e4e8; overflow-x: auto;\" tabindex=\"0\" data-language=\"bash\">\u003Ccode>\u003Cspan class=\"line\">\u003Cspan style=\"color:#B392F0\">mkdir\u003C/span>\u003Cspan style=\"color:#9ECBFF\"> public\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#B392F0\">mkdir\u003C/span>\u003Cspan style=\"color:#9ECBFF\"> src/react\u003C/span>\u003C/span>\u003C/code>\u003C/pre>\n\u003Cp>You project structure should now look like this\u003C/p>\n\u003Cpre class=\"astro-code github-dark\" style=\"background-color:#24292e;color:#e1e4e8; overflow-x: auto;\" tabindex=\"0\" data-language=\"bash\">\u003Ccode>\u003Cspan class=\"line\">\u003Cspan style=\"color:#B392F0\">├──\u003C/span>\u003Cspan style=\"color:#9ECBFF\"> ./your-project-name\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#B392F0\">│\u003C/span>\u003Cspan style=\"color:#9ECBFF\">   ├──\u003C/span>\u003Cspan style=\"color:#9ECBFF\"> node_modules\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#B392F0\">│\u003C/span>\u003Cspan style=\"color:#9ECBFF\">   ├──\u003C/span>\u003Cspan style=\"color:#9ECBFF\"> public\u003C/span>\u003Cspan style=\"color:#6A737D\">            # client-side static files\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#B392F0\">│\u003C/span>\u003Cspan style=\"color:#9ECBFF\">   ├──\u003C/span>\u003Cspan style=\"color:#9ECBFF\"> src\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#B392F0\">│\u003C/span>\u003Cspan style=\"color:#9ECBFF\">   │\u003C/span>\u003Cspan style=\"color:#9ECBFF\">   ├──\u003C/span>\u003Cspan style=\"color:#9ECBFF\"> react\u003C/span>\u003Cspan style=\"color:#6A737D\">         # react code\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#B392F0\">│\u003C/span>\u003Cspan style=\"color:#9ECBFF\">   │\u003C/span>\u003Cspan style=\"color:#9ECBFF\">   └──\u003C/span>\u003Cspan style=\"color:#9ECBFF\"> index.ts\u003C/span>\u003Cspan style=\"color:#6A737D\">      # server-side entry point\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#B392F0\">│\u003C/span>\u003Cspan style=\"color:#9ECBFF\">   ├──\u003C/span>\u003Cspan style=\"color:#9ECBFF\"> .gitignore\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#B392F0\">│\u003C/span>\u003Cspan style=\"color:#9ECBFF\">   ├──\u003C/span>\u003Cspan style=\"color:#9ECBFF\"> bun.lock.b\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#F97583\">|\u003C/span>\u003Cspan style=\"color:#B392F0\">   ├──\u003C/span>\u003Cspan style=\"color:#9ECBFF\"> package.json\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#B392F0\">│\u003C/span>\u003Cspan style=\"color:#9ECBFF\">   ├──\u003C/span>\u003Cspan style=\"color:#9ECBFF\"> README.md\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#B392F0\">│\u003C/span>\u003Cspan style=\"color:#9ECBFF\">   ├──\u003C/span>\u003Cspan style=\"color:#9ECBFF\"> tsconfig.json\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#B392F0\">│\u003C/span>\u003Cspan style=\"color:#9ECBFF\">   └──\u003C/span>\u003Cspan style=\"color:#9ECBFF\"> yarn.lock\u003C/span>\u003C/span>\u003C/code>\u003C/pre>\n\u003Cp>We want to be able to return static files from our server, so lets go ahead and add the following \u003Cstrong>Elysia\u003C/strong> static plugin.\u003C/p>\n\u003Cpre class=\"astro-code github-dark\" style=\"background-color:#24292e;color:#e1e4e8; overflow-x: auto;\" tabindex=\"0\" data-language=\"bash\">\u003Ccode>\u003Cspan class=\"line\">\u003Cspan style=\"color:#B392F0\">bun\u003C/span>\u003Cspan style=\"color:#9ECBFF\"> add\u003C/span>\u003Cspan style=\"color:#9ECBFF\"> @elysiajs/static\u003C/span>\u003C/span>\u003C/code>\u003C/pre>\n\u003Cp>This will allow the client to request static files from our server such as images, css, js, etc. Now replace the contents of your \u003Ccode>src/index.ts\u003C/code> file with\u003C/p>\n\u003Cpre class=\"astro-code github-dark\" style=\"background-color:#24292e;color:#e1e4e8; overflow-x: auto;\" tabindex=\"0\" data-language=\"ts\">\u003Ccode>\u003Cspan class=\"line\">\u003Cspan style=\"color:#6A737D\">// src/index.ts\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#F97583\">import\u003C/span>\u003Cspan style=\"color:#E1E4E8\"> { Elysia } \u003C/span>\u003Cspan style=\"color:#F97583\">from\u003C/span>\u003Cspan style=\"color:#9ECBFF\"> 'elysia'\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#F97583\">import\u003C/span>\u003Cspan style=\"color:#E1E4E8\"> { staticPlugin } \u003C/span>\u003Cspan style=\"color:#F97583\">from\u003C/span>\u003Cspan style=\"color:#9ECBFF\"> '@elysiajs/static'\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#F97583\">const\u003C/span>\u003Cspan style=\"color:#79B8FF\"> app\u003C/span>\u003Cspan style=\"color:#F97583\"> =\u003C/span>\u003Cspan style=\"color:#F97583\"> new\u003C/span>\u003Cspan style=\"color:#B392F0\"> Elysia\u003C/span>\u003Cspan style=\"color:#E1E4E8\">()\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">  .\u003C/span>\u003Cspan style=\"color:#B392F0\">use\u003C/span>\u003Cspan style=\"color:#E1E4E8\">(\u003C/span>\u003Cspan style=\"color:#B392F0\">staticPlugin\u003C/span>\u003Cspan style=\"color:#E1E4E8\">())\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">  .\u003C/span>\u003Cspan style=\"color:#B392F0\">get\u003C/span>\u003Cspan style=\"color:#E1E4E8\">(\u003C/span>\u003Cspan style=\"color:#9ECBFF\">'/'\u003C/span>\u003Cspan style=\"color:#E1E4E8\">, () \u003C/span>\u003Cspan style=\"color:#F97583\">=>\u003C/span>\u003Cspan style=\"color:#E1E4E8\"> {\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#F97583\">    return\u003C/span>\u003Cspan style=\"color:#9ECBFF\"> 'Our first route'\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">  })\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">  .\u003C/span>\u003Cspan style=\"color:#B392F0\">listen\u003C/span>\u003Cspan style=\"color:#E1E4E8\">(\u003C/span>\u003Cspan style=\"color:#79B8FF\">3000\u003C/span>\u003Cspan style=\"color:#E1E4E8\">)\u003C/span>\u003C/span>\u003C/code>\u003C/pre>\n\u003Cp>The static plugin default folder is public, and registered with \u003Ccode>/public\u003C/code> prefix. \u003Ca href=\"https://elysiajs.com/plugins/static.html\">Click here to learn more\u003C/a>\u003C/p>\n\u003Ch2 id=\"react-setup\">React Setup\u003C/h2>\n\u003Cp>The next thing we want to do is be able to render our React code on the server, so let’s go ahead and add the following dependencies\u003C/p>\n\u003Cpre class=\"astro-code github-dark\" style=\"background-color:#24292e;color:#e1e4e8; overflow-x: auto;\" tabindex=\"0\" data-language=\"bash\">\u003Ccode>\u003Cspan class=\"line\">\u003Cspan style=\"color:#B392F0\">bun\u003C/span>\u003Cspan style=\"color:#9ECBFF\"> add\u003C/span>\u003Cspan style=\"color:#9ECBFF\"> react\u003C/span>\u003Cspan style=\"color:#9ECBFF\"> react-dom\u003C/span>\u003Cspan style=\"color:#6A737D\">  # article is using 18.2.0\u003C/span>\u003C/span>\u003C/code>\u003C/pre>\n\u003Cp>Next let’s create our React application by adding a file called \u003Ccode>App.tsx\u003C/code> in our \u003Ccode>./src/react/\u003C/code> folder with the following code\u003C/p>\n\u003Cpre class=\"astro-code github-dark\" style=\"background-color:#24292e;color:#e1e4e8; overflow-x: auto;\" tabindex=\"0\" data-language=\"tsx\">\u003Ccode>\u003Cspan class=\"line\">\u003Cspan style=\"color:#6A737D\">// src/react/App.tsx\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#F97583\">import\u003C/span>\u003Cspan style=\"color:#E1E4E8\"> React, { useState } \u003C/span>\u003Cspan style=\"color:#F97583\">from\u003C/span>\u003Cspan style=\"color:#9ECBFF\"> 'react'\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#F97583\">export\u003C/span>\u003Cspan style=\"color:#F97583\"> default\u003C/span>\u003Cspan style=\"color:#F97583\"> function\u003C/span>\u003Cspan style=\"color:#B392F0\"> App\u003C/span>\u003Cspan style=\"color:#E1E4E8\">() {\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#F97583\">  const\u003C/span>\u003Cspan style=\"color:#E1E4E8\"> [\u003C/span>\u003Cspan style=\"color:#79B8FF\">count\u003C/span>\u003Cspan style=\"color:#E1E4E8\">, \u003C/span>\u003Cspan style=\"color:#79B8FF\">setCount\u003C/span>\u003Cspan style=\"color:#E1E4E8\">] \u003C/span>\u003Cspan style=\"color:#F97583\">=\u003C/span>\u003Cspan style=\"color:#B392F0\"> useState\u003C/span>\u003Cspan style=\"color:#E1E4E8\">(\u003C/span>\u003Cspan style=\"color:#79B8FF\">0\u003C/span>\u003Cspan style=\"color:#E1E4E8\">)\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#F97583\">  return\u003C/span>\u003Cspan style=\"color:#E1E4E8\"> (\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">    &#x3C;\u003C/span>\u003Cspan style=\"color:#85E89D\">html\u003C/span>\u003Cspan style=\"color:#E1E4E8\">>\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">      &#x3C;\u003C/span>\u003Cspan style=\"color:#85E89D\">head\u003C/span>\u003Cspan style=\"color:#E1E4E8\">>\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">        &#x3C;\u003C/span>\u003Cspan style=\"color:#85E89D\">meta\u003C/span>\u003Cspan style=\"color:#B392F0\"> charSet\u003C/span>\u003Cspan style=\"color:#F97583\">=\u003C/span>\u003Cspan style=\"color:#9ECBFF\">\"utf-8\"\u003C/span>\u003Cspan style=\"color:#E1E4E8\"> />\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">        &#x3C;\u003C/span>\u003Cspan style=\"color:#85E89D\">title\u003C/span>\u003Cspan style=\"color:#E1E4E8\">>Bun, Elysia &#x26; React&#x3C;/\u003C/span>\u003Cspan style=\"color:#85E89D\">title\u003C/span>\u003Cspan style=\"color:#E1E4E8\">>\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">        &#x3C;\u003C/span>\u003Cspan style=\"color:#85E89D\">meta\u003C/span>\u003Cspan style=\"color:#B392F0\"> name\u003C/span>\u003Cspan style=\"color:#F97583\">=\u003C/span>\u003Cspan style=\"color:#9ECBFF\">\"description\"\u003C/span>\u003Cspan style=\"color:#B392F0\"> content\u003C/span>\u003Cspan style=\"color:#F97583\">=\u003C/span>\u003Cspan style=\"color:#9ECBFF\">\"Bun, Elysia &#x26; React\"\u003C/span>\u003Cspan style=\"color:#E1E4E8\"> />\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">        &#x3C;\u003C/span>\u003Cspan style=\"color:#85E89D\">meta\u003C/span>\u003Cspan style=\"color:#B392F0\"> name\u003C/span>\u003Cspan style=\"color:#F97583\">=\u003C/span>\u003Cspan style=\"color:#9ECBFF\">\"viewport\"\u003C/span>\u003Cspan style=\"color:#B392F0\"> content\u003C/span>\u003Cspan style=\"color:#F97583\">=\u003C/span>\u003Cspan style=\"color:#9ECBFF\">\"width=device-width, initial-scale=1\"\u003C/span>\u003Cspan style=\"color:#E1E4E8\"> />\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">      &#x3C;/\u003C/span>\u003Cspan style=\"color:#85E89D\">head\u003C/span>\u003Cspan style=\"color:#E1E4E8\">>\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">      &#x3C;\u003C/span>\u003Cspan style=\"color:#85E89D\">body\u003C/span>\u003Cspan style=\"color:#E1E4E8\">>\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">        &#x3C;\u003C/span>\u003Cspan style=\"color:#85E89D\">h1\u003C/span>\u003Cspan style=\"color:#E1E4E8\">>Counter {count}&#x3C;/\u003C/span>\u003Cspan style=\"color:#85E89D\">h1\u003C/span>\u003Cspan style=\"color:#E1E4E8\">>\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">        &#x3C;\u003C/span>\u003Cspan style=\"color:#85E89D\">button\u003C/span>\u003Cspan style=\"color:#B392F0\"> onClick\u003C/span>\u003Cspan style=\"color:#F97583\">=\u003C/span>\u003Cspan style=\"color:#E1E4E8\">{() \u003C/span>\u003Cspan style=\"color:#F97583\">=>\u003C/span>\u003Cspan style=\"color:#B392F0\"> setCount\u003C/span>\u003Cspan style=\"color:#E1E4E8\">(count \u003C/span>\u003Cspan style=\"color:#F97583\">+\u003C/span>\u003Cspan style=\"color:#79B8FF\"> 1\u003C/span>\u003Cspan style=\"color:#E1E4E8\">)}>Increment&#x3C;/\u003C/span>\u003Cspan style=\"color:#85E89D\">button\u003C/span>\u003Cspan style=\"color:#E1E4E8\">>\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">      &#x3C;/\u003C/span>\u003Cspan style=\"color:#85E89D\">body\u003C/span>\u003Cspan style=\"color:#E1E4E8\">>\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">    &#x3C;/\u003C/span>\u003Cspan style=\"color:#85E89D\">html\u003C/span>\u003Cspan style=\"color:#E1E4E8\">>\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">  )\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">}\u003C/span>\u003C/span>\u003C/code>\u003C/pre>\n\u003Cp>\u003Ca href=\"https://react.dev/reference/react-dom/server/renderToReadableStream\">React server-side rendering documentation\u003C/a>\u003C/p>\n\u003Cp>Now back in our \u003Ccode>./src/index.ts\u003C/code> let’s import this component by adding the following line\u003C/p>\n\u003Cpre class=\"astro-code github-dark\" style=\"background-color:#24292e;color:#e1e4e8; overflow-x: auto;\" tabindex=\"0\" data-language=\"ts\">\u003Ccode>\u003Cspan class=\"line\">\u003Cspan style=\"color:#6A737D\">// src/index.ts\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#F97583\">import\u003C/span>\u003Cspan style=\"color:#E1E4E8\"> App \u003C/span>\u003Cspan style=\"color:#F97583\">from\u003C/span>\u003Cspan style=\"color:#9ECBFF\"> './react/App'\u003C/span>\u003C/span>\u003C/code>\u003C/pre>\n\u003Cp>Don’t worry if you see a type error, we will fix in the next section.\u003C/p>\n\u003Ch2 id=\"fixing-type-errors\">Fixing Type Errors\u003C/h2>\n\u003Cp>At this point you should see a couple type errors since we haven’t specified how our project should handle JSX and React types. To fix this add the following dev dependencies\u003C/p>\n\u003Cpre class=\"astro-code github-dark\" style=\"background-color:#24292e;color:#e1e4e8; overflow-x: auto;\" tabindex=\"0\" data-language=\"bash\">\u003Ccode>\u003Cspan class=\"line\">\u003Cspan style=\"color:#B392F0\">bun\u003C/span>\u003Cspan style=\"color:#9ECBFF\"> add\u003C/span>\u003Cspan style=\"color:#79B8FF\"> -d\u003C/span>\u003Cspan style=\"color:#9ECBFF\"> @types/react\u003C/span>\u003Cspan style=\"color:#9ECBFF\"> @types/react-dom\u003C/span>\u003C/span>\u003C/code>\u003C/pre>\n\u003Cp>Next let’s specify how the project should handle \u003Cstrong>JSX\u003C/strong> by opening our \u003Ccode>./tsconfig.json\u003C/code> and setting the following options\u003C/p>\n\u003Cpre class=\"astro-code github-dark\" style=\"background-color:#24292e;color:#e1e4e8; overflow-x: auto;\" tabindex=\"0\" data-language=\"json\">\u003Ccode>\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">{\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#79B8FF\">  \"jsx\"\u003C/span>\u003Cspan style=\"color:#E1E4E8\">: \u003C/span>\u003Cspan style=\"color:#9ECBFF\">\"react\"\u003C/span>\u003Cspan style=\"color:#E1E4E8\">,\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#79B8FF\">  \"jsxFactory\"\u003C/span>\u003Cspan style=\"color:#E1E4E8\">: \u003C/span>\u003Cspan style=\"color:#9ECBFF\">\"React.createElement\"\u003C/span>\u003Cspan style=\"color:#E1E4E8\">,\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#79B8FF\">  \"jsxFragmentFactory\"\u003C/span>\u003Cspan style=\"color:#E1E4E8\">: \u003C/span>\u003Cspan style=\"color:#9ECBFF\">\"React.Fragment\"\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">}\u003C/span>\u003C/span>\u003C/code>\u003C/pre>\n\u003Cp>For more information refer to the \u003Ca href=\"https://bun.sh/docs/runtime/jsx\">Bun JSX documentation\u003C/a>. The type errors should now be gone, but sometimes you need to restart your IDE for the changes to take effect; \u003Cem>looking at you VSCode\u003C/em>…\u003C/p>\n\u003Ch2 id=\"react-ssr\">React SSR\u003C/h2>\n\u003Cp>Now back in our \u003Ccode>./src/index.ts\u003C/code> let’s go ahead and render our React component by adding the following\u003C/p>\n\u003Cpre class=\"astro-code github-dark\" style=\"background-color:#24292e;color:#e1e4e8; overflow-x: auto;\" tabindex=\"0\" data-language=\"ts\">\u003Ccode>\u003Cspan class=\"line\">\u003Cspan style=\"color:#6A737D\">// src/index.ts\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#F97583\">import\u003C/span>\u003Cspan style=\"color:#E1E4E8\"> { Elysia } \u003C/span>\u003Cspan style=\"color:#F97583\">from\u003C/span>\u003Cspan style=\"color:#9ECBFF\"> 'elysia'\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#F97583\">import\u003C/span>\u003Cspan style=\"color:#E1E4E8\"> { staticPlugin } \u003C/span>\u003Cspan style=\"color:#F97583\">from\u003C/span>\u003Cspan style=\"color:#9ECBFF\"> '@elysiajs/static'\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#F97583\">import\u003C/span>\u003Cspan style=\"color:#E1E4E8\"> { renderToReadableStream } \u003C/span>\u003Cspan style=\"color:#F97583\">from\u003C/span>\u003Cspan style=\"color:#9ECBFF\"> 'react-dom/server'\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#F97583\">import\u003C/span>\u003Cspan style=\"color:#E1E4E8\"> { createElement } \u003C/span>\u003Cspan style=\"color:#F97583\">from\u003C/span>\u003Cspan style=\"color:#9ECBFF\"> 'react'\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#F97583\">import\u003C/span>\u003Cspan style=\"color:#E1E4E8\"> App \u003C/span>\u003Cspan style=\"color:#F97583\">from\u003C/span>\u003Cspan style=\"color:#9ECBFF\"> './react/App'\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#F97583\">const\u003C/span>\u003Cspan style=\"color:#79B8FF\"> app\u003C/span>\u003Cspan style=\"color:#F97583\"> =\u003C/span>\u003Cspan style=\"color:#F97583\"> new\u003C/span>\u003Cspan style=\"color:#B392F0\"> Elysia\u003C/span>\u003Cspan style=\"color:#E1E4E8\">()\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">  .\u003C/span>\u003Cspan style=\"color:#B392F0\">use\u003C/span>\u003Cspan style=\"color:#E1E4E8\">(\u003C/span>\u003Cspan style=\"color:#B392F0\">staticPlugin\u003C/span>\u003Cspan style=\"color:#E1E4E8\">())\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">  .\u003C/span>\u003Cspan style=\"color:#B392F0\">get\u003C/span>\u003Cspan style=\"color:#E1E4E8\">(\u003C/span>\u003Cspan style=\"color:#9ECBFF\">'/'\u003C/span>\u003Cspan style=\"color:#E1E4E8\">, \u003C/span>\u003Cspan style=\"color:#F97583\">async\u003C/span>\u003Cspan style=\"color:#E1E4E8\"> () \u003C/span>\u003Cspan style=\"color:#F97583\">=>\u003C/span>\u003Cspan style=\"color:#E1E4E8\"> {\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#6A737D\">    // create our react App component\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#F97583\">    const\u003C/span>\u003Cspan style=\"color:#79B8FF\"> app\u003C/span>\u003Cspan style=\"color:#F97583\"> =\u003C/span>\u003Cspan style=\"color:#B392F0\"> createElement\u003C/span>\u003Cspan style=\"color:#E1E4E8\">(App)\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#6A737D\">    // render the app component to a readable stream\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#F97583\">    const\u003C/span>\u003Cspan style=\"color:#79B8FF\"> stream\u003C/span>\u003Cspan style=\"color:#F97583\"> =\u003C/span>\u003Cspan style=\"color:#F97583\"> await\u003C/span>\u003Cspan style=\"color:#B392F0\"> renderToReadableStream\u003C/span>\u003Cspan style=\"color:#E1E4E8\">(app, {\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">      bootstrapScripts: [\u003C/span>\u003Cspan style=\"color:#9ECBFF\">'/public/index.js'\u003C/span>\u003Cspan style=\"color:#E1E4E8\">],\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">    })\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#6A737D\">    // output the stream as the response\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#F97583\">    return\u003C/span>\u003Cspan style=\"color:#F97583\"> new\u003C/span>\u003Cspan style=\"color:#B392F0\"> Response\u003C/span>\u003Cspan style=\"color:#E1E4E8\">(stream, {\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">      headers: { \u003C/span>\u003Cspan style=\"color:#9ECBFF\">'Content-Type'\u003C/span>\u003Cspan style=\"color:#E1E4E8\">: \u003C/span>\u003Cspan style=\"color:#9ECBFF\">'text/html'\u003C/span>\u003Cspan style=\"color:#E1E4E8\"> },\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">    })\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">  })\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">  .\u003C/span>\u003Cspan style=\"color:#B392F0\">listen\u003C/span>\u003Cspan style=\"color:#E1E4E8\">(\u003C/span>\u003Cspan style=\"color:#79B8FF\">3000\u003C/span>\u003Cspan style=\"color:#E1E4E8\">)\u003C/span>\u003C/span>\u003C/code>\u003C/pre>\n\u003Cp>Make sure your local dev server is still running if you closed your IDE earlier by running the following from your project root\u003C/p>\n\u003Cpre class=\"astro-code github-dark\" style=\"background-color:#24292e;color:#e1e4e8; overflow-x: auto;\" tabindex=\"0\" data-language=\"bash\">\u003Ccode>\u003Cspan class=\"line\">\u003Cspan style=\"color:#B392F0\">bun\u003C/span>\u003Cspan style=\"color:#9ECBFF\"> run\u003C/span>\u003Cspan style=\"color:#9ECBFF\"> dev\u003C/span>\u003C/span>\u003C/code>\u003C/pre>\n\u003Cp>Then open \u003Ca href=\"http://localhost:3000\">http://localhost:3000\u003C/a> in your browser and you should see the following\u003C/p>\n\u003Cimg src=\"/images/ssr-example.png\" style=\"box-shadow: 0px 1px 5px rgba(0,0,0,0.1);\" alt=\"React SSR\" width=\"100%\">\n\u003Cp>However, you may notice that pressing the button doesn’t increment the counter. This is because we haven’t added any client-side code yet. Let’s go ahead and do that now. Create a new file called \u003Ccode>index.tsx\u003C/code> in your \u003Ccode>./react/\u003C/code> folder with the following code\u003C/p>\n\u003Cpre class=\"astro-code github-dark\" style=\"background-color:#24292e;color:#e1e4e8; overflow-x: auto;\" tabindex=\"0\" data-language=\"tsx\">\u003Ccode>\u003Cspan class=\"line\">\u003Cspan style=\"color:#6A737D\">// src/react/index.tsx\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#6A737D\">// Make sure to include the following two lines:\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#6A737D\">/// &#x3C;\u003C/span>\u003Cspan style=\"color:#85E89D\">reference\u003C/span>\u003Cspan style=\"color:#B392F0\"> lib\u003C/span>\u003Cspan style=\"color:#F97583\">=\u003C/span>\u003Cspan style=\"color:#9ECBFF\">\"dom\"\u003C/span>\u003Cspan style=\"color:#6A737D\"> />\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#6A737D\">/// &#x3C;\u003C/span>\u003Cspan style=\"color:#85E89D\">reference\u003C/span>\u003Cspan style=\"color:#B392F0\"> lib\u003C/span>\u003Cspan style=\"color:#F97583\">=\u003C/span>\u003Cspan style=\"color:#9ECBFF\">\"dom.iterable\"\u003C/span>\u003Cspan style=\"color:#6A737D\"> />\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#F97583\">import\u003C/span>\u003Cspan style=\"color:#E1E4E8\"> React \u003C/span>\u003Cspan style=\"color:#F97583\">from\u003C/span>\u003Cspan style=\"color:#9ECBFF\"> 'react'\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#F97583\">import\u003C/span>\u003Cspan style=\"color:#E1E4E8\"> { hydrateRoot } \u003C/span>\u003Cspan style=\"color:#F97583\">from\u003C/span>\u003Cspan style=\"color:#9ECBFF\"> 'react-dom/client'\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#F97583\">import\u003C/span>\u003Cspan style=\"color:#E1E4E8\"> App \u003C/span>\u003Cspan style=\"color:#F97583\">from\u003C/span>\u003Cspan style=\"color:#9ECBFF\"> './App.js'\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#B392F0\">hydrateRoot\u003C/span>\u003Cspan style=\"color:#E1E4E8\">(document, &#x3C;\u003C/span>\u003Cspan style=\"color:#79B8FF\">App\u003C/span>\u003Cspan style=\"color:#E1E4E8\"> />)\u003C/span>\u003C/span>\u003C/code>\u003C/pre>\n\u003Cp>Normally this is where we would call \u003Ccode>createRoot\u003C/code>, but since the root will be created on the server, all we need to do is hydrate the client after the initial load. This will attach event listeners to the server-generated HTML and make it interactive.\u003C/p>\n\u003Cp>\u003Ca href=\"https://react.dev/reference/react-dom/client/hydrateRoot\">React Hydrate Documentation\u003C/a>\u003C/p>\n\u003Cpre class=\"astro-code github-dark\" style=\"background-color:#24292e;color:#e1e4e8; overflow-x: auto;\" tabindex=\"0\" data-language=\"ts\">\u003Ccode>\u003Cspan class=\"line\">\u003Cspan style=\"color:#6A737D\">/// &#x3C;\u003C/span>\u003Cspan style=\"color:#85E89D\">reference\u003C/span>\u003Cspan style=\"color:#B392F0\"> lib\u003C/span>\u003Cspan style=\"color:#F97583\">=\u003C/span>\u003Cspan style=\"color:#9ECBFF\">\"dom\"\u003C/span>\u003Cspan style=\"color:#6A737D\"> />\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#6A737D\">/// &#x3C;\u003C/span>\u003Cspan style=\"color:#85E89D\">reference\u003C/span>\u003Cspan style=\"color:#B392F0\"> lib\u003C/span>\u003Cspan style=\"color:#F97583\">=\u003C/span>\u003Cspan style=\"color:#9ECBFF\">\"dom.iterable\"\u003C/span>\u003Cspan style=\"color:#6A737D\"> />\u003C/span>\u003C/span>\u003C/code>\u003C/pre>\n\u003Cp>Note these two lines above are not comments, but rather \u003Ca href=\"https://www.typescriptlang.org/docs/handbook/triple-slash-directives.html\">Triple-Slash Directives\u003C/a>. These are used to tell the TypeScript compiler how to handle certain files. In this case, we are telling the compiler to include the DOM types in our project. This is necessary because the \u003Ccode>hydrateRoot\u003C/code> function requires the DOM types to be present (i.e. \u003Ccode>document\u003C/code>).\u003C/p>\n\u003Cp>If you wish to access DOM elements (\u003Ccode>window\u003C/code>, \u003Ccode>document\u003C/code>, etc.) in another file just add these directives at the top of the file.\u003C/p>\n\u003Cp>\u003Ca href=\"https://stackoverflow.com/a/75726039/4326715\">How to add DOM types in Bun\u003C/a>\u003C/p>\n\u003Ch2 id=\"bundle-client-js\">Bundle Client JS\u003C/h2>\n\u003Cp>We are almost there! The last step is to bundle our \u003Ccode>react\u003C/code> code which will be loaded by the client. Luckily \u003Cstrong>Bun\u003C/strong> has a built-in bundler which we can use to bundle our client-side code. We could do this via the command line or as a script in our \u003Ccode>package.json\u003C/code>, but for this example we will do it programmatically in our \u003Ccode>./src/index.ts\u003C/code> file, just add the following at the top of the file\u003C/p>\n\u003Cpre class=\"astro-code github-dark\" style=\"background-color:#24292e;color:#e1e4e8; overflow-x: auto;\" tabindex=\"0\" data-language=\"ts\">\u003Ccode>\u003Cspan class=\"line\">\u003Cspan style=\"color:#6A737D\">// src/index.ts\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#F97583\">await\u003C/span>\u003Cspan style=\"color:#E1E4E8\"> Bun.\u003C/span>\u003Cspan style=\"color:#B392F0\">build\u003C/span>\u003Cspan style=\"color:#E1E4E8\">({\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">  entrypoints: [\u003C/span>\u003Cspan style=\"color:#9ECBFF\">'./src/react/index.tsx'\u003C/span>\u003Cspan style=\"color:#E1E4E8\">],\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">  outdir: \u003C/span>\u003Cspan style=\"color:#9ECBFF\">'./public'\u003C/span>\u003Cspan style=\"color:#E1E4E8\">,\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">})\u003C/span>\u003C/span>\u003C/code>\u003C/pre>\n\u003Cdiv style=\"text-align: center;\">\u003Csub>That's right top level await!\u003C/sub>\u003C/div>\n\u003Cp>Now our \u003Cstrong>React\u003C/strong> code will be automatically bundled each time we start our server! You can verify this by checking if the \u003Ccode>./public/index.js\u003C/code> file exists. Make sure that this file path matches the \u003Ccode>bootstrapScripts\u003C/code> option in your \u003Ccode>./src/index.ts\u003C/code> file.\u003C/p>\n\u003Cpre class=\"astro-code github-dark\" style=\"background-color:#24292e;color:#e1e4e8; overflow-x: auto;\" tabindex=\"0\" data-language=\"ts\">\u003Ccode>\u003Cspan class=\"line\">\u003Cspan style=\"color:#6A737D\">// Make sure the bootstrapScripts matches the output\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#6A737D\">// file path in your ./public folder\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#F97583\">const\u003C/span>\u003Cspan style=\"color:#79B8FF\"> stream\u003C/span>\u003Cspan style=\"color:#F97583\"> =\u003C/span>\u003Cspan style=\"color:#F97583\"> await\u003C/span>\u003Cspan style=\"color:#B392F0\"> renderToReadableStream\u003C/span>\u003Cspan style=\"color:#E1E4E8\">(app, {\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">  bootstrapScripts: [\u003C/span>\u003Cspan style=\"color:#9ECBFF\">'/public/index.js'\u003C/span>\u003Cspan style=\"color:#E1E4E8\">],\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">})\u003C/span>\u003C/span>\u003C/code>\u003C/pre>\n\u003Cp>Now open \u003Ca href=\"http://localhost:3000\">http://localhost:3000\u003C/a> in your browser, the counter should now be working!\u003C/p>\n\u003Ch2 id=\"conclusion\">Conclusion\u003C/h2>\n\u003Cp>Congratulations you have just created a simple website using Bun, Elysia and React with support for server-side rendering!\u003C/p>\n\u003Cp>If you have any additional questions feel free to reach out to me on \u003Ca href=\"https://twitter.com/asleepace\">Twitter\u003C/a> or dropping me an email at \u003Ca href=\"mailto:colin@asleepace.com\">colin@asleepace.com\u003C/a> :)\u003C/p>\n\u003Cp>\u003Cstrong>Next Recommended Reading\u003C/strong>\u003C/p>\n\u003Cul>\n\u003Cli>\u003Ca href=\"https://react.dev/reference/react/Suspense\">React Readable Streams\u003C/a>\u003C/li>\n\u003Cli>\u003Ca href=\"https://react.dev/reference/react/Suspense\">React Suspense\u003C/a>\u003C/li>\n\u003C/ul>\n\u003Ch2 id=\"helpful-resources\">Helpful Resources\u003C/h2>\n\u003Cp>The following links are helpful resources for learning more about the technologies used in this project:\u003C/p>\n\u003Cul>\n\u003Cli>\u003Ca href=\"https://elysiajs.com/plugins/static.html\">How to server static files with Elysia\u003C/a>\u003C/li>\n\u003Cli>\u003Ca href=\"https://elysiajs.com/quick-start.html\">How to create a simple website with Elysia\u003C/a>\u003C/li>\n\u003Cli>\u003Ca href=\"https://stackoverflow.com/a/75726039/4326715\">How to configure Bun with DOM types\u003C/a>\u003C/li>\n\u003Cli>\u003Ca href=\"https://bun.sh/docs/runtime/jsx\">How to configure Bun with JSX documentation\u003C/a>\u003C/li>\n\u003Cli>\u003Ca href=\"https://bun.sh/docs/bundler\">How to bundle assets with Bun documentation\u003C/a>\u003C/li>\n\u003Cli>\u003Ca href=\"https://react.dev/reference/react-dom/server/renderToReadableStream\">How to render react on the server\u003C/a>\u003C/li>\n\u003C/ul>\n\u003Cp>If you have any additional questions feel free to reach out to me on \u003Ca href=\"https://twitter.com/asleepace\">Twitter\u003C/a> or dropping me an \u003Ca href=\"mailto:colin@asleepace.com\">email\u003C/a>.\u003C/p>\n\u003Ch2 id=\"tldr\">TL;DR\u003C/h2>\n\u003Cp>Here is the final code from the article, you can also view this project on \u003Ca href=\"https://github.com/asleepace/bun-elysia-react-srr-example\">GitHub\u003C/a>.\u003C/p>\n\u003Ch4 id=\"project-structure-1\">Project Structure\u003C/h4>\n\u003Cpre class=\"astro-code github-dark\" style=\"background-color:#24292e;color:#e1e4e8; overflow-x: auto;\" tabindex=\"0\" data-language=\"bash\">\u003Ccode>\u003Cspan class=\"line\">\u003Cspan style=\"color:#B392F0\">├──\u003C/span>\u003Cspan style=\"color:#9ECBFF\"> ./your-project-name\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#B392F0\">│\u003C/span>\u003Cspan style=\"color:#9ECBFF\">   ├──\u003C/span>\u003Cspan style=\"color:#9ECBFF\"> node_modules\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#B392F0\">│\u003C/span>\u003Cspan style=\"color:#9ECBFF\">   ├──\u003C/span>\u003Cspan style=\"color:#9ECBFF\"> public\u003C/span>\u003Cspan style=\"color:#6A737D\">              # client-side static files\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#B392F0\">│\u003C/span>\u003Cspan style=\"color:#9ECBFF\">   │\u003C/span>\u003Cspan style=\"color:#9ECBFF\">   └──\u003C/span>\u003Cspan style=\"color:#9ECBFF\"> index.js\u003C/span>\u003Cspan style=\"color:#6A737D\">        # generated client bundle\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#B392F0\">│\u003C/span>\u003Cspan style=\"color:#9ECBFF\">   ├──\u003C/span>\u003Cspan style=\"color:#9ECBFF\"> src\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#B392F0\">│\u003C/span>\u003Cspan style=\"color:#9ECBFF\">   │\u003C/span>\u003Cspan style=\"color:#9ECBFF\">   ├──\u003C/span>\u003Cspan style=\"color:#9ECBFF\"> react\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#B392F0\">│\u003C/span>\u003Cspan style=\"color:#9ECBFF\">   │\u003C/span>\u003Cspan style=\"color:#9ECBFF\">   │\u003C/span>\u003Cspan style=\"color:#9ECBFF\">   ├──\u003C/span>\u003Cspan style=\"color:#9ECBFF\"> App.tsx\u003C/span>\u003Cspan style=\"color:#6A737D\">     # react application\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#B392F0\">│\u003C/span>\u003Cspan style=\"color:#9ECBFF\">   │\u003C/span>\u003Cspan style=\"color:#9ECBFF\">   │\u003C/span>\u003Cspan style=\"color:#9ECBFF\">   └──\u003C/span>\u003Cspan style=\"color:#9ECBFF\"> index.tsx\u003C/span>\u003Cspan style=\"color:#6A737D\">   # client-side entry point\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#B392F0\">│\u003C/span>\u003Cspan style=\"color:#9ECBFF\">   │\u003C/span>\u003Cspan style=\"color:#9ECBFF\">   └──\u003C/span>\u003Cspan style=\"color:#9ECBFF\"> index.ts\u003C/span>\u003Cspan style=\"color:#6A737D\">        # server-side entry point\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#B392F0\">│\u003C/span>\u003Cspan style=\"color:#9ECBFF\">   ├──\u003C/span>\u003Cspan style=\"color:#9ECBFF\"> bun.lock.b\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#B392F0\">│\u003C/span>\u003Cspan style=\"color:#9ECBFF\">   ├──\u003C/span>\u003Cspan style=\"color:#9ECBFF\"> package.json\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#B392F0\">│\u003C/span>\u003Cspan style=\"color:#9ECBFF\">   ├──\u003C/span>\u003Cspan style=\"color:#9ECBFF\"> tsconfig.json\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#B392F0\">│\u003C/span>\u003Cspan style=\"color:#9ECBFF\">   └──\u003C/span>\u003Cspan style=\"color:#9ECBFF\"> yarn.lock\u003C/span>\u003C/span>\u003C/code>\u003C/pre>\n\u003Ch4 id=\"srcindexts\">\u003Cstrong>src/index.ts\u003C/strong>\u003C/h4>\n\u003Cpre class=\"astro-code github-dark\" style=\"background-color:#24292e;color:#e1e4e8; overflow-x: auto;\" tabindex=\"0\" data-language=\"ts\">\u003Ccode>\u003Cspan class=\"line\">\u003Cspan style=\"color:#6A737D\">// src/index.ts\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#F97583\">import\u003C/span>\u003Cspan style=\"color:#E1E4E8\"> { Elysia } \u003C/span>\u003Cspan style=\"color:#F97583\">from\u003C/span>\u003Cspan style=\"color:#9ECBFF\"> 'elysia'\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#F97583\">import\u003C/span>\u003Cspan style=\"color:#E1E4E8\"> { staticPlugin } \u003C/span>\u003Cspan style=\"color:#F97583\">from\u003C/span>\u003Cspan style=\"color:#9ECBFF\"> '@elysiajs/static'\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#F97583\">import\u003C/span>\u003Cspan style=\"color:#E1E4E8\"> { renderToReadableStream } \u003C/span>\u003Cspan style=\"color:#F97583\">from\u003C/span>\u003Cspan style=\"color:#9ECBFF\"> 'react-dom/server'\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#F97583\">import\u003C/span>\u003Cspan style=\"color:#E1E4E8\"> { createElement } \u003C/span>\u003Cspan style=\"color:#F97583\">from\u003C/span>\u003Cspan style=\"color:#9ECBFF\"> 'react'\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#F97583\">import\u003C/span>\u003Cspan style=\"color:#E1E4E8\"> App \u003C/span>\u003Cspan style=\"color:#F97583\">from\u003C/span>\u003Cspan style=\"color:#9ECBFF\"> './react/App'\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#6A737D\">// bundle client side react-code\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#F97583\">await\u003C/span>\u003Cspan style=\"color:#E1E4E8\"> Bun.\u003C/span>\u003Cspan style=\"color:#B392F0\">build\u003C/span>\u003Cspan style=\"color:#E1E4E8\">({\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">  entrypoints: [\u003C/span>\u003Cspan style=\"color:#9ECBFF\">'./src/react/index.tsx'\u003C/span>\u003Cspan style=\"color:#E1E4E8\">],\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">  outdir: \u003C/span>\u003Cspan style=\"color:#9ECBFF\">'./public'\u003C/span>\u003Cspan style=\"color:#E1E4E8\">,\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">})\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#6A737D\">// start a new Elysia server on port 3000\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#F97583\">const\u003C/span>\u003Cspan style=\"color:#79B8FF\"> app\u003C/span>\u003Cspan style=\"color:#F97583\"> =\u003C/span>\u003Cspan style=\"color:#F97583\"> new\u003C/span>\u003Cspan style=\"color:#B392F0\"> Elysia\u003C/span>\u003Cspan style=\"color:#E1E4E8\">()\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">  .\u003C/span>\u003Cspan style=\"color:#B392F0\">use\u003C/span>\u003Cspan style=\"color:#E1E4E8\">(\u003C/span>\u003Cspan style=\"color:#B392F0\">staticPlugin\u003C/span>\u003Cspan style=\"color:#E1E4E8\">())\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">  .\u003C/span>\u003Cspan style=\"color:#B392F0\">get\u003C/span>\u003Cspan style=\"color:#E1E4E8\">(\u003C/span>\u003Cspan style=\"color:#9ECBFF\">'/'\u003C/span>\u003Cspan style=\"color:#E1E4E8\">, \u003C/span>\u003Cspan style=\"color:#F97583\">async\u003C/span>\u003Cspan style=\"color:#E1E4E8\"> () \u003C/span>\u003Cspan style=\"color:#F97583\">=>\u003C/span>\u003Cspan style=\"color:#E1E4E8\"> {\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#6A737D\">    // create our react App component\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#F97583\">    const\u003C/span>\u003Cspan style=\"color:#79B8FF\"> app\u003C/span>\u003Cspan style=\"color:#F97583\"> =\u003C/span>\u003Cspan style=\"color:#B392F0\"> createElement\u003C/span>\u003Cspan style=\"color:#E1E4E8\">(App)\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#6A737D\">    // render the app component to a readable stream\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#F97583\">    const\u003C/span>\u003Cspan style=\"color:#79B8FF\"> stream\u003C/span>\u003Cspan style=\"color:#F97583\"> =\u003C/span>\u003Cspan style=\"color:#F97583\"> await\u003C/span>\u003Cspan style=\"color:#B392F0\"> renderToReadableStream\u003C/span>\u003Cspan style=\"color:#E1E4E8\">(app, {\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">      bootstrapScripts: [\u003C/span>\u003Cspan style=\"color:#9ECBFF\">'/public/index.js'\u003C/span>\u003Cspan style=\"color:#E1E4E8\">],\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">    })\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#6A737D\">    // output the stream as the response\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#F97583\">    return\u003C/span>\u003Cspan style=\"color:#F97583\"> new\u003C/span>\u003Cspan style=\"color:#B392F0\"> Response\u003C/span>\u003Cspan style=\"color:#E1E4E8\">(stream, {\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">      headers: { \u003C/span>\u003Cspan style=\"color:#9ECBFF\">'Content-Type'\u003C/span>\u003Cspan style=\"color:#E1E4E8\">: \u003C/span>\u003Cspan style=\"color:#9ECBFF\">'text/html'\u003C/span>\u003Cspan style=\"color:#E1E4E8\"> },\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">    })\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">  })\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">  .\u003C/span>\u003Cspan style=\"color:#B392F0\">listen\u003C/span>\u003Cspan style=\"color:#E1E4E8\">(\u003C/span>\u003Cspan style=\"color:#79B8FF\">3000\u003C/span>\u003Cspan style=\"color:#E1E4E8\">)\u003C/span>\u003C/span>\u003C/code>\u003C/pre>\n\u003Ch4 id=\"srcreactapptsx\">src/react/App.tsx\u003C/h4>\n\u003Cpre class=\"astro-code github-dark\" style=\"background-color:#24292e;color:#e1e4e8; overflow-x: auto;\" tabindex=\"0\" data-language=\"tsx\">\u003Ccode>\u003Cspan class=\"line\">\u003Cspan style=\"color:#6A737D\">// src/react/App.tsx\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#F97583\">import\u003C/span>\u003Cspan style=\"color:#E1E4E8\"> React, { useState } \u003C/span>\u003Cspan style=\"color:#F97583\">from\u003C/span>\u003Cspan style=\"color:#9ECBFF\"> 'react'\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#F97583\">export\u003C/span>\u003Cspan style=\"color:#F97583\"> default\u003C/span>\u003Cspan style=\"color:#F97583\"> function\u003C/span>\u003Cspan style=\"color:#B392F0\"> App\u003C/span>\u003Cspan style=\"color:#E1E4E8\">() {\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#F97583\">  const\u003C/span>\u003Cspan style=\"color:#E1E4E8\"> [\u003C/span>\u003Cspan style=\"color:#79B8FF\">count\u003C/span>\u003Cspan style=\"color:#E1E4E8\">, \u003C/span>\u003Cspan style=\"color:#79B8FF\">setCount\u003C/span>\u003Cspan style=\"color:#E1E4E8\">] \u003C/span>\u003Cspan style=\"color:#F97583\">=\u003C/span>\u003Cspan style=\"color:#B392F0\"> useState\u003C/span>\u003Cspan style=\"color:#E1E4E8\">(\u003C/span>\u003Cspan style=\"color:#79B8FF\">0\u003C/span>\u003Cspan style=\"color:#E1E4E8\">)\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#F97583\">  return\u003C/span>\u003Cspan style=\"color:#E1E4E8\"> (\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">    &#x3C;\u003C/span>\u003Cspan style=\"color:#85E89D\">html\u003C/span>\u003Cspan style=\"color:#E1E4E8\">>\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">      &#x3C;\u003C/span>\u003Cspan style=\"color:#85E89D\">head\u003C/span>\u003Cspan style=\"color:#E1E4E8\">>\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">        &#x3C;\u003C/span>\u003Cspan style=\"color:#85E89D\">meta\u003C/span>\u003Cspan style=\"color:#B392F0\"> charSet\u003C/span>\u003Cspan style=\"color:#F97583\">=\u003C/span>\u003Cspan style=\"color:#9ECBFF\">\"utf-8\"\u003C/span>\u003Cspan style=\"color:#E1E4E8\"> />\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">        &#x3C;\u003C/span>\u003Cspan style=\"color:#85E89D\">title\u003C/span>\u003Cspan style=\"color:#E1E4E8\">>Bun, Elysia &#x26; React&#x3C;/\u003C/span>\u003Cspan style=\"color:#85E89D\">title\u003C/span>\u003Cspan style=\"color:#E1E4E8\">>\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">        &#x3C;\u003C/span>\u003Cspan style=\"color:#85E89D\">meta\u003C/span>\u003Cspan style=\"color:#B392F0\"> name\u003C/span>\u003Cspan style=\"color:#F97583\">=\u003C/span>\u003Cspan style=\"color:#9ECBFF\">\"description\"\u003C/span>\u003Cspan style=\"color:#B392F0\"> content\u003C/span>\u003Cspan style=\"color:#F97583\">=\u003C/span>\u003Cspan style=\"color:#9ECBFF\">\"Bun, Elysia &#x26; React\"\u003C/span>\u003Cspan style=\"color:#E1E4E8\"> />\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">        &#x3C;\u003C/span>\u003Cspan style=\"color:#85E89D\">meta\u003C/span>\u003Cspan style=\"color:#B392F0\"> name\u003C/span>\u003Cspan style=\"color:#F97583\">=\u003C/span>\u003Cspan style=\"color:#9ECBFF\">\"viewport\"\u003C/span>\u003Cspan style=\"color:#B392F0\"> content\u003C/span>\u003Cspan style=\"color:#F97583\">=\u003C/span>\u003Cspan style=\"color:#9ECBFF\">\"width=device-width, initial-scale=1\"\u003C/span>\u003Cspan style=\"color:#E1E4E8\"> />\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">      &#x3C;/\u003C/span>\u003Cspan style=\"color:#85E89D\">head\u003C/span>\u003Cspan style=\"color:#E1E4E8\">>\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">      &#x3C;\u003C/span>\u003Cspan style=\"color:#85E89D\">body\u003C/span>\u003Cspan style=\"color:#E1E4E8\">>\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">        &#x3C;\u003C/span>\u003Cspan style=\"color:#85E89D\">h1\u003C/span>\u003Cspan style=\"color:#E1E4E8\">>Counter {count}&#x3C;/\u003C/span>\u003Cspan style=\"color:#85E89D\">h1\u003C/span>\u003Cspan style=\"color:#E1E4E8\">>\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">        &#x3C;\u003C/span>\u003Cspan style=\"color:#85E89D\">button\u003C/span>\u003Cspan style=\"color:#B392F0\"> onClick\u003C/span>\u003Cspan style=\"color:#F97583\">=\u003C/span>\u003Cspan style=\"color:#E1E4E8\">{() \u003C/span>\u003Cspan style=\"color:#F97583\">=>\u003C/span>\u003Cspan style=\"color:#B392F0\"> setCount\u003C/span>\u003Cspan style=\"color:#E1E4E8\">(count \u003C/span>\u003Cspan style=\"color:#F97583\">+\u003C/span>\u003Cspan style=\"color:#79B8FF\"> 1\u003C/span>\u003Cspan style=\"color:#E1E4E8\">)}>Increment&#x3C;/\u003C/span>\u003Cspan style=\"color:#85E89D\">button\u003C/span>\u003Cspan style=\"color:#E1E4E8\">>\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">      &#x3C;/\u003C/span>\u003Cspan style=\"color:#85E89D\">body\u003C/span>\u003Cspan style=\"color:#E1E4E8\">>\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">    &#x3C;/\u003C/span>\u003Cspan style=\"color:#85E89D\">html\u003C/span>\u003Cspan style=\"color:#E1E4E8\">>\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">  )\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">}\u003C/span>\u003C/span>\u003C/code>\u003C/pre>\n\u003Ch4 id=\"srcreactindextsx\">src/react/index.tsx\u003C/h4>\n\u003Cpre class=\"astro-code github-dark\" style=\"background-color:#24292e;color:#e1e4e8; overflow-x: auto;\" tabindex=\"0\" data-language=\"tsx\">\u003Ccode>\u003Cspan class=\"line\">\u003Cspan style=\"color:#6A737D\">/// &#x3C;\u003C/span>\u003Cspan style=\"color:#85E89D\">reference\u003C/span>\u003Cspan style=\"color:#B392F0\"> lib\u003C/span>\u003Cspan style=\"color:#F97583\">=\u003C/span>\u003Cspan style=\"color:#9ECBFF\">\"dom\"\u003C/span>\u003Cspan style=\"color:#6A737D\"> />\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#6A737D\">/// &#x3C;\u003C/span>\u003Cspan style=\"color:#85E89D\">reference\u003C/span>\u003Cspan style=\"color:#B392F0\"> lib\u003C/span>\u003Cspan style=\"color:#F97583\">=\u003C/span>\u003Cspan style=\"color:#9ECBFF\">\"dom.iterable\"\u003C/span>\u003Cspan style=\"color:#6A737D\"> />\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#F97583\">import\u003C/span>\u003Cspan style=\"color:#E1E4E8\"> React \u003C/span>\u003Cspan style=\"color:#F97583\">from\u003C/span>\u003Cspan style=\"color:#9ECBFF\"> 'react'\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#F97583\">import\u003C/span>\u003Cspan style=\"color:#E1E4E8\"> { hydrateRoot } \u003C/span>\u003Cspan style=\"color:#F97583\">from\u003C/span>\u003Cspan style=\"color:#9ECBFF\"> 'react-dom/client'\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#F97583\">import\u003C/span>\u003Cspan style=\"color:#E1E4E8\"> App \u003C/span>\u003Cspan style=\"color:#F97583\">from\u003C/span>\u003Cspan style=\"color:#9ECBFF\"> './App.js'\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#B392F0\">hydrateRoot\u003C/span>\u003Cspan style=\"color:#E1E4E8\">(document, &#x3C;\u003C/span>\u003Cspan style=\"color:#79B8FF\">App\u003C/span>\u003Cspan style=\"color:#E1E4E8\"> />)\u003C/span>\u003C/span>\u003C/code>\u003C/pre>\n\u003Ch4 id=\"tsconfigjson\">tsconfig.json\u003C/h4>\n\u003Cpre class=\"astro-code github-dark\" style=\"background-color:#24292e;color:#e1e4e8; overflow-x: auto;\" tabindex=\"0\" data-language=\"json\">\u003Ccode>\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">{\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#79B8FF\">  \"compilerOptions\"\u003C/span>\u003Cspan style=\"color:#E1E4E8\">: {\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#79B8FF\">    \"target\"\u003C/span>\u003Cspan style=\"color:#E1E4E8\">: \u003C/span>\u003Cspan style=\"color:#9ECBFF\">\"ES2021\"\u003C/span>\u003Cspan style=\"color:#E1E4E8\">,\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#79B8FF\">    \"jsx\"\u003C/span>\u003Cspan style=\"color:#E1E4E8\">: \u003C/span>\u003Cspan style=\"color:#9ECBFF\">\"react\"\u003C/span>\u003Cspan style=\"color:#E1E4E8\">,\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#79B8FF\">    \"jsxFactory\"\u003C/span>\u003Cspan style=\"color:#E1E4E8\">: \u003C/span>\u003Cspan style=\"color:#9ECBFF\">\"React.createElement\"\u003C/span>\u003Cspan style=\"color:#E1E4E8\">,\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#79B8FF\">    \"jsxFragmentFactory\"\u003C/span>\u003Cspan style=\"color:#E1E4E8\">: \u003C/span>\u003Cspan style=\"color:#9ECBFF\">\"React.Fragment\"\u003C/span>\u003Cspan style=\"color:#E1E4E8\">,\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#79B8FF\">    \"module\"\u003C/span>\u003Cspan style=\"color:#E1E4E8\">: \u003C/span>\u003Cspan style=\"color:#9ECBFF\">\"ES2022\"\u003C/span>\u003Cspan style=\"color:#E1E4E8\">,\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#79B8FF\">    \"moduleResolution\"\u003C/span>\u003Cspan style=\"color:#E1E4E8\">: \u003C/span>\u003Cspan style=\"color:#9ECBFF\">\"node\"\u003C/span>\u003Cspan style=\"color:#E1E4E8\">,\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#79B8FF\">    \"types\"\u003C/span>\u003Cspan style=\"color:#E1E4E8\">: [\u003C/span>\u003Cspan style=\"color:#9ECBFF\">\"bun-types\"\u003C/span>\u003Cspan style=\"color:#E1E4E8\">],\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#79B8FF\">    \"esModuleInterop\"\u003C/span>\u003Cspan style=\"color:#E1E4E8\">: \u003C/span>\u003Cspan style=\"color:#79B8FF\">true\u003C/span>\u003Cspan style=\"color:#E1E4E8\">,\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#79B8FF\">    \"forceConsistentCasingInFileNames\"\u003C/span>\u003Cspan style=\"color:#E1E4E8\">: \u003C/span>\u003Cspan style=\"color:#79B8FF\">true\u003C/span>\u003Cspan style=\"color:#E1E4E8\">,\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#79B8FF\">    \"strict\"\u003C/span>\u003Cspan style=\"color:#E1E4E8\">: \u003C/span>\u003Cspan style=\"color:#79B8FF\">true\u003C/span>\u003Cspan style=\"color:#E1E4E8\">,\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#79B8FF\">    \"skipLibCheck\"\u003C/span>\u003Cspan style=\"color:#E1E4E8\">: \u003C/span>\u003Cspan style=\"color:#79B8FF\">true\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">  }\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">}\u003C/span>\u003C/span>\u003C/code>\u003C/pre>\n\u003Ch3 id=\"packagejson\">package.json\u003C/h3>\n\u003Cpre class=\"astro-code github-dark\" style=\"background-color:#24292e;color:#e1e4e8; overflow-x: auto;\" tabindex=\"0\" data-language=\"json\">\u003Ccode>\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">{\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#79B8FF\">  \"name\"\u003C/span>\u003Cspan style=\"color:#E1E4E8\">: \u003C/span>\u003Cspan style=\"color:#9ECBFF\">\"bun-elysia-react-ssr\"\u003C/span>\u003Cspan style=\"color:#E1E4E8\">,\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#79B8FF\">  \"version\"\u003C/span>\u003Cspan style=\"color:#E1E4E8\">: \u003C/span>\u003Cspan style=\"color:#9ECBFF\">\"1.0.0\"\u003C/span>\u003Cspan style=\"color:#E1E4E8\">,\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#79B8FF\">  \"scripts\"\u003C/span>\u003Cspan style=\"color:#E1E4E8\">: {\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#79B8FF\">    \"test\"\u003C/span>\u003Cspan style=\"color:#E1E4E8\">: \u003C/span>\u003Cspan style=\"color:#9ECBFF\">\"echo \u003C/span>\u003Cspan style=\"color:#79B8FF\">\\\"\u003C/span>\u003Cspan style=\"color:#9ECBFF\">Error: no test specified\u003C/span>\u003Cspan style=\"color:#79B8FF\">\\\"\u003C/span>\u003Cspan style=\"color:#9ECBFF\"> &#x26;&#x26; exit 1\"\u003C/span>\u003Cspan style=\"color:#E1E4E8\">,\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#79B8FF\">    \"dev\"\u003C/span>\u003Cspan style=\"color:#E1E4E8\">: \u003C/span>\u003Cspan style=\"color:#9ECBFF\">\"bun run --watch src/index.ts\"\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">  },\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#79B8FF\">  \"dependencies\"\u003C/span>\u003Cspan style=\"color:#E1E4E8\">: {\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#79B8FF\">    \"@elysiajs/static\"\u003C/span>\u003Cspan style=\"color:#E1E4E8\">: \u003C/span>\u003Cspan style=\"color:#9ECBFF\">\"^0.6.0\"\u003C/span>\u003Cspan style=\"color:#E1E4E8\">,\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#79B8FF\">    \"elysia\"\u003C/span>\u003Cspan style=\"color:#E1E4E8\">: \u003C/span>\u003Cspan style=\"color:#9ECBFF\">\"latest\"\u003C/span>\u003Cspan style=\"color:#E1E4E8\">,\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#79B8FF\">    \"react\"\u003C/span>\u003Cspan style=\"color:#E1E4E8\">: \u003C/span>\u003Cspan style=\"color:#9ECBFF\">\"^18.2.0\"\u003C/span>\u003Cspan style=\"color:#E1E4E8\">,\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#79B8FF\">    \"react-dom\"\u003C/span>\u003Cspan style=\"color:#E1E4E8\">: \u003C/span>\u003Cspan style=\"color:#9ECBFF\">\"^18.2.0\"\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">  },\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#79B8FF\">  \"devDependencies\"\u003C/span>\u003Cspan style=\"color:#E1E4E8\">: {\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#79B8FF\">    \"@types/react\"\u003C/span>\u003Cspan style=\"color:#E1E4E8\">: \u003C/span>\u003Cspan style=\"color:#9ECBFF\">\"^18.2.21\"\u003C/span>\u003Cspan style=\"color:#E1E4E8\">,\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#79B8FF\">    \"@types/react-dom\"\u003C/span>\u003Cspan style=\"color:#E1E4E8\">: \u003C/span>\u003Cspan style=\"color:#9ECBFF\">\"^18.2.7\"\u003C/span>\u003Cspan style=\"color:#E1E4E8\">,\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#79B8FF\">    \"bun-types\"\u003C/span>\u003Cspan style=\"color:#E1E4E8\">: \u003C/span>\u003Cspan style=\"color:#9ECBFF\">\"latest\"\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">  },\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#79B8FF\">  \"module\"\u003C/span>\u003Cspan style=\"color:#E1E4E8\">: \u003C/span>\u003Cspan style=\"color:#9ECBFF\">\"src/index.js\"\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">}\u003C/span>\u003C/span>\u003C/code>\u003C/pre>\n\u003Cp>Article and \u003Ca href=\"https://github.com/asleepace/bun-elysia-react-srr-example\">source code\u003C/a> by \u003Ca href=\"https://www.linkedin.com/in/colin-teahan/?lipi=urn%3Ali%3Apage%3Ad_flagship3_feed%3BeM7QoEWiSIOwjiKXlYu0VA%3D%3D\">Colin Teahan\u003C/a>\u003C/p>\n\u003Ch1>🥳\u003C/h1>",{"headings":264,"imagePaths":309,"frontmatter":310},[265,268,271,274,277,280,283,286,289,292,294,297,300,303,306],{"depth":68,"slug":266,"text":267},"pre-requisites","Pre-requisites",{"depth":68,"slug":269,"text":270},"project-structure","Project Structure",{"depth":26,"slug":272,"text":273},"react-setup","React Setup",{"depth":26,"slug":275,"text":276},"fixing-type-errors","Fixing Type Errors",{"depth":26,"slug":278,"text":279},"react-ssr","React SSR",{"depth":26,"slug":281,"text":282},"bundle-client-js","Bundle Client JS",{"depth":26,"slug":284,"text":285},"conclusion","Conclusion",{"depth":26,"slug":287,"text":288},"helpful-resources","Helpful Resources",{"depth":26,"slug":290,"text":291},"tldr","TL;DR",{"depth":157,"slug":293,"text":270},"project-structure-1",{"depth":157,"slug":295,"text":296},"srcindexts","src/index.ts",{"depth":157,"slug":298,"text":299},"srcreactapptsx","src/react/App.tsx",{"depth":157,"slug":301,"text":302},"srcreactindextsx","src/react/index.tsx",{"depth":157,"slug":304,"text":305},"tsconfigjson","tsconfig.json",{"depth":68,"slug":307,"text":308},"packagejson","package.json",[],{"title":254,"description":255,"author":49,"pubDate":311,"heroImage":257,"slug":251},"Sep 13 2023"]